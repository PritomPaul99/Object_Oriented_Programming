"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[46746],{43364:function(a,b,c){c.d(b,{e:function(){return e}});var d=c(37513),e=function(a,b,c){var e="/api/cloud-course-session/".concat(a,"/").concat(b,"/").concat(c);return(0,d.Z)({url:e,type:"POST"})}},86932:function(a,b,c){c.d(b,{"$X":function(){return ak},"$_":function(){return Y},"$q":function(){return ba},Ac:function(){return aK},Ae:function(){return aA},Am:function(){return bN},Az:function(){return a0},BH:function(){return aX},BM:function(){return aL},Bl:function(){return af},CI:function(){return $},D1:function(){return av},De:function(){return a_},E2:function(){return ai},E7:function(){return aH},EX:function(){return bv},Fv:function(){return a$},GW:function(){return ae},Gi:function(){return a5},Ho:function(){return aM},Hv:function(){return bj},IT:function(){return bs},JF:function(){return bf},Jn:function(){return bQ},Jw:function(){return aO},KU:function(){return aF},MC:function(){return as},Mj:function(){return bp},Og:function(){return bz},Ol:function(){return aJ},Ox:function(){return bq},P4:function(){return aG},PB:function(){return au},Pt:function(){return be},Pw:function(){return ag},QL:function(){return aP},S3:function(){return W},Se:function(){return bu},Sr:function(){return X},T0:function(){return bm},T9:function(){return bn},TZ:function(){return bi},UY:function(){return br},Uy:function(){return bF},VA:function(){return aQ},Xe:function(){return bt},YS:function(){return bP},Z:function(){return bA},Z4:function(){return _},Z9:function(){return a1},ZW:function(){return aS},Zj:function(){return bc},"_N":function(){return aC},"_Q":function(){return bx},"_k":function(){return bg},aB:function(){return a6},a_:function(){return aW},bH:function(){return bL},cA:function(){return at},cH:function(){return bw},dL:function(){return aq},dP:function(){return bR},dp:function(){return az},dz:function(){return by},f4:function(){return bD},fo:function(){return aB},gA:function(){return aZ},gd:function(){return ad},gl:function(){return bK},gx:function(){return aD},ih:function(){return ar},ix:function(){return aj},jK:function(){return bo},ju:function(){return ac},kU:function(){return bb},l0:function(){return bM},l3:function(){return V},l6:function(){return aI},mI:function(){return aV},mK:function(){return a3},m_:function(){return bJ},ms:function(){return bh},"n$":function(){return bG},nu:function(){return bB},oD:function(){return an},oJ:function(){return aR},oQ:function(){return Z},oW:function(){return bO},oe:function(){return bd},oj:function(){return aT},p2:function(){return a2},pK:function(){return ao},pM:function(){return bE},qA:function(){return ap},qI:function(){return aU},rr:function(){return bk},tn:function(){return bl},uH:function(){return aa},uy:function(){return a4},v2:function(){return bI},vD:function(){return am},x3:function(){return a9},xf:function(){return aN},xn:function(){return bH},yF:function(){return bC},yQ:function(){return ah},yu:function(){return al},z_:function(){return ab}});var d=c(18154),e=c.n(d),f=c(49309),g=c(37513),h=c(43664),i=c(66560),j=c(89763),k=c(89508),l=c(96865),m=c(26744),n=c(76133),o=c(86181),p=c(48806),q=c(92532),r=c(32444),s=c(19186),t=c(30833),u=c(55488),v=c(88015),w=c(44769),x=c(19132),y=c(54782),z=c(83787),A=c(72929),B=c(77731),C=c(85685),D=c(52908),E=c(32530),F=c(55246),G=c(62073),H=c(34058),I=c(16984);function J(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function K(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function L(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){K(f,d,e,g,h,"next",a)}function h(a){K(f,d,e,g,h,"throw",a)}g(void 0)})}}function M(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function N(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){M(a,b,c[b])})}return a}function O(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}function P(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(a,b)||R(a,b)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(a){return function(a){if(Array.isArray(a))return J(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||R(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(a,b){if(a){if("string"==typeof a)return J(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return J(a,b)}}var S,T,U=function(a){return a===t.dLO.PLAN?"Path":(0,t.eiC)(a)},V=function(a){return function(b){b(r.X5.reset()),b(F.R.reset()),a({isLoading:!1,isLoaded:!1,isError:!1})}},W=function(a){var b=a.pathAuthorId,c=a.pathId,d=a.categoryId,e=a.orgId,f=a.index;return(0,g.Z)({url:"/api/enterprise/".concat(b,"/").concat(c,"/").concat(e,"/connect"),type:"POST",data:{week_id:d,index:f}})},X=function(a,b,c,d,e,f){var h=arguments.length>6&& void 0!==arguments[6]&&arguments[6];return(0,g.Z)({url:"/api/author/collection/create-cloned",type:"POST",data:{author_id:a,work_id:b,url_slug:c,path_author_id:d,path_id:e,organization_id:f,enable_collaborative_editor:h}})},Y=function(a,b,c,d,e){return(0,g.Z)({url:"/api/author/".concat(d,"/work/").concat(e,"/lessons/create-cloned"),type:"POST",data:{author_id:a,work_id:b,url_slug:c,path_author_id:d,path_id:e}})},Z=function(a,b,c,d){var e="/api/author/".concat(a,"/collection/").concat(b,"/deleted-pages");return c&&(e+="?cursor=".concat(c)),d&&(e+="?pageSize=".concat(d)),(0,g.Z)({url:e,type:"GET"})},$=function(a,b,c){var d="/api/author/".concat(a,"/collection/").concat(b,"/deleted-document?document_type=").concat(c);return(0,g.Z)({url:d,type:"GET"})},_=function(a){var b,c=a.author_id,d=a.collection_id,e=a.course_url_slug,f=a.work_type;return b=e?"collection/".concat(e,"/certificate-status?work_type=").concat(f):"collection/".concat(c,"/").concat(d,"/certificate-status?work_type=").concat(f),(0,g.Z)({url:"/api/".concat(b),type:"GET"})},aa=function(a){var b=a.organizationId,c=a.authorId,d=a.workId,e=a.isPlan,f=a.fetchCount;return(0,g.Z)({url:"/api/enterprise/".concat(b,"/").concat(c,"/").concat(d,"/activity-stats?page_size=").concat(t.ZZN).concat(void 0!==e&&e?"&is_plan=true":"").concat(void 0!==f&&f?"&fetch_count=true":""),type:"GET"})},ab=function(a){var b=a.organizationId,c=a.authorId,d=a.workId,e=a.usersList,f=a.workDetail,h=a.isPlan;return(0,g.Z)({url:"/api/enterprise/".concat(b,"/").concat(c,"/").concat(d,"/activity-stats").concat(void 0!==h&&h?"?is_plan=true":""),type:"POST",data:{user_ids_list:JSON.stringify(e),work_detail:JSON.stringify({data:f})}})},ac=function(){return(0,g.Z)({url:"/api/reader/featured_items?only_skill_assessments=true",type:"GET"})},ad=function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:"";return(0,g.Z)({url:"/api/reader/featured_items?only_sac=true&search_string=".concat(a),type:"GET"})},ae=function(a){return(0,g.Z)({url:"/api/reader/assessments/organization/".concat(a),type:"GET"})},af=function(){return(0,g.Z)({url:"/api/reader/enterprise/assigned-assessments",type:"GET"})},ag=function(a){return(0,g.Z)({url:"/api/enterprise/organization/".concat(a,"/assessments"),type:"GET"})},ah=function(){return(0,g.Z)({url:"/api/reader/enterprise/assigned-projects",type:"GET"})},ai=function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:"";return(0,g.Z)({url:"/api/reader/featured_items?search_string=".concat(encodeURIComponent(a),"&only_sap=true"),type:"GET"})},aj=function(){return(0,g.Z)({url:"/api/user-learning-plans",type:"GET"})},ak=function(a,b){return(0,g.Z)({url:"/api/learning-plan/".concat(a,"/").concat(b,"/assign"),type:"POST"})},al=function(a,b,c,d,e,f){return(0,g.Z)({url:"/api/user/onboarding-preferences",type:"POST",data:{purpose_of_learning:a,experience:b,area_of_interest_id:c,topics_or_language_of_interest:d,proficiency_in_area_of_interest:e,user_onboarding_recommendations:f}})},am=function(){return(0,g.Z)({url:"/api/user/onboarding-recommendations",type:"GET"})},an=function(){return(0,g.Z)({url:"/api/editorial/user-onboarding/area-of-interest",type:"GET"})},ao=function(a){return(0,g.Z)({url:"/api/editorial/user-onboarding/skill?area_of_interest_id=".concat(a),type:"GET"})},ap=function(){return(0,g.Z)({url:"/api/user/flag/onboarding-questionnaire",type:"PUT"})},aq=function(){return(0,g.Z)({url:"/api/user/flag/weekly-goals-tour",type:"PUT"})},ar=function(){return arguments.length>0&& void 0!==arguments[0]&&arguments[0],(0,g.Z)({url:"/api/user/flag/customize-fonts",type:"PUT"})},as=function(){return arguments.length>0&& void 0!==arguments[0]&&arguments[0],(0,g.Z)({url:"/api/user/flag/used-customize-fonts",type:"PUT"})},at=function(){return arguments.length>0&& void 0!==arguments[0]&&arguments[0],(0,g.Z)({url:"/api/user/flag/customize-fonts-feedback",type:"PUT"})},au=function(){var a=!(arguments.length>0)|| void 0===arguments[0]||arguments[0];return(0,g.Z)({url:"/api/user/flag/feedback-tooltip",type:"PUT",data:{viewed_feedback_tooltip:a}})},av=function(a){var b,c=a.author_id,d=a.collection_id,e=a.course_url_slug,f=void 0===e?"":e,h=a.is_draft_page,i=a.work_type,j=a.path_author_id,k=void 0===j?null:j,l=a.path_id,m=void 0===l?null:l,n=a.isModulePreview,o=a.cloudCourseTestMode,p=a.backendProxyUrl,q=a.cookies,r=void 0===q?"":q;return b=f?"collection/".concat(f,"?work_type=").concat(i):void 0!==h&&h&&!(void 0!==n&&n)?"author/".concat(c,"/collection/").concat(d,"?work_type=").concat(i).concat(k&&m?"&path_author_id=".concat(k,"&path_id=").concat(m):"").concat(void 0!==o&&o?"&test_lab=true":""):"collection/".concat(c,"/").concat(d,"?work_type=").concat(i).concat(k&&m?"&path_author_id=".concat(k,"&path_id=").concat(m):""),(0,g.Z)(N({url:"".concat(void 0===p?"":p,"/api/").concat(b),type:"GET"},r&&{headers:{cookie:r}}),!0)},aw=(0,f.ZP)(function(a,b){var c,d,e,f=null==a?void 0:null===(c=a.instance)|| void 0===c?void 0:null===(d=c.details)|| void 0===d?void 0:d.docker;f?((0,q.w)(f),f.envs=null!==(e=f.envs)&& void 0!==e?e:[],f.container.liveInstance=b):a.instance.details.docker=p.s4}),ax=(0,f.ZP)(function(a){var b,c,d,e=null==a?void 0:null===(b=a.instance)|| void 0===b?void 0:null===(c=b.details)|| void 0===c?void 0:c.toc;null==e||null===(d=e.categories)|| void 0===d||d.forEach(function(a){a.id!==I.s||a.title||(a.title="Recovered Lessons")})}),ay=(0,f.ZP)(function(a,b){var c,d=null==a?void 0:a.docker;d?((0,q.w)(d),d.envs=null!==(c=d.envs)&& void 0!==c?c:[],d.container.liveInstance=b):a.docker=p.s4}),az=function(a,b,d){var f,g=arguments.length>3&& void 0!==arguments[3]&&arguments[3],h=!(arguments.length>4)|| void 0===arguments[4]||arguments[4];return f=L(e().mark(function f(j,k){var l,m,o,p,q,s;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(m=c.g.loaderContext.state,o=!!(null===(l=d.data)|| void 0===l?void 0:l.user_id)||(null==a?void 0:a.is_user_loggedin)||b,!(h&&(o||a.instance.details.allow_logged_out_executions))){e.next=9;break}return e.next=6,(0,i.wi)(a.collectionId,a.authorId);case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0={};case 10:if(q=aw(a,p=e.t0),q=ax(q),!(s=!(g||m.isLoading))){e.next=16;break}throw Error(n.pX.programmaticallyCancelled);case 16:return e.next=18,j(r.X5.set(q));case 18:return e.abrupt("return",j(u.ry.setObject(q.instance.details.docker)));case 19:case"end":return e.stop()}},f)})),function(a,b){return f.apply(this,arguments)}},aA=function(){return function(a){a(r.X5.updateOwnership())}},aB=function(a,b){var c;return c=L(e().mark(function c(d){var f,g,h,j;return e().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(f=a.author_id,g=a.collection_id,!b){c.next=7;break}return c.next=4,(0,i.wi)(g,f);case 4:c.t0=c.sent,c.next=8;break;case 7:c.t0={};case 8:return j=ay(a,h=c.t0),c.next=12,d(r.X5.updateDockerForExternalLesson(j));case 12:return c.abrupt("return",d(u.ry.setObject(j.docker)));case 13:case"end":return c.stop()}},c)})),function(a){return c.apply(this,arguments)}},aC=function(a){var b=a.userInfoState,c=a.params,d=a.router,f=a.ignoreLoadingState,g=void 0!==f&&f,i=a.disableAllRedirections,o=void 0!==i&&i,p=a.isModulePreview,q=void 0!==p&&p,r=a.rethrowError,s=void 0!==r&&r,u=a.setLoaderStateDispatch,v=void 0===u?function(a){}:u;return function(a){var f,i,p=null==d?void 0:null===(f=d.query)|| void 0===f?void 0:f.test_lab;v({isLoading:!0,isLoaded:!1});var r=(null==d?void 0:null===(i=d.query)|| void 0===i?void 0:i.work_type)||(0,x.Z)(null==d?void 0:d.asPath),u=null==d?void 0:d.asPath.includes("/plan/");c.work_type||(c=O(N({},c),{work_type:r}));var w,z=/(collection|path|module)editor\/([0-9]{1,16})\/([0-9]{1,16})$/;return av(O(N({},c),{isModulePreview:q,cloudCourseTestMode:p})).then((w=L(e().mark(function f(h){var i,l,m,n,p,s,u,v,w,x,A,C,D,E;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u=(s=null==(p=JSON.parse(n=h.data))?void 0:null===(i=p.instance)|| void 0===i?void 0:i.details).work_type,v=s.author_id,w=s.collection_id,r!==u&&c.is_draft_page&&z.test(null==d?void 0:d.asPath)&&!o&&d.replace("/".concat(u,"editor/").concat(v,"/").concat(w)),p=O(N({},p),{collectionId:w,authorId:v}),!c.author_id||c.course_url_slug||!s.url_slug||c.is_draft_page||q||s.collection_type===t.dLO.STANDALONE_PROJECT||((0,j.qP)(j.f2.REDIRECTION,j.bt.FRIENDLY_URL_REDIRECTION),x=(0,y.Z)(r,!!c.page_id),A="/".concat(x,"/").concat(s.url_slug),c.page_id&&(C=new k.Z,A+="/".concat("courses"===x?d.query.page_url_slug:C.encode(parseInt(c.page_id,10)))),d.asPath.split("#")[0].endsWith("/assessment")&&(A+="/assessment"),d.asPath.endsWith("/project")&&(A+="/project"),d.asPath.endsWith("/cloudlab")&&(A+="/cloudlab"),d.asPath.split("#")[0].endsWith("/certificate")&&(A+="/certificate"),d.asPath.split("#")[1]&&(A+="#".concat(d.asPath.split("#")[1])),o||d.replace(A)),D=/^\/(((courses|path)\/[a-zA-Z0-9-_]+)|((collection|path|(module\/[a-zA-Z0-9-_]+))(\/[0-9]{1,16}){0,2}))$/,E=(null==c?void 0:c.skipLiveInstanceFetch)||D.test(null==d?void 0:d.asPath),e.next=14,a(az(p,null==c?void 0:c.is_draft_page,b,g,!E));case 14:return(null==p?void 0:null===(l=p.instance)|| void 0===l?void 0:null===(m=l.details)|| void 0===m?void 0:m.user_course_cloud_lab)&&(0,B.setCredentialAsApiKeysAndEnvKeys)(a,p,p.instance.details.user_course_cloud_lab,p.instance.details.course_cloud_lab.active_group_id,p.instance.details.course_cloud_lab.active_page_id),e.abrupt("return",p);case 16:case"end":return e.stop()}},f)})),function(a){return w.apply(this,arguments)})).then(function(){return v({isLoaded:!0,isLoading:!1})}).catch(function(b){if(b.message===n.pX.failedToFetch){(0,D.uX)(b);return}if(b.toString()!==n.pX.requestAborted){if(b.message!==n.pX.programmaticallyCancelled&&(0,h.rU)(b,a,void 0,void 0,u),403===b.status)(0,H.ZP)().setNotFound({notFoundPageStatus:!0}),v({isLoaded:!0,isLoading:!1});else{var c,d;c=b,(null!=(d=Response)&&"undefined"!=typeof Symbol&&d[Symbol.hasInstance]?!!d[Symbol.hasInstance](c):c instanceof d)&&401!==b.status&&(v({isLoaded:!1,isLoading:!1,isError:!0}),a(l.n.show(m.ad,{status:"ERROR",text:(0,h.nU)(b)||"Unable to load Collection"})))}if(s)throw b}})}},aD=function(a,b){var c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:{},d=arguments.length>3?arguments[3]:void 0,e=arguments.length>4&& void 0!==arguments[4]&&arguments[4];return(0,g.Z)({url:"/api/author/".concat(a,"/collection/").concat(b),type:"PUT",data:c,headers:M({},o.Zq,d)},!0,e)},aE=function(a,b){var d=arguments.length>2&& void 0!==arguments[2]?arguments[2]:t.dLO.COLLECTION,e=arguments.length>3&& void 0!==arguments[3]&&arguments[3],f=arguments.length>4&& void 0!==arguments[4]&&arguments[4];return function(g){var i=c.g.loaderContext.loaderActions.set;return i({isLoading:!0}),g(l.n.show(f?m.lu:m.ad,{status:t.oiP.WAIT,text:"Saving"})),aD(a.author_id,a.collection_id,a.payload,a.payload.eTag,e).then(function(c){var d=c.xhr,e=a.payload,f=(null==c?void 0:c.data)?JSON.parse(c.data):{};g(r.X5.updateETAG(d.headers.get(o.Zq))),g(l.n.update({status:t.oiP.SUCCESS,text:"Saved"})),g(r.X5.updateDetails(N({},e,f))),g(r.X5.setPagesRecovered(!1)),"function"==typeof b&&b(),i({isLoaded:!0,isLoading:!1}),g(r.X5.setDirty(!1))}).catch(function(b){(0,h.rU)(b,g),b.status===n.Wy.AlreadyExistsException?(g(l.n.close()),a.payload.eTag=t.FhE,g(l.n.show(m.zN,{onConfirm:function(){return g(aE(a,void 0,d,!1,f))},cancelText:"Cancel",confirmText:"Save",title:"Conflicts",description:"The content you are editing has changed. The previous changes will be overwritten. Are you sure you want to save?"}))):g(l.n.update({status:t.oiP.ERROR,text:(0,h.nU)(b)||"Unable to Save Changes"})),i({isLoading:!1})})}},aF=function(a,b){var c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:"collection",d=arguments.length>3?arguments[3]:void 0,e=arguments.length>4&& void 0!==arguments[4]?arguments[4]:null;return(0,g.Z)({url:"/api/author/".concat(a,"/collection/").concat(b,"/publish?work_type=").concat(c).concat(e===t.dLO.QUESTIONNAIRE?"&course_type=questionnaire":""),type:"POST",data:{path_id:d}})},aG=function(a,b){var c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:t.dLO.COLLECTION;return(0,g.Z)({url:"/api/author/".concat(a,"/collection/").concat(b,"?work_type=").concat(c),type:"DELETE"})},aH=function(a,b){var c=arguments.length>2&& void 0!==arguments[2]&&arguments[2],d=arguments.length>3&& void 0!==arguments[3]?arguments[3]:t.dLO.COLLECTION,e=arguments.length>4&& void 0!==arguments[4]?arguments[4]:function(){};return function(f,g){return f(l.n.show(m.ad,{status:"WAIT",text:"Deleting"})),aG(a,b).then(JSON.parse).then(function(a){a.is_submitted?f(l.n.update({status:"ERROR",text:"".concat(U(d)," already submitted for deletion")})):a.is_approved&&!a.is_submitted?(f(l.n.update({status:"SUCCESS",text:"".concat(U(d)," submitted for deletion")})),c&&f(s.B.load())):(f(l.n.update({status:"SUCCESS",text:"Deleted"})),f(s.B.delete(b)),e())}).catch(function(a){console.log(a),(0,h.rU)(a,f),d===t.dLO.ENTERPRISE_ASSESSMENT&&(0,j.qP)(j.f2.ENTERPRISE_ASSESSMENTS,j.bt.UNEXPECTED_ERROR_ASSESSMENT),f(l.n.update({status:"ERROR",text:"Unable to Delete ".concat((0,t.eiC)(d))}))})}},aI=function(a,b,c,d,e,f,g){var i=arguments.length>7&& void 0!==arguments[7]?arguments[7]:null,j=arguments.length>8&& void 0!==arguments[8]&&arguments[8],k=!(arguments.length>9)|| void 0===arguments[9]||arguments[9],n=arguments.length>10&& void 0!==arguments[10]?arguments[10]:null,o=arguments.length>11&& void 0!==arguments[11]&&arguments[11];return function(p){return g({isLoading:!0}),p(l.n.showOrUpdate(o?m.lu:m.ad,{status:t.oiP.WAIT,text:d})),aF(a,b,c,i,n).then(function(){k&&p(r.X5.publish()),p(l.n.show(o?m.lu:m.ad,N({status:t.oiP.SUCCESS,text:e},o?{icon:z.Z,actionButtonText:"View",actionButtonClickHandler:function(){return"function"==typeof f&&f()}}:{}))),o||"function"!=typeof f||f(),g({isLoading:!1})}).catch(function(a){if((0,h.rU)(a,p),p(l.n.showOrUpdate(o?m.lu:m.ad,{status:t.oiP.ERROR,text:(0,h.nU)(a)||"".concat(d," failed")})),g({isLoading:!1}),j)throw a})}},aJ=function(a,b,c){var d=arguments.length>3&& void 0!==arguments[3]&&arguments[3],e="/api/editorial/approve/".concat(a,"/").concat(b,"?work_type=").concat(c).concat(d?"&is_private=true":"");return(0,g.Z)({url:e,type:"PUT"})},aK=function(a,b,c){var d="/api/author/".concat(a,"/collection/").concat(b,"/containers/").concat(c,"/get_upload_url");return(0,g.Z)({url:d,type:"GET"}).then(JSON.parse)},aL=function(a,b,c,d){return function(e){var f=c.file.name.split(" ").join("-"),h="/api/author/".concat(a,"/collection/").concat(b,"/containers/").concat(f,"/get_upload_url");return d({isLoaded:!1,isLoading:!0}),(0,g.Z)({url:h,type:"GET"}).then(JSON.parse).then(function(a){var b=a.gcs_object_name,h=a.container_id,i=a.blob_upload_url,j=a.upload_success_url,k=a.build_status_url,l=a.tarball_download_url,m=a.build_log_url,n=a.rebuild_image_url;return e(u.ry.setFile(O(N({},c),{id:void 0===h?-1:h,buildStatusUrl:k,tarballDownloadUrl:l,buildLogUrl:m,rebuildImageUrl:n,file:{name:f,size:c.file.size,awaitingUpload:!0}}))),d({isLoaded:!0,isLoading:!1}),{onUploadSuccess:function(){return(0,g.Z)({url:j,type:"POST",data:{gcs_object_name:b}},!0)},upload:function(){return(0,g.Z)({url:i,type:"POST",data:c.file,processData:!1,contentType:c.file.type})}}}).catch(function(a){console.log(a),e(l.n.show(m.ad,{status:"ERROR",text:"Setting Docker File failed"})),d({isLoaded:!1,isLoading:!1})})}},aM=function(a){var b=a.authorId,c=a.collectionId,d=a.upload,e=a.onUploadSuccess,f=a.collectionType,g=a.showToastModal,h=void 0!==g&&g;return function(a){return a(u.ry.updateBuildStatus("UPLOADING")),d().then(function(){return e()}).then(function(a){return JSON.parse(a.data)}).then(function(d){var e=d.image_name;a(bh({author_id:b,collection_id:c},u.ry.afterFileUpload(void 0===e?"default_name":e),!1,f)),a(l.n.show(h?m.lu:m.ad,{status:t.oiP.SUCCESS,text:"Docker Image build has been queued!!"}))}).catch(function(g){if(500===g.status){a(aM({authorId:b,collectionId:c,upload:d,onUploadSuccess:e,collectionType:f,showToastModal:h}));return}console.log("error while uploading docker file",g),a(u.ry.updateBuildStatus("FAILURE")),a(l.n.show(h?m.lu:m.ad,{status:t.oiP.ERROR,text:"Uploading Docker File failed"}))})}},aN=function(a,b,c){return(0,g.Z)({url:"/api/author/".concat(a,"/collection/").concat(b,"/cerf/").concat(c,"/upload/url"),type:"GET"})},aO=function(a,b,c,d){return(0,g.Z)({url:"/api/author/".concat(a,"/collection/").concat(b,"/cerf/").concat(c,"/upload/url?content_type=").concat(C.qL,"&page_id=").concat(d),type:"GET"})},aP=function(a,b,c,d){var e=!(arguments.length>4)|| void 0===arguments[4]||arguments[4];return(0,g.Z)({url:"/api/".concat(e?"author":"collection","/").concat(a,"/collection/").concat(b,"/cerf/").concat(c,"/download?return_signed_url=true&page_id=").concat(d),type:"GET"})},aQ=(S=L(e().mark(function a(b,c,d){var f,h,i,j,k;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return f=b.upload_url,h=b.upload_success_url,i=b.gcs_object_name,j=function(){return(0,g.Z)({url:f,type:"POST",data:c.file,processData:!1,contentType:c.type})},k=function(){return(0,g.Z)({url:h+"?content_type=".concat(C.qL,"&page_id=").concat(d),type:"POST",data:{gcs_object_name:i,file_size:c.size}})},a.next=5,j();case 5:return a.next=7,k();case 7:case"end":return a.stop()}},a)})),function(a,b,c){return S.apply(this,arguments)}),aR=(T=L(e().mark(function a(b,c,d){var f,h,i,j,k,n,o,p=arguments;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return f=p.length>3&& void 0!==p[3]&&p[3],h=c.upload_url,i=c.upload_success_url,j=c.gcs_object_name,k=function(){return(0,g.Z)({url:h,type:"POST",data:d,processData:!1,contentType:d.type})},n=function(){return(0,g.Z)({url:i,type:"POST",data:{gcs_object_name:j,file_size:d.size}})},b(l.n.show(f?m.lu:m.ad,{status:t.oiP.WAIT,text:"Uploading code resource file"})),o=N({},c),a.next=8,k();case 8:return a.next=10,n();case 10:o.file=null,o.upload_url=null,o.upload_success_url=null,o.updated=!1,o.uploadStatus=t.TEe.UPLOAD_SUCCESSFUL,b(r.X5.updateCodeExecResourceFile(o));case 16:case"end":return a.stop()}},a)})),function(a,b,c){return T.apply(this,arguments)}),aS=function(a,b){return(0,g.Z)({url:"/api/author/".concat(a,"/collection/").concat(b,"/udata/upload/url"),type:"GET"})},aT=function(a,b){var c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:null,d=arguments.length>3&& void 0!==arguments[3]&&arguments[3];return(0,g.Z)({url:"/api/author/".concat(a,"/collection/").concat(b,"/page?work_type=").concat(c||(0,x.Z)(),"&claim=").concat(d),type:"POST"})},aU=function(a,b){var c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:t.dLO.COLLECTION,d=arguments.length>3&& void 0!==arguments[3]&&arguments[3];return(0,g.Z)({url:"/api/author/".concat(a,"/collection/").concat(b,"/project?work_type=").concat(c,"&claim=").concat(d),type:"POST"})},aV=function(a,b){var c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:t.dLO.COLLECTION,d=arguments.length>3&& void 0!==arguments[3]&&arguments[3];return(0,g.Z)({url:"/api/author/".concat(a,"/collection/").concat(b,"/assessment?work_type=").concat(c,"&claim=").concat(d),type:"POST"})},aW=function(a,b,c){var d=arguments.length>3&& void 0!==arguments[3]?arguments[3]:null,e=arguments.length>4&& void 0!==arguments[4]?arguments[4]:null,f=arguments.length>5&& void 0!==arguments[5]?arguments[5]:null,h=arguments.length>6&& void 0!==arguments[6]?arguments[6]:null,i=arguments.length>7&& void 0!==arguments[7]?arguments[7]:null;return(0,g.Z)({url:"/api/author/clone/".concat(a,"/collection/").concat(b,"/assessment?work_type=").concat((0,x.Z)()),type:"POST",data:{author_id:d,collection_id:e,page_id:f,work_type:c,url_slug:h,page_url_slug:i}})},aX=function(a,b,c){return(0,g.Z)({url:"/api/author/".concat(a,"/collection/").concat(b,"/project/").concat(c,"/project_component"),type:"POST"})},aY=function(a,b,c,d){var e=arguments.length>4&& void 0!==arguments[4]?arguments[4]:"";return(0,g.Z)({url:"/api/author/".concat(a,"/collection/").concat(b,"/assessment/").concat(c,"/question").concat(d===t.Q5R.QUESTIONNAIRE?"?assessment_type=questionnaire":e?"?question_type=".concat(e):""),type:"POST"})},aZ=function(a,b){var c=arguments.length>2&& void 0!==arguments[2]&&arguments[2],d=arguments.length>3&& void 0!==arguments[3]&&arguments[3];return(0,g.Z)({url:"/api/author/".concat(a,"/collection/").concat(b,"/cloud-lab?claim=").concat(c,"&cloud_course=").concat(d),type:"POST"})},a$=function(a,b){return(0,g.Z)({url:"/api/author/clone/learning-plans/questionnaire/".concat(a,"/").concat(b),type:"POST"})},a_=function(a,b){return(0,g.Z)({url:"/api/author/clone/learning-plans/questionnaire/".concat(a,"/").concat(b),type:"GET"})},a0=function(a,b,c){var d=arguments.length>3&& void 0!==arguments[3]?arguments[3]:null,e=arguments.length>4&& void 0!==arguments[4]?arguments[4]:null,f=arguments.length>5&& void 0!==arguments[5]?arguments[5]:null,h=arguments.length>6&& void 0!==arguments[6]?arguments[6]:null,i=arguments.length>7&& void 0!==arguments[7]?arguments[7]:null;return(0,g.Z)({url:"/api/author/".concat(a,"/collection/").concat(b,"/page?work_type=").concat((0,x.Z)()),type:"POST",data:{author_id:d||a,collection_id:e||b,page_id:c,work_type:f||t.dLO.COLLECTION,url_slug:h,page_url_slug:i}})},a1=function(a,b,c){var d=arguments.length>3&& void 0!==arguments[3]?arguments[3]:t.dLO.COLLECTION;return(0,g.Z)({url:"/api/author/".concat(a,"/collection/").concat(b,"/page/").concat(c,"/recover?work_type=").concat(d),type:"POST"})},a2=function(a,b,c){var d=arguments.length>3&& void 0!==arguments[3]?arguments[3]:t.dLO.COLLECTION;return(0,g.Z)({url:"/api/author/".concat(a,"/collection/").concat(b,"/page/").concat(c,"/mark-as-hard-deleted?work_type=").concat(d),type:"POST"})},a3=function(a,b,c){var d=arguments.length>3&& void 0!==arguments[3]?arguments[3]:t.dLO.COLLECTION;return(0,g.Z)({url:"/api/author/".concat(a,"/collection/").concat(b,"/page/").concat(c,"?work_type=").concat(d),type:"DELETE"})},a4=function(a,b,c){return(0,g.Z)({url:"/api/author/".concat(a,"/collection/").concat(b,"/collection-or-page-title"),type:"POST",data:c})},a5=function(a,b,c,d){return(0,g.Z)({url:"/api/reader/external-offer",type:"POST",data:{author_id:a,collection_id:b,page_id:c,course_completion_percentage:d}})},a6=function(a,b,c,d,e){return(0,g.Z)({url:"/api/reader/external-offer/interaction/".concat(a),type:"POST",data:{author_id:c,collection_id:d,interaction:b,course_completion_percentage:e}})};function a7(a,b){var c,d,e=JSON.stringify(a.instance.details.toc),f=N({},a.instance.details),g=null!==(d=null===(c=f.code_exec_resource_metadata)|| void 0===c?void 0:c.file_id)&& void 0!==d?d:null,h=JSON.stringify(f.udata_files.map(function(a){return a.file_id})),i=JSON.stringify({code_themes:f.CodeThemes}),j=f.collaborators||[],k=JSON.stringify(Object.values(j).map(function(a){return a.author_id})),l=JSON.stringify(f.testimonials),m=JSON.stringify((0,p.qZ)(b)),n=a[o.Zq],q=JSON.stringify({licensing:f.licensing}),r=f.tags.toString(),s=JSON.stringify({api_keys:f.api_keys});delete f.api_keys,delete f.toc,delete f.udata_files,delete f.CodeThemes,delete f.testimonials,delete f.licensing;var t=O(N({},f),{categories_json_string:e,testimonials_string:l,docker:m,user_data_file_ids_string:h,code_exec_resource_file_id:g,default_themes_json_string:i,api_keys_json_string:s,tags:r,eTag:n,licensing_json_string:q,collaborators_json_string:k,is_collection_frontend_collaborative:a.use_collaborative_editor});return t}var a8,a9=function(a){var b,d=a.author_id,f=a.collection_id,g=a.category_id,i=a.index,j=a.createNewArticle,k=void 0===j||j,l=a.data,m=void 0===l?{}:l,n=a.collectionType,o=void 0===n?null:n;return b=L(e().mark(function a(b,j){var l,n;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(l=function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:void 0;return b(r.X5.addArticle({category_id:g,article:a,index:i,data:m}))},k){a.next=5;break}l(),a.next=8;break;case 5:return(n=c.g.loaderContext.loaderActions.set)({isLoaded:!1,isLoading:!0}),a.abrupt("return",aT(d,f,o).then(function(a){var b=JSON.parse(a);b.author_id=d,l(b),n({isLoaded:!0,isLoading:!1})}).catch(function(a){(0,h.rU)(a,b),n({isLoaded:!1,isLoading:!1})}));case 8:case"end":return a.stop()}},a)})),function(a,c){return b.apply(this,arguments)}},ba=function(a){var b=a.author_id,c=a.collection_id,d=a.project_id,e=a.category_id,f=a.index,g=a.setLoaderStateDispatch,i=void 0===g?function(a){}:g;return function(a,g){i({isLoaded:!1,isLoading:!0}),aX(b,c,d).then(function(b){var c=JSON.parse(b);a(w.Dr.addComponent({category_id:e,component:c,index:f})),i({isLoaded:!0,isLoading:!1})}).catch(function(b){(0,h.rU)(b,a),i({isLoaded:!1,isLoading:!1})})}},bb=function(a){var b=a.author_id,c=a.collection_id,d=a.cloud_lab_id,e=a.category_id,f=a.index,i=a.setLoaderStateDispatch,j=void 0===i?function(a){}:i;return function(a,i){var k;if(j({isLoaded:!1,isLoading:!0}),!(null===(k=i().cloudLab.data)|| void 0===k?void 0:k.title)){a(l.n.show(m.ad,{status:"ERROR",text:"Lab title is required."}));return}(0,g.Z)({url:"/api/author/".concat(b,"/collection/").concat(c,"/cloud-lab/").concat(d,"/cloud-lab-task"),type:"POST"}).then(function(b){var c=JSON.parse(b);a(G._k.addTask({category_id:e,task:c,index:f})),j({isLoaded:!0,isLoading:!1})}).catch(function(b){(0,h.rU)(b,a),j({isLoaded:!1,isLoading:!1})})}},bc=function(a){var b=a.author_id,c=a.collection_id,d=a.assessment_id,e=a.category_id,f=a.index,g=a.assessment_type,i=a.question_type,j=void 0===i?"":i,k=a.setLoaderStateDispatch,l=void 0===k?function(a){}:k;return function(a,i){return l({isLoaded:!1,isLoading:!0}),aY(b,c,d,g,j).then(function(b){var c=JSON.parse(b);a(v.Ol.addQuestion({category_id:e,question:O(N({},c),{question_type:j}),index:f})),g===t.Q5R.ENTERPRISE_ASSESSMENT&&a(v.Ol.updateQuestionTitle({categoryId:e,questionId:c.question_id,title:"Untitled Masterpiece"})),l({isLoaded:!0,isLoading:!1})}).catch(function(b){(0,h.rU)(b,a),l({isLoaded:!1,isLoading:!1})})}},bd=function(a){var b=a.author_id,c=a.collection_id,d=a.assessment_id,e=a.category_id,f=a.index,i=a.assessment_type,j=a.question_id,k=a.question_type,n=void 0===k?"":k;return function(a,k){var o,p,q,r,s;return a(l.n.show(m.ad,{status:"WAIT",text:"Cloning Question"})),(o=b,p=c,q=d,r=i,s=j,(0,g.Z)({url:"/api/author/".concat(o,"/collection/").concat(p,"/assessment/").concat(q,"/question/").concat(s,"/clone").concat(r===t.Q5R.QUESTIONNAIRE?"?assessment_type=questionnaire":""),type:"POST"})).then(function(b){var c=JSON.parse(b);a(v.Ol.addQuestion({category_id:e,question:O(N({},c),{question_type:n}),index:f})),i===t.Q5R.ENTERPRISE_ASSESSMENT&&a(v.Ol.updateQuestionTitle({categoryId:e,questionId:c.question_id,title:"Untitled Masterpiece"})),a(l.n.showOrUpdate(m.ad,{status:"SUCCESS",text:"Cloned successfully"}))}).catch(function(b){(0,h.rU)(b,a),a(l.n.showOrUpdate(m.ad,{status:"ERROR",text:(0,h.HR)(b)||"Clone failed"}))})}},be=function(a){var b=a.author_id,c=a.collection_id,d=a.category_id,e=a.src_article_id,f=a.src_article_title,g=a.src_author_id,i=void 0===g?null:g,j=a.src_collection_id,k=void 0===j?null:j,n=a.sourceWorkType,o=void 0===n?null:n,p=a.url_slug,q=void 0===p?null:p,s=a.page_url_slug,u=void 0===s?null:s,v=a.showToastModal,w=void 0!==v&&v,x=a.dispatchLoadedActions,y=void 0===x||x,z=a.setLoaderStateDispatch,A=void 0===z?function(a){}:z;return function(a){return A({isLoaded:!1,isLoading:!0}),a(l.n.show(w?m.lu:m.ad,{status:t.oiP.WAIT,text:"Cloning"})),a0(b,c,e,i,k,o,q,u).then(function(b){var c=JSON.parse(b);c.title=f;var e=c.source_author_id,g=c.source_collection_id,h=c.source_page_id;a(r.X5.cloneArticle({category_id:d,article:c,source_details:{is_cloned:!!e,source_author_id:e,source_collection_id:g,source_page_id:h}})),y&&(A({isLoaded:!0,isLoading:!1}),a(l.n.showOrUpdate(w?m.lu:m.ad,{status:t.oiP.SUCCESS,text:"Cloned successfully"})))}).catch(function(b){if(!y)throw b;(0,h.rU)(b,a),A({isLoaded:!1,isLoading:!1}),a(l.n.showOrUpdate(w?m.lu:m.ad,{status:t.oiP.ERROR,text:(0,h.HR)(b)||"Clone failed"}))})}},bf=(a8=L(e().mark(function a(b,c){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new Promise(function(a,d){var f=A.operation({forever:!0,minTimeout:100,maxTimeout:2e3});f.attempt(L(e().mark(function h(){var i;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:var h,j;return e.prev=0,e.next=3,(h=b,j=c,(0,g.Z)({url:"/api/author/".concat(h,"/collection/").concat(j,"/in_progress"),type:"GET"})).then(JSON.parse);case 3:(i=e.sent).in_progress?f.retry(Error("In Progress")):a(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),f.stop(),d(e.t0);case 11:case"end":return e.stop()}},h,null,[[0,7]])})))}));case 1:case"end":return a.stop()}},a)})),function(a,b){return a8.apply(this,arguments)}),bg=function(){for(var a,b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];return a=L(e().mark(function a(b){var d,f,g,i,j,k;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return g=(f=(d=P(c,1))[0]).author_id,i=f.collection_id,j=f.showToastModal,a.prev=1,c[0].dispatchLoadedActions=!1,a.next=5,b(be.apply(void 0,Q(c)));case 5:return k=a.sent,a.next=8,bf(g,i);case 8:return c[0].setLoaderStateDispatch({isLoaded:!0,isLoading:!1}),b(l.n.showOrUpdate(j?m.lu:m.ad,{status:t.oiP.SUCCESS,text:"Cloned successfully"})),a.abrupt("return",k);case 13:a.prev=13,a.t0=a.catch(1),(0,h.rU)(a.t0,b),c[0].setLoaderStateDispatch({isLoaded:!1,isLoading:!1}),b(l.n.showOrUpdate(j?m.lu:m.ad,{status:t.oiP.ERROR,text:(0,h.HR)(a.t0)||"Clone failed"}));case 18:case"end":return a.stop()}},a,null,[[1,13]])})),function(b){return a.apply(this,arguments)}},bh=function(a,b){var c,d=a.author_id,f=a.collection_id,g=arguments.length>2&& void 0!==arguments[2]&&arguments[2],h=arguments.length>3&& void 0!==arguments[3]?arguments[3]:t.dLO.COLLECTION,i=arguments.length>4&& void 0!==arguments[4]&&arguments[4];return c=L(e().mark(function a(c,j){var k,l,m,n;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.t0=b,!a.t0){a.next=5;break}return a.next=5,c(b);case 5:if(!g){a.next=8;break}return c(r.X5.setDirty(!0)),a.abrupt("return");case 8:return m=null===(k=j().author.collection.instance)|| void 0===k?void 0:k.details,n=O(N({},a7(j().author.collection,j().dockerDetails)),{connect_infos:JSON.stringify(c(bi((null==m?void 0:m.connects)||[]))),course_cloud_lab_id:(null==m?void 0:null===(l=m.course_cloud_lab)|| void 0===l?void 0:l.course_cloud_lab_id)||void 0}),m.work_type===t.dLO.MODULE&&(n.filtered_languages_json_string=JSON.stringify(m.filtered_languages||void 0)),a.abrupt("return",c(aE({author_id:d,collection_id:f,payload:n},void 0,h,!1,i)));case 12:case"end":return a.stop()}},a)})),function(a,b){return c.apply(this,arguments)}},bi=function(a){return function(b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done);d=!0){var i=g.value;if(i.connect_info&&i.connect_info.length){var j=1,k=!0,l=!1,m=void 0;try{for(var n,o=i.connect_info[Symbol.iterator]();!(k=(n=o.next()).done);k=!0){var p=n.value,q={id:p.id,title:p.title,status:p.status,full_name:p.full_name,email:p.email,index:p.status===t.BMk.DELETED?1e4:j++};if(i.dirty||delete q.index,!p.title&&(delete q.title,p.status!==t.BMk.DELETED))return;p.email||(delete q.email,delete q.full_name),(i.dirty||p.dirty)&&(c.push(q),b(r.X5.setConnectInfoDirtyFlag({weekId:i.week_id,id:p.id,flag:!1})))}}catch(s){l=!0,m=s}finally{try{k||null==o.return||o.return()}finally{if(l)throw m}}}b(r.X5.setConnectDirtyFlag({weekId:i.week_id,flag:!1}))}}catch(u){e=!0,f=u}finally{try{d||null==h.return||h.return()}finally{if(e)throw f}}return c}},bj=function(a){return function(b,c){var d,e=c().author.collection,f=null==e?void 0:null===(d=e.instance)|| void 0===d?void 0:d.details,g=f.author_id,h=f.collection_id,i=f.work_type||t.dLO.COLLECTION,j=a7(e,c().dockerDetails);return b(aE({author_id:g,collection_id:h,payload:j},void 0,i,a))}},bk=function(a,b){return(0,g.Z)({url:"/api/notifications/".concat(a,"/").concat(b),type:"POST"})},bl=function(a){var b=a.author_id,c=a.collection_id,d=a.assessment_id,e=a.question_id,f=a.protectedContent,h=a.assessment_type,i=void 0===h?t.Q5R.REGULAR:h;return(0,g.Z)({url:"/api/".concat(i===t.Q5R.SKILL_ASSESSMENT?"skill-assessment":"assessment","/").concat(b,"/").concat(c,"/").concat(d,"/").concat(e,"?assessment_type=").concat(i),type:"POST",data:{answer:JSON.stringify(f),timestamp:new Date().toISOString()}},!0)},bm=function(a){var b=a.author_id,c=a.collection_id,d=a.assessment_id,e=a.assessment_type,f=void 0===e?t.Q5R.REGULAR:e,h=a.discard_attempt,i=a.pathAuthorId,j=void 0===i?null:i,k=a.pathId,l=void 0===k?null:k;return(0,g.Z)({url:"/api/".concat([t.Q5R.SKILL_ASSESSMENT,t.Q5R.ENTERPRISE_ASSESSMENT,].includes(f)?"skill-assessment":"assessment","/").concat(b,"/").concat(c,"/").concat(d,"?assessment_type=").concat(f).concat(void 0!==h&&h?"&discard=true":""),type:"POST",data:N({timestamp:new Date().toISOString()},j&&l?{path_author_id:j,path_id:l}:{})},!0)},bn=function(a){var b=a.authorId,c=a.workId,d=a.projectId,e=a.keysToDelete;return(0,g.Z)({url:"/api/project/".concat(b,"/").concat(c,"/").concat(d),type:"POST",data:{map_name:(0,E.LZ)({authorId:b,collectionId:c,documentId:d}),env_keys:JSON.stringify(e)}},!0)},bo=function(a,b,c){return(0,g.Z)({url:"/api/author/".concat(a,"/collection/").concat(b,"/assessment/").concat(c,"/udata/upload/url"),type:"GET"})},bp=function(a,b,c){return(0,g.Z)({url:"/api/author/".concat(a,"/collection/").concat(b,"/project/").concat(c,"/udata/upload/url"),type:"GET"})},bq=function(a,b,c){return(0,g.Z)({url:"/api/author/".concat(a,"/collection/").concat(b,"/cloudlab/").concat(c,"/udata/upload/url"),type:"GET"})},br=function(a,b,c,d){var e=arguments.length>4&& void 0!==arguments[4]?arguments[4]:t.Q5R.REGULAR,f="/api/".concat(e===t.Q5R.SKILL_ASSESSMENT?"skill-assessment":"assessment","/begin/").concat(a,"/").concat(b,"/").concat(c,"?assessment_type=").concat(e);return d&&(f+="&continue=".concat(d)),(0,g.Z)({url:f,type:"POST"})},bs=function(a,b,c){var d=arguments.length>3&& void 0!==arguments[3]&&arguments[3],e="/api/cloud-lab/".concat(a,"/").concat(b,"/").concat(c,"/user-lab").concat(d?"?end_previous=true":"");return(0,g.Z)({url:e,type:"PUT"})},bt=function(a,b,c){return(0,g.Z)({url:"/api/cloud-lab/".concat(a,"/").concat(b,"/").concat(c,"/user-lab"),type:"GET"})},bu=function(a,b,c){var d="/api/cloud-lab/".concat(a,"/").concat(b,"/").concat(c,"/user-lab");return(0,g.Z)({url:d,type:"POST"})},bv=function(a){var b=a.author_id,c=a.collection_id,d=a.cloud_lab_id,e="/api/cloud-lab/".concat(b,"/").concat(c,"/").concat(d,"/console");return(0,g.Z)({url:e,type:"GET"})},bw=function(a,b,c,d,e){return(0,g.Z)({url:"/api/".concat(a,"/").concat(b,"/").concat(c,"/").concat(d,"/").concat(e,"/read-time"),type:"GET"})},bx=function(a,b){var c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:"projects";return(0,g.Z)({url:"/api/collection/".concat(a,"/").concat(b,"/related-content?contentType=").concat(c),type:"GET"})},by=function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:"",b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:"",c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:"",d=arguments.length>3&& void 0!==arguments[3]&&arguments[3],e=c||"".concat(a,"/").concat(b);return(0,g.Z)({url:"/api/collection/".concat(e,"/get-recommendations").concat(d?"?fetch_recommendation_details=true":""),type:"GET"})},bz=function(a){return(0,g.Z)({url:"/api/userfeedback?".concat(a),type:"GET"})},bA=function(a,b,c,d,e){var f={user_id:d,connect_infos:JSON.stringify(e)};return(0,g.Z)({url:"/api/enterprise/".concat(b,"/").concat(c,"/").concat(a,"/connect"),type:"PUT",data:f})},bB=function(a,b,c,d,e){return(0,g.Z)({url:"/api/enterprise/".concat(b,"/").concat(c,"/").concat(a,"/connect/status"),type:"PUT",data:{id:d,status:e}})},bC=function(a,b,c){return(0,g.Z)({url:"/api/enterprise/".concat(a,"/").concat(b,"/").concat(c,"/connect"),type:"GET"})},bD=function(){return(0,g.Z)({url:"/api/author/learning-plans/modules?instance_status=".concat(t.dTF.PUBLISHED),type:"GET"})},bE=function(a,b,c){return(0,g.Z)({url:"/api/author/learning-plans/".concat(a,"/").concat(b,"/").concat(c),type:"POST"})},bF=function(a,b,c){return(0,g.Z)({url:"/api/author/learning-plans/".concat(a,"/").concat(b,"/").concat(c),type:"GET"})},bG=function(a){return(0,g.Z)({url:"/api/external/image?url=".concat(encodeURIComponent(a)),type:"GET"})},bH=function(a,b){return(0,g.Z)({url:"/api/author/".concat(a,"/").concat(b,"/clone-template-module"),type:"POST"})},bI=function(a,b){return(0,g.Z)({url:"/api/author/".concat(a,"/collection/").concat(b,"/collaborative_editor_status"),type:"GET"})},bJ=function(a,b){return(0,g.Z)({url:"/api/dependency-link/multi-variant-content?author_id=".concat(a,"&work_id=").concat(b),type:"GET"})},bK=function(){var a=!(arguments.length>0)|| void 0===arguments[0]||arguments[0];return(0,g.Z)({url:"/api/user/flag/ai-powered-popup",type:"PUT",data:{has_seen_ai_powered_popup:a}})},bL=function(a){var b=a.organizationId;return(0,g.Z)({url:"/api/enterprise/".concat(b,"/dashboard/track-progress/dropdowns"),type:"GET"})},bM=function(a){var b=a.organizationId,c=a.assignment_map;return(0,g.Z)({url:"/api/enterprise/".concat(b,"/dashboard/track-progress/time-spent"),type:"POST",data:{assignment_map:JSON.stringify(c)}})},bN=function(a){var b=a.organizationId,c=a.conditionalFilters,d=a.currentPage,e=a.engineName,f=a.excludeFilters,h=a.excludeSearchFields,i=a.facets,j=a.groupField,k=a.includeFilters,l=a.includeSearchFields,m=a.recordAnalytics,n=a.resultsPerPage,o=a.searchString,p=a.tags,q=a.sort_filter;return(0,g.Z)({data:{conditional_filters:JSON.stringify(c.map(function(a){var b=a.field,c=a.values;return{field:b,values:JSON.stringify(c)}})),current_page:d,engine_name:e,exclude_filters:JSON.stringify(f.map(function(a){var b=a.field,c=a.values;return{field:b,values:JSON.stringify(c)}})),exclude_search_fields:JSON.stringify(void 0===h?[]:h),facets:JSON.stringify(i),group_field:j,include_filters:JSON.stringify(k.map(function(a){var b=a.field,c=a.values;return{field:b,values:JSON.stringify(c)}})),include_search_fields:JSON.stringify(void 0===l?[]:l),record_analytics:m,results_per_page:n,search_string:o,tags:JSON.stringify(void 0===p?[]:p),sort_filter:JSON.stringify(void 0===q?[]:q)},type:"POST",url:"/api/enterprise/".concat(b,"/dashboard/track-progress")}).then(JSON.parse)},bO=function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:[],b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:[],c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:[],d=arguments.length>3?arguments[3]:void 0;return(0,g.Z)({data:{user_ids_list:JSON.stringify(a),author_work_ids_list:JSON.stringify(b),user_emails_list:JSON.stringify(c)},type:"POST",url:"/api/enterprise/".concat(d,"/dashboard/track-progress/check-new-assignment")})},bP=function(a,b,c){var d=arguments.length>3&& void 0!==arguments[3]&&arguments[3],e="/api/learning-plan/".concat(a,"/").concat(b,"/update-week").concat(d?"?inactive=true":"");return(0,g.Z)({url:e,type:"POST",data:{week_number:c}})},bQ=function(a,b){return(0,g.Z)({url:"/api/enterprise/assign-count/".concat(a),type:"POST",data:{works:JSON.stringify(b)}})},bR=function(a,b,c){return(0,g.Z)({url:"/api/enterprise/".concat(a,"/works/published-count?is_module=").concat(b,"&is_plan=").concat(c),type:"GET"})}},85685:function(a,b,c){c.d(b,{AM:function(){return j},HV:function(){return l},IE:function(){return m},IR:function(){return k},Pn:function(){return i},TE:function(){return h},WD:function(){return g},ot:function(){return e},qL:function(){return d},y:function(){return f}});var d="application/vnd.android.package-archive",e={APK_MODE:"apkMode",COMMAND_MODE:"commandMode"},f={BROWSER:"browserMode",LOCAL:"localMode"},g={APK:"apk",COMMAND:"command"},h={UPLOAD_PENDING:"UPLOAD_PENDING",UPLOAD_FAILED:"UPLOAD_FAILED",UPLOADING:"UPLOADING",UPLOAD_SUCCESSFUL:"UPLOAD_SUCCESSFUL",UPLOAD_MAX_SIZE_EXCEEDED:"UPLOAD_MAX_SIZE_EXCEEDED",UPLOAD_NAME_INCORRECT:"UPLOAD_NAME_INCORRECT"},i={RUN_APPLICATION:"RUN_APPLICATION",CONNECT:"CONNECT",ERROR:"ERROR",RUNNING:"RUNNING"},j={DOWNLOADING:"Downloading Apk",LAUNCHING:"Launching Activity",CONNECTING:"Connecting",DEFAULT:""},k={DOWNLOADING:"DOWNLOADING",LAUNCHING:"LAUNCHING",CONNECTING:"CONNECTING",DEFAULT:"DEFAULT"},l=function(){return{apk:void 0,id:null,name:null,size:null,gcsObjectName:void 0,uploadStatus:h.UPLOAD_PENDING}},m=function(a,b,c){var d="";return a===e.APK_MODE?(d+='curl -o downloadedApk.apk "{{downloadLink}}" && \\ \n',d+="adb install -r downloadedApk.apk && \\ \n",d+="adb shell am start -n ".concat(b.apkMode.packageName,"/").concat(b.apkMode.activityName)):d+="adb shell "+b.commandMode.commandToExecute.replace("{{EDUCATIVE_LIVE_VM_URL}}",c),d}},77731:function(a,b,c){c.r(b),c.d(b,{CLOUD_LAB_ACCESS_KEY:function(){return aa},CLOUD_LAB_ACCOUNT_ID:function(){return ac},CLOUD_LAB_SECRET_ACCESS_KEY:function(){return ab},CONSOLE_LOGOUT_URL:function(){return N},COURSE_CLOUD_LAB_CSP:function(){return $},COURSE_CLOUD_LAB_WIDGET_GROUPS_FEATURE_FLAG:function(){return _},CloudLabType:function(){return L},ConsoleUrlButton:function(){return Y},CourseCloudLabWidgetWrapper:function(){return S},DEFAULT_TIME_LIMIT:function(){return ad},PolicyVerificationStatus:function(){return Q},ValidatePolicyButton:function(){return P},WidgetGroupsList:function(){return R},courseCloudLabAfterEndAction:function(){return Z},credentialFields:function(){return M},endAndStartNewLab:function(){return W},getAutoGeneratedEnvAndApiKeys:function(){return T},getWidgetCloudId:function(){return V},providers:function(){return K},redirectToCloudLabHomePage:function(){return O},setCredentialAsApiKeysAndEnvKeys:function(){return U},startCourseCloudLab:function(){return X},times:function(){return J}});var d=c(20348),e=c(89763),f=c(13667),g=c(84121),h=c(7612),i=c(89703),j=c(62958),k=c(47486),l=c(39416),m=c(32444),n=c(55488),o=c(51955),p=c.n(o),q=c(36670),r=c(37513),s=function(a,b,c,d,e){var f="/api/cloud-course-session/".concat(a,"/").concat(b,"/").concat(e);return(0,r.Z)({url:f,type:"PUT",data:{active_group_id:d,active_page_id:c}})},t=c(43364),u=c(6188),v=c(86932),w=c(26744),x=c(86789),y=c(62073),z=c(12557),A=c(30833),B=c(96865),C=c(52908);function D(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function E(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function F(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){E(a,b,c[b])})}return a}function G(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}function H(a){return function(a){if(Array.isArray(a))return D(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||I(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(a,b){if(a){if("string"==typeof a)return D(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return D(a,b)}}var J=[{title:"15 minutes",value:15},{title:"30 minutes",value:30},{title:"45 minutes",value:45},{title:"1 hour",value:60},{title:"1 hour 30 minutes",value:90},{title:"2 hours",value:120},{title:"2 hours 30 minutes",value:150},{title:"3 hours",value:180},],K=[{title:"AWS",value:1},{title:"Azure",value:2},{title:"GCP",value:3},],L={CLOUD_LAB:1,CLOUD_COURSE:2,STANDALONE_CLOUD_LAB:3},M=[{name:"Sign-in URL",key:"sign_in_url",eventAction:e.bt.SIGN_IN_URL_COPY_CLICKED},{name:"Username",key:"username",eventAction:e.bt.USERNAME_COPY_CLICKED},{name:"Password",key:"password",eventAction:e.bt.PASSWORD_COPY_CLICKED},{name:"Access Key ID",key:"access_key_id",eventAction:e.bt.ACCESS_KEY_COPY_CLICKED},{name:"Secret Access Key",key:"secret_access_key",eventAction:e.bt.SECRET_KEY_COPY_CLICKED},],N="https://signin.aws.amazon.com/oauth?Action=logout",O=function(a,b,c,d,e,f){a.push("".concat(e&&f?"/cloudlabs/".concat(e):"/collection/page/".concat(b,"/").concat(c,"/").concat(d,"/cloudlab")))},P=function(a){var b=a.onClick,c=a.disabled;return(0,d.jsx)("button",{disabled:c,className:"outlined-default",onClick:function(){return b()},children:"Verify Policy"})},Q=function(a){var b=a.policyFindings,c=a.policyErrors,e=a.policyWarns;return(0,d.jsxs)("div",{className:"mt-2 w-full",children:[b.loading&&(0,d.jsx)(f.default,{}),b.loaded&&(0,d.jsx)("div",{className:"whitespace-pre-wrap rounded border border-solid p-3 font-mono",children:0===c.length&&0===e.length?(0,d.jsx)("span",{className:"text-success-darkN1 dark:text-success",children:"No errors or warnings found"}):(0,d.jsxs)(d.Fragment,{children:[c.length>0&&(0,d.jsxs)("div",{className:"mb-3 text-error dark:text-error-lightP1",children:[(0,d.jsx)("p",{children:"Errors:"}),c.join("\n")]}),e.length>0&&(0,d.jsxs)("div",{className:"text-warning-darkN1 dark:text-warning-lightP1",children:[(0,d.jsx)("p",{children:"Security Warnings:"}),e.join("\n")]})]})})]})},R=function(a){var b=a.disabled,c=void 0!==b&&b,e=a.widgetGroups,f=a.setCourseCloudLabWidgetGroups,k=(0,i.useState)(e||[]),l=k[0],m=k[1],n=function(a,b){var c;c=a?H(l).concat([{id:(0,j.x0)(5),group_name:""}]):l.filter(function(a,c){return c!==b}),m(c)},o=function(a,b){m(l.map(function(c){return c.id===b?{id:b,group_name:a}:c}))},q=function(){f(l.filter(function(a){return a.group_name&&""!==a.group_name.trim()}))},r=l.map(function(a,b){var e=l.length-1===b,f=0===b,i=!f&&e&&!l[b].group_name;return(0,d.jsxs)("div",{className:"m-1 flex",children:[(0,d.jsx)(g.default,{placeholder:"e.g. dynamoDB",disabled:c||f,defaultValue:a.group_name,onChange:function(b){o(b.target.value,a.id)},className:"mr-2"},a.id),(0,d.jsx)(h.Z,{disabled:c|| !e&&f,variant:"small",onClick:function(){i||n(e,b)},value:e?"+":"-",color:"black",className:"mr-3 mt-4 h-6 w-6 ".concat(i?p().disabled:""),children:e?"+":"-"})]})});return(0,d.jsxs)("div",{className:"flex flex-col p-3",onBlur:function(){q()},children:[(0,d.jsx)("span",{className:"text-lg font-semibold text-black dark:text-dark-contrastText",children:"Widget Groups"}),r]})},S=function(a){var b,c=a.courseCloudLab,e=a.widgetContent,f=a.updateContentState,g=a.children,h=null==c?void 0:c.widget_groups,i=function(a){var b=h.findIndex(function(b){return b.id===a});return -1===b?0:b},j=function(a){f({cloud_session_group:{id:a}})};return(0,d.jsxs)(d.Fragment,{children:[_&&(0,d.jsxs)("div",{className:"mb-2 inline-flex flex-row",children:[(0,d.jsx)("span",{className:"p-2 pb-0 text-lg font-semibold text-black dark:text-dark-contrastText",children:"Select Course Cloud Lab widget group"}),(0,d.jsx)(k.Z,{value:null==e?void 0:null===(b=e.cloud_session_group)|| void 0===b?void 0:b.id,renderValue:function(){var a,b;return null==h?void 0:null===(b=h[i(null==e?void 0:null===(a=e.cloud_session_group)|| void 0===a?void 0:a.id)])|| void 0===b?void 0:b.group_name},onChange:function(a){j(a)},customClass:"w-64",children:h.map(function(a){return(0,d.jsx)(l.Z,{value:a.id,children:a.group_name},a.id)})})]}),g]})},T=function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{},b=arguments.length>1&& void 0!==arguments[1]&&arguments[1];return[aa,ab].map(function(c){return F({id:c,key:c,name:c,value:c in a?a[c]:"",useAsDefault:!0},b&&{info:"",required:!1,deleted:!1})})},U=function(a,b,c,d,e){var f,g,h,i,j,k,l,o,p=null==b?void 0:null===(f=b.instance)|| void 0===f?void 0:null===(g=f.details)|| void 0===g?void 0:g.api_keys;p=null==p?void 0:p.filter(function(a){return!z.s.includes(a.id)});var q=null==b?void 0:null===(h=b.instance)|| void 0===h?void 0:null===(i=h.details)|| void 0===i?void 0:null===(j=i.docker)|| void 0===j?void 0:j.envs;q=null==q?void 0:q.filter(function(a){return!z.s.includes(a.id)});var r=[];Object.keys(c||{}).forEach(function(a){var b=[aa,ab,ac,].includes(a)?$.concat("_"+a):a;r.push({id:b,key:b,name:b,value:null==c?void 0:c[a]})});var s=r;s=s.map(function(a){return G(F({},a),{deleted:!1,useAsDefault:!0,defaultValue:a.value})}),a(m.X5.set(G(F({},b),{instance:G(F({},b.instance),{details:G(F({},b.instance.details),{course_cloud_lab:G(F({},null===(k=b.instance.details)|| void 0===k?void 0:k.course_cloud_lab),{active_group_id:d,active_page_id:e}),user_course_cloud_lab:F({},null===(l=b.instance.details)|| void 0===l?void 0:l.user_course_cloud_lab,c),api_keys:H(p).concat(H(r)),docker:G(F({},null===(o=b.instance.details)|| void 0===o?void 0:o.docker),{envs:H(q).concat(H(s))})})})})));var t=H(q).concat(H(s));a(n.ry.saveEnvs({envs:t}))},V=function(a){var b,c,d=a.comps,e=a.hash,f=d,g=null==f?void 0:null===(b=f[e])|| void 0===b?void 0:null===(c=b.content)|| void 0===c?void 0:c.cloud_session_group;return g?null==g?void 0:g.id:""},W=function(a,b,c){var d,e,f,g,h,i,j,k,l,m=a.pageId,n=a.collection,o=a.dispatch,p=n.authorId,q=n.collectionId;return((null==n?void 0:null===(d=n.instance)|| void 0===d?void 0:null===(e=d.details)|| void 0===e?void 0:null===(f=e.course_cloud_lab)|| void 0===f?void 0:f.admin)?(0,y.JL)(p,q,null==n?void 0:null===(g=n.instance)|| void 0===g?void 0:null===(h=g.details)|| void 0===h?void 0:null===(i=h.course_cloud_lab)|| void 0===i?void 0:i.course_cloud_lab_id):(0,t.e)(p,q,null==n?void 0:null===(j=n.instance)|| void 0===j?void 0:null===(k=j.details)|| void 0===k?void 0:null===(l=k.course_cloud_lab)|| void 0===l?void 0:l.course_cloud_lab_id)).then(function(){X({pageId:m,collection:n,dispatch:o},b,c)})},X=function(a,b,c){var d,e,f,g,h=a.pageId,i=a.collection,j=a.dispatch,k=i.authorId,l=i.collectionId,m=null==i?void 0:null===(d=i.instance)|| void 0===d?void 0:null===(e=d.details)|| void 0===e?void 0:e.course_cloud_lab,n=null==i?void 0:null===(f=i.instance)|| void 0===f?void 0:null===(g=f.details)|| void 0===g?void 0:g.url_slug,o=null==m?void 0:m.admin;return(o?(0,y.qu)(k,l,null==m?void 0:m.course_cloud_lab_id,!1,b,h):s(k,l,h,b,null==m?void 0:m.course_cloud_lab_id)).then(function(a){(a=JSON.parse(a))&&(U(j,i,Object.fromEntries(z.s.map(function(b){return[b,a[b.replace($+"_","")],]})),b,h),c({type:"setInProgressLab",payload:{author_id:k,collection_id:l,cloud_lab_id:null==m?void 0:m.course_cloud_lab_id,title:"",end_time:Date.now()+6e4*m.time_limit,active_page_id:h,course_url_slug:n,test_mode:o,setup_status:a.setup_status}}))})},Y=function(a){var b=a.setup_status,c=a.sign_in_url,f=a.author_id,g=a.collection_id,h=a.cloud_lab_id,j=a.disable_federated_login,k=a.setLabSetupStatus,l=a.labCompleted,m=void 0!==l&&l,n=a.labSetupIntervalRef,o=a.eventCategory,p=a.className,q=(0,u.TL)(),r=(0,i.useState)(!1),s=r[0],t=r[1];return(0,i.useEffect)(function(){var a=null;return b===A.Psf.IN_PROGRESS&&(a=(0,y.d1)(f,g,h,k)),function(){a&&clearInterval(a)}},[k,b]),(0,d.jsx)("div",{className:"".concat(void 0===p?"":p),children:b&&b===A.Psf.FAILED?(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("button",{className:"outlined-primary h-full bg-transparent py-2 text-base font-bold",disabled:m,onClick:function(){(0,e.qP)(o,e.bt.CLOUD_LAB_CLICKED_RETRY_PRE_SETUP_BUTTON),k(A.Psf.IN_PROGRESS),(0,y.bP)({author_id:f,collection_id:g,cloud_lab_id:h}).then(JSON.parse).then(function(a){k(a.status),n.current=(0,y.d1)(f,g,h,k)}).catch(function(a){k(A.Psf.FAILED)})},children:"Retry Configuring"})}):(0,d.jsx)("button",{className:"h-full select-none border-2 border-solid border-primary bg-primary py-2 font-bold ".concat(b===A.Psf.IN_PROGRESS||s?"".concat(s?"w-32":""," cursor-default focus:outline-0"):""," dark:bg-primary"),disabled:m,onClick:function(){!s&&(!b||b===A.Psf.SUCCESS)&&((0,e.qP)(o,e.bt.CLOUD_LAB_CLICKED_OPEN_CONSOLE_BUTTON),j?window.open(c,"_blank","noopener, noreferrer"):(t(!0),(0,v.EX)({author_id:f,collection_id:g,cloud_lab_id:h}).then(JSON.parse).then(function(a){fetch(N,{mode:"no-cors",credentials:"include"}).finally(function(){window.open(a.url,"_blank","noopener, noreferrer"),q(B.n.close())})}).catch(function(a){q(B.n.show(w.ad,{status:"ERROR",text:"Unable to Generate Lab URL"})),(0,C.uX)(a)}).finally(function(){return t(!1)})))},children:b===A.Psf.IN_PROGRESS?(0,d.jsxs)("div",{className:"flex h-full items-center justify-center",children:[(0,d.jsx)(x.Z,{size:20,color:"text-white"}),(0,d.jsx)("span",{className:"ml-1",children:"Configuring..."})]}):s?(0,d.jsx)(x.Z,{size:24,contrast:!0}):"Open Console"})})},Z=function(a,b){var c,d,e,f,g,h,i,j,k=null==a?void 0:null===(c=a.instance)|| void 0===c?void 0:null===(d=c.details)|| void 0===d?void 0:d.api_keys;k=(k||[]).filter(function(a){return!z.s.includes(a.id)});var l=null==a?void 0:null===(e=a.instance)|| void 0===e?void 0:null===(f=e.details)|| void 0===f?void 0:null===(g=f.docker)|| void 0===g?void 0:g.envs;l=(l||[]).filter(function(a){return!z.s.includes(a.id)});var o=null==a?void 0:null===(h=a.instance)|| void 0===h?void 0:null===(i=h.details)|| void 0===i?void 0:i.course_cloud_lab;b(m.X5.set(G(F({},a),{instance:G(F({},a.instance),{details:G(F({},a.instance.details),{course_cloud_lab:G(F({},o),{active_group_id:null,active_page_id:null}),user_course_cloud_lab:null,api_keys:k,docker:G(F({},null===(j=a.instance.details)|| void 0===j?void 0:j.docker),{envs:l})})})}))),b(n.ry.saveEnvs({envs:l}))},$="aws",_=(0,q.a8)()||(0,q.ZP)(),aa="access_key_id",ab="secret_access_key",ac="account_id",ad=30},19132:function(a,b,c){var d=c(30833),e=function(a,b){if(b===d.RIu.LESSON)return d.dLO.COLLECTION;var c,e=a||(null==window?void 0:null===(c=window.location)|| void 0===c?void 0:c.pathname);return(null==e?void 0:e.startsWith("/plan"))&&(null==e?void 0:e.includes("/module"))?d.dLO.MODULE:(null==e?void 0:e.startsWith("/path"))||(null==e?void 0:e.startsWith("/plan"))?d.dLO.PATH:(null==e?void 0:e.startsWith("/module"))?d.dLO.MODULE:(0,d.dLO.COLLECTION)};b.Z=e},83787:function(a,b,c){var d,e=c(89703);function f(){return(f=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var g=function(a){return e.createElement("svg",f({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},a),d||(d=e.createElement("path",{d:"M4 13a3 3 0 0 0-2.1.9C.7 15 0 20 0 20s5-.7 6.1-1.9A3 3 0 0 0 4 13Zm.7 3.7c-.3.3-2.2.8-2.2.8s.5-2 .8-2.2c.2-.2.4-.3.7-.3a1 1 0 0 1 .7 1.7Zm10.7-5C21.8 5.2 19.7.2 19.7.2s-5-2-11.3 4.3L5.8 4a2 2 0 0 0-1.9.5l-4 4 5 2.2L9.2 15l2.1 5 4-4A2 2 0 0 0 16 14l-.5-2.5Zm-10-2.9L3.5 8l2-2 1.4.3-1.5 2.5Zm6.6 7.7-.8-2c.8-.3 1.6-.8 2.5-1.4l.3 1.4-2 2Zm2-6.3a17.2 17.2 0 0 1-4 2.8l-3-3a17 17 0 0 1 2.8-4C14.4 1.3 18 2 18 2s.7 3.6-4 8.2ZM13 9a2 2 0 0 0 2-2 2 2 0 0 0-2-2 2 2 0 0 0-2 2c0 1.1.9 2 2 2Z"})))};b.Z=g}}])
//# sourceMappingURL=46746-e7a2473abe444f36.js.map