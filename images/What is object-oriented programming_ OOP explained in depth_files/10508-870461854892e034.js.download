(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[10508],{10508:function(a,b,c){"use strict";c.d(b,{K:function(){return ad},Z:function(){return ae}});var d,e,f,g,h=c(20348),i=c(89703),j=c(7760),k=c(98252),l=c(32210),m=c(69943),n=c(82336),o=c.n(n),p=c(64889),q=c(35754),r=c(61566),s=function(a){var b=(null==a?void 0:a.asPath)||"";return/^\/?((answereditor\/\d+)|(pageeditor(\/\d+){3})|(proofread.*))\/?$/.test(b)?r.sL.EDITOR:r.sL.PUBLISHED},t=s,u=c(34099),v=c(51901);function w(a){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function x(a,b){return(x=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var y=function(a){var b,c,f=a.collectionArticlePreview,g=a.edpresso,h=a.comments.selectedDocument;return{pageDocumentKey:null!==(e=null!==(d=null===(b=f.data)|| void 0===b?void 0:b.page_key)&& void 0!==d?d:null===(c=g.properties.data)|| void 0===c?void 0:c.shotKey)&& void 0!==e?e:null,selectedDocumentKey:h.key||null}},z=(0,p.$j)(y),A=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&x(a,b)}(e,a);var b,c,d=(b=e,c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,d,e,f,g=w(b);if(c){var h=w(this).constructor;f=Reflect.construct(g,arguments,h)}else f=g.apply(this,arguments);return d=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(d)});function e(){var a;return!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,e),a=d.apply(this,arguments),a.getDocumentKey=function(){var b=a.props,c=b.pageDocumentKey,d=b.componentId;return c?"".concat(c,"/").concat(d):""},a}return e.prototype.render=function(){var a=this.props,b=a.pageDocumentKey,c=a.selectedDocumentKey,d=a.router,e=a.componentId,f=a.children,g=a.inPreview,i=a.widgetType,j=t(d);if(!b||!e||j===r.sL.PUBLISHED)return f;var k=this.getDocumentKey(),l=k===c;return[(0,h.jsx)("div",{className:l&&g?"rounded border p-2.5":"",style:l&&g?{boxShadow:"0px 0px 15px ".concat(v.colors.primary.lightP1)}:{},children:f},"widget_wrapper_global_styled"),(0,h.jsx)(q.Z,{documentKey:k,inPreview:g,widgetType:i},"comment_menu_for_widgets"),]},e}(i.Component),B=(0,u.withRouter)(z(A)),C=c(65277),D=c(4178),E=function(a){var b=a.children,c=a.fullScreen,d=a.compId;return(0,h.jsx)("div",{className:c?"fullscreen_wrapper":"",children:(0,h.jsx)("div",{id:"widget-parent-".concat(d),className:c?"fullHeight":"",children:b})})},F=c(6785),G=c(74706),H=c(32530),I=c(55488),J=c(18442),K=c(30833),L=c(33352);function M(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function N(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function O(a){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function P(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){N(a,b,c[b])})}return a}function Q(a,b){return(Q=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var R=c(72301),S=c(80320);function T(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function U(a){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function V(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){T(a,b,c[b])})}return a}function W(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}function X(a,b){if(null==a)return{};var c,d,e=Y(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function Y(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}function Z(a,b){return(Z=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var $,_,aa,ab,ac=((f=function(a){(function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&Z(a,b)})(e,a);var b,c,d=(b=e,c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,d,e,f,g=U(b);if(c){var h=U(this).constructor;f=Reflect.construct(g,arguments,h)}else f=g.apply(this,arguments);return d=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(d)});function e(){var a;return function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,e),a=d.apply(this,arguments),a.state={fullScreen:!1},a.component=i.createRef(),a.toggleFullScreen=function(b){var c=a.state.fullScreen;c?(a.appDiv.removeChild(a.portalParent),a.currentDiv.current.appendChild(a.portalParent)):(a.currentDiv.current.removeChild(a.portalParent),a.appDiv.appendChild(a.portalParent)),a.setState({fullScreen:!c},"function"!=typeof b?function(){}:b)},a.handleKeyDown=function(b){(b.keyCode===o().codes.f11&&b.ctrlKey&&!a.state.fullScreen||b.keyCode===o().codes.esc&&a.state.fullScreen)&&(b.preventDefault(),b.stopPropagation(),a.toggleFullScreen())},a.portalParent="undefined"!=typeof document&&document.createElement("div"),a.currentDiv=i.createRef(),a.focusDiv=i.createRef(),a.appDiv="undefined"!=typeof document&&document.getElementById("__next"),a.selectPlaceholder=function(){var b=a.props.comp.type;return["Code","TabbedCode","RunJS","WebpackBin","Android"].includes(b)?C.placeholderCodeWidget:["Columns","RecruitingCostCalculator"].includes(b)?C.placeholderColumnsWidget:["Image","CanvasAnimation","Chart","MxGraphWidget","DrawIOWidget","Video","TerminalWidget","LiveApp","Latex","Quiz",].includes(b)?C.placeholderImageWidget:["SpoilerEditor","ButtonLink","File","EnvVariableButton"].includes(b)?C.placeholderLineWidget:["Carousel"].includes(b)?C.placeholderCarouselWidget:["Matrix","NaryTree","BinaryTree","EducativeArray","HashTable","LinkedList","Stack","Graphviz","SequenceDiagrams",].includes(b)?C.placeholderDSWidget:C.placeholderTextWidget},a}var f=e.prototype;return f.componentDidMount=function(){var a;null===(a=this.currentDiv.current)|| void 0===a||a.appendChild(this.portalParent)},f.componentDidUpdate=function(a,b){var c,d,e,f,g,h,i;a.saveVersion!==this.props.saveVersion&&(null===(d=this)|| void 0===d||null===(e=d.component)|| void 0===e||null===(f=e.current)|| void 0===f||null===(g=f.saveComponent)|| void 0===g||g.call(f),null===(i=(h=this.props).runPendingAction)|| void 0===i||i.call(h)),this.state.fullScreen!==b.fullScreen&&this.state.fullScreen&&(null===(c=this.focusDiv)|| void 0===c?void 0:c.current)&&this.focusDiv.current.focus()},f.shouldComponentUpdate=function(a,b){if(a.alwaysUpdate||this.props.renderMode===K._zD.VIEWER||(null===(c=a.comp)|| void 0===c?void 0:c.contentID)!==(null===(d=this.props.comp)|| void 0===d?void 0:d.contentID)||this.state.fullScreen!==b.fullScreen)return!0;var c,d,e,f,g,h,i,j,k,m=this.props,n=m.authorId,o=m.contentSnapshot,p=m.defaultCourseLanguage,q=m.editingApiKeys,r=m.executionMetadata,s=m.iteration,t=m.mode,u=m.saveVersion,v=m.userThemes,w=m.vimMode;if(n!==a.authorId||o!==a.contentSnapshot||p!==(null==a?void 0:a.defaultCourseLanguage)||q!==a.editingApiKeys||(null==r?void 0:r.loaded)!==(null===(e=a.executionMetadata)|| void 0===e?void 0:e.loaded)||s!==a.iteration||t!==a.mode||u!==a.saveVersion||v!==a.userThemes||w!==a.vimMode||(null===(f=this.props.widgetsData)|| void 0===f?void 0:f.copiedWidget)!==(null===(g=a.widgetsData)|| void 0===g?void 0:g.copiedWidget))return!0;var x=null!==(j=this.props.docker)&& void 0!==j?j:{},y=x.container,z=x.envs,A=x.jobs,B=null!==(k=a.docker)&& void 0!==k?k:{},C=B.container,D=B.envs,E=B.jobs;return!((null==y?void 0:y.buildStatus)===(null==C?void 0:C.buildStatus)&&(null==y?void 0:null===(h=y.liveInstance)|| void 0===h?void 0:h.id)===(null==C?void 0:null===(i=C.liveInstance)|| void 0===i?void 0:i.id)&&l.equals(z,D)&&l.equals(A,E))|| !this.props.apiKeysChanged&&!!a.apiKeysChanged|| !!this.props.askForHelp&&this.props.askForHelp!==a.askForHelp},f.canToggleFullscreen=function(){return!this.props.inModal},f.saveComponent=function(){var a,b;null===(a=this.component.current)|| void 0===a||null===(b=a.saveComponent)|| void 0===b||b.call(a)},f.render=function(){var a,b,c=this,d=this.props,e=d.comp,f=d.logWidgetInteraction,g=d.widgetsData,i=d.allowComments,l=X(d,["comp","logWidgetInteraction","widgetsData","allowComments"]),n=null!==(b=null==e?void 0:null===(a=e.content)|| void 0===a?void 0:a.comp_id)&& void 0!==b?b:"",o=this.props.default_themes,p=e,q=p.content,r=p.hash,s=p.type;"LinkButton"===s&&(s="ButtonLink");var t=this.selectPlaceholder(),u=this.props.renderMode===K._zD.VIEWER?D.ZP:D.tC,v=function(a){var b=a.disabled,d=a.onClick,e=a.style,f=a.position,g=void 0===f?K.YS6:f,i=X(a,["disabled","onClick","style","position"]);return!!(c.state.fullScreen||c.canToggleFullscreen())&&(0,h.jsx)(k.default,{onClick:void 0===d?function(){}:d,overlay:c.state.fullScreen?"Exit (ESC)":"Full screen",parentClasses:"".concat(b?"cursor-wait dark:focus:text-gray-900 dark:hover:text-gray-900 focus:cursor-wait focus:text-gray-600 hover:cursor-wait hover:text-gray-600 text-gray-600":"cursor-pointer dark:hover:text-primary-light hover:text-primary"," duration-200 flex hover:scale-110 ml-auto sm:block tailwind-hidden transform"),position:g,style:void 0===e?{}:e,children:c.state.fullScreen?(0,h.jsx)(R.Z,V({className:"h-4 w-4"},i)):(0,h.jsx)(S.Z,V({className:"h-4 w-4"},i))},Number(c.state.fullScreen))},w=(0,h.jsx)(m.df,{triggerOnce:!0,children:function(a){var b=a.inView,d=a.ref,e=(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(E,{fullScreen:c.state.fullScreen,compId:n,children:(0,h.jsx)(u,W(V({inView:b},l),{type:s,hash:r,lesson_info:c.props.lesson_info,className:"widget",default_themes:o,contentStateFinalized:c.props.contentStateFinalized,forwardedRef:c.component,content:q,docker:c.props.docker,logWidgetInteraction:f(s),widgetsData:g,userThemes:c.props.userThemes,vimMode:c.props.vimMode,fallback:(0,h.jsx)("div",{className:"mb-5 w-full",children:t}),toggleFullScreen:c.toggleFullScreen,fullScreen:c.state.fullScreen,fullscreenIconToggle:v}))})}),j=e;return i&&(j=(0,h.jsx)(B,{componentId:n,inPreview:"view"===c.props.mode,widgetType:s,children:e})),(0,h.jsx)("div",W(V({ref:c.focusDiv},c.canToggleFullscreen()?{onKeyDown:c.handleKeyDown,tabIndex:0,style:{outline:"none"}}:{}),{children:(0,h.jsx)("div",{ref:d,children:j})}))}});return D.ZP?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{ref:this.currentDiv,children:"Image"===s&&w}),"Image"!==s&&this.portalParent&&j.createPortal(w,this.portalParent)]}):(console.error("invalid component - ".concat(e)),(0,h.jsxs)("p",{children:["Invalid Object with type - ",s]}))},e}(i.Component)).defaultProps={logWidgetInteraction:function(a){return function(b){return{x:a,y:b}}},docker:{},userThemes:null,vimMode:!1,apiKeysChanged:!1,inModal:!1,allowComments:!0,editingApiKeys:!1,alwaysUpdate:!1},f),ad=($=ac,_=function(a){return{updateUserApiKeys:function(b){return function(c,d,e){return(0,H.Q)(c,d,e,b)(a)}},saveDockerEnvs:function(b){var c=b.envs;return a(I.ry.saveEnvs({envs:void 0===c?[]:c}))},dispatch:a}},aa=(0,p.$j)(null,_),ab=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&Q(a,b)}(e,a);var b,c,d=(b=e,c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,d,e,f,g=O(b);if(c){var h=O(this).constructor;f=Reflect.construct(g,arguments,h)}else f=g.apply(this,arguments);return d=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(d)});function e(){var a;return!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,e),a=d.apply(this,arguments),a.state={tabIndex:0},a.onTabChange=function(b){a.setState({tabIndex:b}),a.context.setWidgetState({})},a}return e.prototype.render=function(){var a,b,c,d=this.props,e=d.authorId,f=d.userId,g=d.collectionId,i=d.shotId,j=d.editorPageId,k=d.comp,l=d.apiKeys,m=d.userApiKeys,n=d.updateUserApiKeys,o=d.saveDockerEnvs,p=d.compId,q=d.docker,r=d.enableApiKeys,s=d.isPlan,t=d.askForHelp,u=d.loadAskForHelp,v=d.organizationId,w=this.context.widgetState,x=k.type,y={},z=this.props;if("TabbedCode"===x){var A,B,C,D,E,H,I,L,N,O,Q,R,S,T,U=this.state.tabIndex;if(!this.props.isDraft){var V=(0,J.u)("".concat(f,"_").concat(g));U=(null==(V=JSON.parse(V))?void 0:V.key)||this.state.tabIndex}y=null!==(T=null==k?void 0:null===(Q=k.content)|| void 0===Q?void 0:null===(R=Q.codeContents)|| void 0===R?void 0:null===(S=R[U])|| void 0===S?void 0:S.selectedApiKeys)&& void 0!==T?T:{},z=(A=P({},z),B=(B={onTabChange:this.onTabChange,activeTab:U},B),Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(B)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(B)).forEach(function(a){Object.defineProperty(A,a,Object.getOwnPropertyDescriptor(B,a))}),A)}else y=null!==(O=k.content.selectedApiKeys)&& void 0!==O?O:{};var W=null!==(a=k.content.selectedEnvVars)&& void 0!==a?a:{},X=null!==(b=y&&Object.keys(y).filter(function(a){return y[a].extract}).map(function(a){return l.find(function(b){return b.id===a})}))&& void 0!==b?b:[],Y=null!==(c=y&&Object.keys(y).filter(function(a){return y[a].required}).map(function(a){return l.find(function(b){return b.id===a})}))&& void 0!==c?c:[];Y=l.filter(function(a){return Y.includes(a)});var Z,_=(null==q?void 0:null===(C=q.container)|| void 0===C?void 0:C.imageName)!=="",aa=(null==q?void 0:q.envs)||[],ab=null==k?void 0:null===(D=k.content)|| void 0===D?void 0:D.dockerJob,ac="TerminalWidget"===x,ad=_&&(Object.keys(null!=ab?ab:{}).length||ac)&&(function(a){if(Array.isArray(a))return M(a)}(Z=aa)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(Z)||function a(b,c){if(b){if("string"==typeof b)return M(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(d);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return M(b,c)}}(Z)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())||[],ae=(null===(E=k.content)|| void 0===E?void 0:E.readOnlyApiKeys)||!1,af="RunJS"===x&&(null==k?void 0:null===(H=k.content)|| void 0===H?void 0:null===(I=H.jotted)|| void 0===I?void 0:I.autoRun);return r&&(l.length||aa.length)&&K.tMW.includes(x)&&(ad.length||Y.length||X.length)?(0,h.jsx)(G.Z,{requiredEnvKeys:ad,requiredApiKeys:Y,toExtractApiKeys:X,userApiKeys:m,updateUserApiKeys:n((0,F.Z)(this.props.router.asPath)||j&&!f),saveDockerEnvs:o,params:{authorId:e,collectionId:g,shotId:i,editorPageId:j},requiredEditMode:w.compId===p&&"required"===w.type,extractedEditMode:w.compId===p&&"extraction"===w.type,envEditMode:w.compId===p&&"env"===w.type,compId:p,widgetVersion:null==k?void 0:null===(L=k.content)|| void 0===L?void 0:L.version,widgetType:x,setWidgetWrapper:this.context.setWidgetState,isTerminalWidget:ac,selectedEnvVars:W,onTabChange:this.onTabChange,isDraft:(0,F.Z)(this.props.router.asPath)||this.props.isDraft,pageType:this.props.pageType,readOnlyApiKeys:ae,hideWrapper:af,isPlan:s,askForHelp:t,loadAskForHelp:u,organizationId:v,apiKeys:this.props.apiKeys,comp:this.props.comp,courseCloudLab:this.props.courseCloudLab,docker:null===(N=this.props)|| void 0===N?void 0:N.docker,children:(0,h.jsx)($,P({},z))}):(0,h.jsx)($,P({},z))},e}(i.Component),ab.contextType=L.Mv,ab.defaultProps={apiKeys:[],userApiKeys:{},authorId:null,collectionId:null,enableApiKeys:!1},(0,u.withRouter)(aa(ab))),ae=ac},74706:function(a,b,c){"use strict";c.d(b,{Z:function(){return av}});var d=c(18154),e=c.n(d),f=c(20348),g=c(89703),h=c(84196),i=c(13667),j=c(15538),k=c(70732),l=c(77663),m=c(23063),n=c(51901);function o(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}function p(){var a=o(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  padding: 7px 20px 6px;\n"]);return p=function(){return a},a}function q(){var a=o(["\n      display: none;\n    "]);return q=function(){return a},a}function r(){var a=o(["\n      margin-bottom: 20px;\n    "]);return r=function(){return a},a}function s(){var a=o(["\n  display: flex;\n  transition: 0.5s;\n  flex-direction: column;\n  justify-content: flex-start;\n  ","\n  ","\n"]);return s=function(){return a},a}function t(){var a=o(["\n  display: flex;\n  flex-direction: row;\n  margin: ",";\n  @media (max-width: ",") {\n    margin: 6px 0 6px 10px;\n  }\n"]);return t=function(){return a},a}function u(){var a=o(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  width: 150px;\n  cursor: pointer;\n"]);return u=function(){return a},a}function v(){var a=o(["\n  display: flex;\n  margin-left: 10px;\n  flex-wrap: wrap;\n  align-items: center;\n\n  @media (max-width: ",") {\n    flex-direction: column;\n    justify-content: center;\n  }\n"]);return v=function(){return a},a}function w(){var a=o(["\n      color: ",";\n    "]);return w=function(){return a},a}function x(){var a=o(["\n  margin-left: 10px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  width: 240px;\n  ","\n"]);return x=function(){return a},a}function y(){var a=o(["\n  display: flex;\n  color: ",";\n"]);return y=function(){return a},a}function z(){var a=o(["\n  width: 200px;\n  height: 30px;\n  border-radius: ",";\n\n  outline: none;\n  padding-left: 10px;\n  @media (max-width: ",") {\n    width: 120px;\n    height: 25px;\n  }\n"]);return z=function(){return a},a}function A(){var a=o(["\n      display: none;\n    "]);return A=function(){return a},a}function B(){var a=o(["\n  transition: 0.5s;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-self: flex-start;\n  margin: 35px 0 30px 10px;\n\n  @media (max-width: ",") {\n    justify-content: center;\n    align-self: center;\n  }\n  ","\n"]);return B=function(){return a},a}function C(){var a=o(["\n  display: flex;\n\n  .importLabel {\n    text-align: center;\n    height: 40px;\n    margin: 8px 10px;\n    padding: 8px 10px;\n    transition: 0.2s;\n    cursor: pointer;\n  }\n\n  .jsonImport {\n    width: 0.1px;\n    opacity: 0;\n    z-index: 1;\n  }\n"]);return C=function(){return a},a}function D(){var a=o(["\n  display: flex;\n  flex-direction: row;\n  flex-shrink: 0;\n  align-items: center;\n"]);return D=function(){return a},a}function E(){var a=o(["\n  border: 0.5px solid ",";\n  height: 2px;\n  width: 98%;\n  margin: 2px auto auto 8px;\n\n  @media (max-width: ",") {\n    align-self: center;\n    margin: 0px 8px;\n    width: 95%;\n  }\n"]);return E=function(){return a},a}function F(){var a=o(["\n  display: flex;\n  align-items: center;\n"]);return F=function(){return a},a}var G=k.ZP.div.withConfig({componentId:"sc-29d7d60d-0"})(p()),H=k.ZP.div.withConfig({componentId:"sc-29d7d60d-1"})(s(),function(a){return a.isHidden&&(0,k.iv)(q())},function(a){return a.readOnlyMode&&(0,k.iv)(r())}),I=k.ZP.div.withConfig({componentId:"sc-29d7d60d-2"})(t(),function(a){return a.header?"6px 0 10px 10px":"6px 0 0 10px"},l.M7.pixels),J=k.ZP.div.withConfig({componentId:"sc-29d7d60d-3"})(u()),K=k.ZP.div.withConfig({componentId:"sc-29d7d60d-4"})(v(),l.M7.pixels),L=k.ZP.div.withConfig({componentId:"sc-29d7d60d-5"})(x(),function(a){var b=a.disabled;return void 0!==b&&b&&(0,k.iv)(w(),n.colors.gray[700])}),M=k.ZP.div.withConfig({componentId:"sc-29d7d60d-6"})(y(),n.colors.gray[800]),N=k.ZP.input.withConfig({componentId:"sc-29d7d60d-7"})(z(),m.QH,l.M7.pixels),O=k.ZP.div.withConfig({componentId:"sc-29d7d60d-8"})(B(),l.M7.pixels,function(a){return a.isHidden&&(0,k.iv)(A())}),P=k.ZP.div.withConfig({componentId:"sc-29d7d60d-9"})(C()),Q=k.ZP.div.withConfig({componentId:"sc-29d7d60d-10"})(D()),R=k.ZP.div.withConfig({componentId:"sc-29d7d60d-11"})(E(),n.colors.gray[300],l.M7.pixels),S=k.ZP.div.withConfig({componentId:"sc-29d7d60d-12"})(F()),T=c(55973),U=c(98252),V=c(22008),W=c(786),X=c.n(W),Y=c(92927),Z=c(57774),$=c(30833),_=c(56604),aa=c(14397),ab=c(52436),ac=c.n(ab),ad=c(57227),ae=c(32210),af=c(12557),ag=c(42448);function ah(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function ai(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function aj(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function ak(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){aj(f,d,e,g,h,"next",a)}function h(a){aj(f,d,e,g,h,"throw",a)}g(void 0)})}}function al(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function am(a){return(am=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function an(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){al(a,b,c[b])})}return a}function ao(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}function ap(a,b){return(ap=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function aq(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(a,b)||ar(a,b)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ar(a,b){if(a){if("string"==typeof a)return ah(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return ah(a,b)}}var as=function(a,b,c){return["border-0 border-b border-solid border-gray-100 dark:border-dark-60",a&&"hover:bg-primary-lightP2 dark:hover:bg-gray-A100 dark:hover:text-dark-contrastText hover:border hover:border-solid hover:border-gray-300",b&&"!bg-error-lightP2 dark:!bg-error-dark",c&&"!bg-gray-200 dark:!bg-dark-70 mb-10",].filter(Boolean).join(" ")},at="hide_req_wrapper",au=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&ap(a,b)}(k,a);var b,c,d=(b=k,c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,d,e,f,g=am(b);if(c){var h=am(this).constructor;f=Reflect.construct(g,arguments,h)}else f=g.apply(this,arguments);return d=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:ai(d)});function k(){!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,k),a=d.apply(this,arguments),a.state={userEnvKeys:{},userRequiredKeys:{},userExtractedKeys:{},apiKeysChanged:!1,unReplacedKeys:[],unReplacedEnv:[],extractionBlocked:!1,hideRequiredPanel:!!T.rV(at),hideEnvPanel:!!T.rV(at),importError:!1,isEnvMissing:!1,importedKeys:[],isImported:!1,importEditMode:!1,noKeysFound:!1,bypassEnvCheck:!1},a.requiredFocussedKey="",a.envFocussedKey="",a.extractedFocussedKey="",a.componentDidMount=function(){window.addEventListener("keydown",a.keydownHandler,!0),a.populateApiKeys(),ad.YB.add(ad.E$.EXTRACT,a.processExtraction)},a.processExtraction=function(b){b.detail.compId===a.props.compId&&a.extract(b.detail.vmPassword)};var a,b,c=ai(a);return a.extract=(b=ak(e().mark(function a(b){var d,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,d=c.props.docker.container.liveInstance.url,a.next=4,fetch(d+"/getenv",{method:"GET",headers:{Authorization:b||"","ID-Port":"true"}});case 4:return f=a.sent,a.next=7,f.json();case 7:for(g=a.sent,h=new Set,i=c.props.comp.content.selectedApiKeys,j=!0,k=!1,l=void 0,a.prev=11,m=Object.entries(i)[Symbol.iterator]();!(j=(n=m.next()).done);j=!0)p=(o=aq(n.value,2))[0],(q=o[1]).extract&&h.add(p);a.next=19;break;case 15:a.prev=15,a.t0=a.catch(11),k=!0,l=a.t0;case 19:a.prev=19,a.prev=20,j||null==m.return||m.return();case 22:if(a.prev=22,!k){a.next=25;break}throw l;case 25:return a.finish(22);case 26:return a.finish(19);case 27:for(t in r=c.props.apiKeys,s=new Set,r)h.has(r[t].id)&&s.add(r[t].name);for(w in u={},v=g.split("\r\n"))y=(x=v[w].split("="))[0],z=x[1],s.has(y)&&(u[y]=z);c.renderExtractionWrapper(u),A={compId:c.props.compId},Object.keys(u).length>0?A.is_extracted=!0:A.is_extracted=!1,ad.YB.dispatch(ad.E$.IS_EXTRACTED,A),a.next=42;break;case 39:a.prev=39,a.t1=a.catch(0),console.log(a.t1);case 42:case"end":return a.stop()}},a,null,[[0,39],[11,15,19,27],[20,,22,26]])})),function(a){return b.apply(this,arguments)}),a.componentDidUpdate=function(b){var c,d,e=b.userApiKeys.loading,f=a.props.userApiKeys.loading;b.requiredEditMode&&!a.props.requiredEditMode&&(a.closeRequiredWrapper(!0,!0),a.requiredFocussedKey=""),b.envEditMode&&!a.props.envEditMode&&(a.closeEnvWrapper(!0,!0),a.envFocussedKey=""),b.extractedEditMode&&!a.props.extractedEditMode&&(a.closeExtractionWrapper(!0,!0),a.extractedFocussedKey="");var g=ae.equals(null===(c=a.props)|| void 0===c?void 0:c.requiredApiKeys,null==b?void 0:b.requiredApiKeys),h=ae.equals(null===(d=a.props)|| void 0===d?void 0:d.requiredEnvKeys,null==b?void 0:b.requiredEnvKeys);(!e||f)&&g&&h||a.populateApiKeys()},a.componentWillUnmount=function(){a.props.setWidgetWrapper({}),ad.YB.remove(ad.E$.EXTRACT,a.processExtraction)},a.requiredWrapper=null,a.extractedWrapper=null,a.envWrapper=null,a.populateApiKeys=function(){var b=arguments.length>0&& void 0!==arguments[0]&&arguments[0],c=arguments.length>1&& void 0!==arguments[1]&&arguments[1],d=arguments.length>2&& void 0!==arguments[2]&&arguments[2],e=a.props,f=e.userApiKeys,g=e.requiredEnvKeys,h=e.requiredApiKeys,i=e.toExtractApiKeys,j=an({},a.state.userEnvKeys),k=an({},a.state.userRequiredKeys),l=an({},a.state.userExtractedKeys);g.forEach(function(a){if(null==a?void 0:a.id){var b,c,e,g=null==f?void 0:null===(b=f.keys)|| void 0===b?void 0:b[a.id],h=null==j?void 0:null===(c=j[a.id])|| void 0===c?void 0:c.val,i=(null==j?void 0:null===(e=j[a.id])|| void 0===e?void 0:e.dirty)||!1;j=ao(an({},j),al({},a.id,{val:!d&&i?h:g,dirty:!d&&i}))}}),Object.keys(null!=j?j:{}).length&&a.saveDockerEnvVariables(j),h.forEach(function(c){if(null==c?void 0:c.id){var d,e,g,h=null==f?void 0:null===(d=f.keys)|| void 0===d?void 0:d[c.id],i=null==k?void 0:null===(e=k[c.id])|| void 0===e?void 0:e.val,j=(null==k?void 0:null===(g=k[c.id])|| void 0===g?void 0:g.dirty)||!1,l=!b&&j?i:h,m="";m=void 0===l&&(a.props.isDraft||c.useAsDefault)?c.value:l,k=ao(an({},k),al({},c.id,{val:m,dirty:!b&&j}))}}),i.forEach(function(a){if(null==a?void 0:a.id){var b,d,e,g=null==f?void 0:null===(b=f.keys)|| void 0===b?void 0:b[a.id],h=null==l?void 0:null===(d=l[a.id])|| void 0===d?void 0:d.val,i=(null==l?void 0:null===(e=l[a.id])|| void 0===e?void 0:e.dirty)||!1;l=ao(an({},l),al({},a.id,{val:!c&&i?h:g,dirty:!c&&i}))}}),a.setState({userEnvKeys:j,userRequiredKeys:k,userExtractedKeys:l,apiKeysChanged:!0},function(){a.setState({apiKeysChanged:!1})})},a.setEnvKeyValue=function(b,c){var d=b.target.value.trim();a.setState(function(a){return{userEnvKeys:ao(an({},a.userEnvKeys),al({},c,{val:d,dirty:!0}))}})},a.setRequiredKeyValue=function(b,c){var d=b.target.value.trim();a.setState(function(a){return{userRequiredKeys:ao(an({},a.userRequiredKeys),al({},c,{val:d,dirty:!0}))}})},a.setExtractedKeyValue=function(b,c){var d=b.target.value.trim();a.setState(function(a){return{userExtractedKeys:ao(an({},a.userExtractedKeys),al({},c,{val:d,dirty:!0}))}})},a.updateDirty=function(b,c){var d=a.state,e=d.userEnvKeys,f=d.userRequiredKeys,g=d.userExtractedKeys,h=function(d,e){b in d&&a.setState(al({},e,ao(an({},d),al({},b,{val:c,dirty:!1}))))};h(e,"userEnvKeys"),h(f,"userRequiredKeys"),h(g,"userExtractedKeys")},a.saveDockerEnvVariables=function(b){var c=a.props.saveDockerEnvs,d=a.props.requiredEnvKeys.map(function(a){var c,d;return ao(an({},a),{value:(null==b?void 0:null===(c=b[a.id])|| void 0===c?void 0:c.val)===void 0?a.value||"":(null==b?void 0:null===(d=b[a.id])|| void 0===d?void 0:d.val)||""})});c({envs:d})},a.saveAlluserStateKeys=function(b,c){var d=arguments.length>2&& void 0!==arguments[2]&&arguments[2],e=a.props,f=e.userApiKeys,g=e.updateUserApiKeys,h=e.params,i=Object.keys(b).filter(function(a){var c;return(null==f?void 0:null===(c=f.keys)|| void 0===c?void 0:c[a])!==b[a].val});if(!i.length){c(!0);return}var j=i.reduce(function(a,c){return a=ao(an({},a),al({},c,b[c].val||""))},{});d&&a.saveDockerEnvVariables(b),g(h,j,"UPDATE"),c(!0)},a.handlerAction=function(a,b){return function(c,d){!c||(d?a(c,d)||b(c,d):a(c)||b(c))}},a.handlerActionExecute=function(b){var c=arguments.length>1&& void 0!==arguments[1]?arguments[1]:void 0,d=arguments.length>2&& void 0!==arguments[2]?arguments[2]:void 0,e=arguments.length>3&& void 0!==arguments[3]?arguments[3]:void 0,f=a.props,g=f.requiredEditMode,h=f.extractedEditMode,i=f.envEditMode;g?b(a.requiredFocussedKey,c):h?b(a.extractedFocussedKey,d):i&&b(a.envFocussedKey,e)},a.keydownHandler=function(b){var c=b.metaKey,d=b.ctrlKey,e="s"===b.key,f=a.state,g=f.userRequiredKeys,h=f.userExtractedKeys,i=f.userEnvKeys,j=a.props,k=j.requiredEditMode,l=j.extractedEditMode,m=j.envEditMode;if((c||d)&&e){b.preventDefault(),k&&a.saveAlluserStateKeys(g,a.closeRequiredWrapper),l&&a.saveAlluserStateKeys(h,a.closeExtractionWrapper),m&&a.saveAlluserStateKeys(i,a.closeEnvWrapper,!0);return}},a.renderExtractionWrapper=function(b){var c=a.props,d=c.requiredEditMode,e=c.toExtractApiKeys;if(0!==Object.keys(null!=b?b:{}).length&&0!==Object.keys(null!=e?e:{}).length){if(d){a.setState({extractionBlocked:!0});return}a.setState({extractionBlocked:!1});var f=e.reduce(function(a,c){var d=c.id,e=c.key;return e in b?ao(an({},a),al({},d,{val:b[e],dirty:!0})):a},a.state.userExtractedKeys),g=a.props,h=g.setWidgetWrapper,i=g.compId;h({type:"extraction",compId:i}),a.extractedFocussedKey="",a.setState({userExtractedKeys:f},function(){var b;(null===(b=a.extractedWrapper)|| void 0===b?void 0:b.scrollIntoView)&&a.extractedWrapper.scrollIntoView({behavior:"smooth",block:"start"})})}},a.renderReplacementWrapper=function(b){var c=arguments.length>1&& void 0!==arguments[1]&&arguments[1],d=a.props,e=d.setWidgetWrapper,f=d.compId,g=d.requiredEditMode,h=d.envEditMode;if(!b.length){(c?h:g)&&e({});return}e({type:c?"env":"required",compId:f}),a.requiredFocussedKey="",a.setState({unReplacedEnv:c?b:[],unReplacedKeys:c?[]:b,isEnvMissing:c},function(){var b=c?a.envWrapper:a.requiredWrapper;(null==b?void 0:b.scrollIntoView)&&b.scrollIntoView({behavior:"smooth",block:"start"})})},a.renderEnvsWrapper=function(){var b=a.props,c=b.setWidgetWrapper,d=b.compId;c({type:"env",compId:d}),a.envFocussedKey=""},a.closeEnvWrapper=function(b){var c=arguments.length>1&& void 0!==arguments[1]&&arguments[1];a.populateApiKeys(!1,!1,b),!c&&(0,a.props.setWidgetWrapper)({}),a.setState({isEnvMissing:!1,unReplacedEnv:[]})},a.closeRequiredWrapper=function(b){var c=arguments.length>1&& void 0!==arguments[1]&&arguments[1];a.populateApiKeys(b,!1,!1),!c&&(0,a.props.setWidgetWrapper)({}),a.setState({unReplacedKeys:[]})},a.closeExtractionWrapper=function(b){var c=arguments.length>1&& void 0!==arguments[1]&&arguments[1];a.populateApiKeys(!1,b,!1),!c&&(0,a.props.setWidgetWrapper)({})},a.setFocussedKey=function(b){var c=a.props,d=c.requiredEditMode,e=c.extractedEditMode,f=c.envEditMode;d&&(a.requiredFocussedKey=b),e&&(a.extractedFocussedKey=b),f&&(a.envFocussedKey=b)},a.determineFocus=function(a,b){var c="",d="";return a.forEach(function(a){var e;a.id in b&&""===d&&(d=a.id),(null==b?void 0:null===(e=b[a.id])|| void 0===e?void 0:e.val)===""&&""===c&&(c=a.id)}),c||(c=d),c},a.returnFocussedKey=function(b,c,d,e){return c?b||a.determineFocus(d,e):""},a.determineFocusRequired=function(){var b=a.props,c=b.requiredApiKeys,d=b.requiredEditMode,e=a.state.userRequiredKeys;return a.requiredFocussedKey=a.returnFocussedKey(a.requiredFocussedKey,d,c,e),a.requiredFocussedKey},a.determineFocusExtraction=function(){var b=a.props,c=b.toExtractApiKeys,d=b.extractedEditMode,e=a.state.userExtractedKeys;return a.extractedFocussedKey=a.returnFocussedKey(a.extractedFocussedKey,d,c,e),a.extractedFocussedKey},a.determineFocusEnv=function(){var b=a.props,c=b.requiredEnvKeys,d=b.envEditMode,e=a.state.userEnvKeys;return a.envFocussedKey=a.returnFocussedKey(a.envFocussedKey,d,c,e),a.envFocussedKey},a.handleReqWrapperHide=function(b){b?a.setState(function(a){return{hideEnvPanel:!a.hideEnvPanel}},function(){a.state.hideEnvPanel?T.LS(at,!0):T.cl(at)}):a.setState(function(a){return{hideRequiredPanel:!a.hideRequiredPanel}},function(){a.state.hideRequiredPanel?T.LS(at,!0):T.cl(at)})},a.importFile=function(b){var c=a.props.requiredApiKeys,d=b.target.files[0];if(d){var e=new FileReader;e.readAsText(d),e.onload=function(b){var d={};try{var e=b.target.result.replace(/\\/g,"\\\\");d=JSON.parse(e);var f=c.map(function(a){return!!d[a.key]&&{key:a.key,val:d[a.key]}}).filter(Boolean);a.setState({importedKeys:f,isImported:f.length>0,noKeysFound:!(f.length>0)})}catch(g){return a.setState({importError:!0}),null}}}},a.saveImportedKeys=function(){var b=a.state,c=b.userRequiredKeys,d=b.importedKeys,e=a.props.requiredApiKeys,f="";e.map(function(a){return d.find(function(b){return f=b.val,a.key===b.key})&&(c=X()(c,al({},a.id,{$set:{val:f,dirty:!0}}))),null}),a.setState({userRequiredKeys:c,importError:!1,importEditMode:!1,isImported:!1,importedKeys:[]},function(){return a.saveAlluserStateKeys(c,a.closeRequiredWrapper)})},a}return k.prototype.render=function(){var a=this,b=this.props,c=b.requiredEnvKeys,d=b.envEditMode,k=b.requiredApiKeys,l=b.toExtractApiKeys,m=b.userApiKeys,n=b.selectedEnvVars,o=b.pageType,p=this.state,q=p.userEnvKeys,r=p.userRequiredKeys,s=p.userExtractedKeys,t=p.apiKeysChanged,u=p.unReplacedKeys,v=p.unReplacedEnv,w=p.extractionBlocked,x=p.isEnvMissing,y=this.props,z=y.requiredEditMode,A=y.extractedEditMode,B="Values for some API keys are not provided. Provide them here to use throughout the ".concat("collection"===o?"course":"blog",". Otherwise disable this prompt by removing API key placeholders from code.");w&&(B+=" This code extracts some keys. Key extraction will be blocked till all required keys are entered:");var C=function(b,c,k,l,n,o,p,q,r,s,t,w){var y,B,C=arguments.length>12&& void 0!==arguments[12]&&arguments[12],D=a.state.hideEnvPanel&&!d,E=!u.length&&!v.length&&a.state.hideRequiredPanel&&!z,F=l.filter(function(a){var b,c=a.id;return!!(null==n?void 0:null===(b=n[c])|| void 0===b?void 0:b.val)}),T=a,W=(B=ak(e().mark(function a(){var b,c,d,f;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b=(F||[]).filter(function(a){return!ai||!af.s.includes(a.id)}).reduce(function(a,b){var c=b.id;return ao(an({},a),al({},c,""))},{}),d=(c=T.props).updateUserApiKeys,f=c.params,a.next=4,d(f,b,"UPDATE");case 4:Object.keys(b).forEach(function(a){T.updateDirty(a,b[a])});case 5:case"end":return a.stop()}},a)})),function(){return B.apply(this,arguments)}),ab=!1,ad=a.props.readOnlyApiKeys,ae=ad&&!w,ah=(!w||w&&x)&&Boolean(w?v.length:u.length),ai=null===(y=a.props)|| void 0===y?void 0:y.courseCloudLab;return(0,f.jsxs)("div",{className:"flex w-full flex-col border border-solid bg-gray-100 dark:bg-dark-80 ".concat(ah?"border-error-dark dark:border-error-light":"border-gray-300 dark:border-dark-60"),ref:b,"data-testid":"edcomponent-api-wrapper",children:[s?(0,f.jsxs)(G,{className:as(!0,C,!1),onClick:function(){w?d||a.handleReqWrapperHide(w):z||a.handleReqWrapperHide(w)},children:[(0,f.jsxs)(S,{children:[C&&(0,f.jsx)(V.Z,{className:"mr-2 h-6 w-6"}),!ae&&(0,f.jsx)("span",{children:k}),C&&w&&(0,f.jsx)("button",{className:"outlined-default m-2 py-2",onClick:function(){a.setState({bypassEnvCheck:!0},function(){a.closeEnvWrapper(!1),a.renderEnvsWrapper()})},children:"Continue anyway?"})]}),(0,f.jsx)(h.Z,{icon:"ChevronUp",rotate:w?D:E,size:24,margin:5,disabled:c})]}):!ae&&(0,f.jsx)(G,{className:as(!1,C,!1),children:k}),(0,f.jsxs)(H,{isHidden:s&&(w?D:E),readOnlyMode:s&&ae,children:[l.map(function(b,d){var e,h,i,j,k=null==n?void 0:null===(e=n[b.id])|| void 0===e?void 0:e.dirty,l=k?null==n?void 0:null===(j=n[b.id])|| void 0===j?void 0:j.val:(null==n?void 0:null===(h=n[b.id])|| void 0===h?void 0:h.val)!==void 0?(null==n?void 0:null===(i=n[b.id])|| void 0===i?void 0:i.val)||"":b.value||"";l="string"==typeof l?l.replace(/\s/g,""):l,ab=ab||k;var p=w?-1!==v.indexOf(b.key):-1!==u.indexOf(b.key),q=(null==ai?void 0:ai.can_start_session)&&af.s.includes(b.key),s=(0,f.jsx)(M,{children:q?"Run to auto-generate...":"Not Specified..."});return(0,f.jsxs)(g.Fragment,{children:[(0,f.jsxs)(I,{children:[(0,f.jsxs)(J,{children:[(0,f.jsx)(U.default,{overlay:b.key,parentClasses:"cursor-pointer mx-2.5 text-ellipsis overflow-hidden whitespace-nowrap".concat(p?" dark:text-error-light text-error-dark":""),position:$.YS6,style:{maxWidth:"130px"},children:"".concat(b.key).concat(k?"*":"")}),c&&b.urlText&&(0,f.jsx)(U.default,{backgroundColor:"bg-white border-white dark:bg-gray-400 dark:border-gray-400",overlay:b.urlText&&(0,f.jsx)("div",{className:"".concat(ac().instructions," max-h-40 overflow-auto text-left"),dangerouslySetInnerHTML:{__html:"".concat((0,Y.markdownToHtml)(b.urlText))}}),overlayParentTextColorClasses:"text-black dark:text-dark-80",overlayParentStyles:{maxWidth:"240px",wordWrap:"break-word"},padding:"p-2.5",parentClasses:"align-middle cursor-pointer dark:hover:text-primary-light dark:text-dark-contrastText duration-200 hover:text-primary inline-flex text-black",position:$.YS6,rootClose:!0,trigger:$.t4j,children:(0,f.jsx)(_.Z,{className:"h-4 w-4 stroke-current"})})]}),c?(0,f.jsxs)(K,{children:[(0,f.jsx)(N,{className:"border border-solid dark:bg-gray-A100 ".concat(p?"border-error-dark dark:border-error":"border-gray-300 dark:border-dark-60"),id:A?"key-extract-".concat(d):"key-".concat(d),disabled:q,placeholder:q&&"Run to auto-generate...",value:l,onChange:function(a){return o(a,b.id)},autoFocus:b.id===r,onFocus:function(){return a.setFocussedKey(b.id)},onBlur:function(){return a.setFocussedKey("")}}),q?(0,f.jsx)(U.default,{overlay:(0,f.jsx)("span",{className:"max-w-xs text-center",children:"Auto generated"}),parentClasses:"align-middle cursor-pointer dark:hover:text-primary-light dark:text-dark-contrastText duration-200 hover:text-primary inline-flex m-2 text-black",position:$.YS6,children:(0,f.jsx)(Z.Z,{className:"h-4 w-4"})}):(0,f.jsx)(U.default,{disable:w?!b.defaultValue:!b.value,onClick:function(){return a.setState(function(a){return w?{userEnvKeys:ao(an({},a.userEnvKeys),al({},b.id,{val:b.defaultValue,dirty:!0})),userRequiredKeys:{}}:{userRequiredKeys:ao(an({},a.userRequiredKeys),al({},b.id,{val:b.value,dirty:!0})),userEnvKeys:{}}})},overlay:b.value?"Use author provided default value":"Author provided default value not available",parentClasses:"align-middle cursor-pointer dark:hover:text-primary-light dark:text-dark-contrastText duration-200 hover:text-primary inline-flex m-2 text-black",position:$.YS6,children:(0,f.jsx)(aa.Z,{className:"h-4 w-4 stroke-current"})})]}):(0,f.jsx)(L,{disabled:q,children:(null==m?void 0:m.loading)?s:l||s})]}),!c&&(0,f.jsx)(R,{})]},b.key)}),a.state.isImported&&a.state.importedKeys.length>0&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(G,{className:as(!1,!1,!0),children:(0,f.jsx)("p",{className:"font-normal",children:"The following values have been fetched from uploaded JSON file:"})}),a.state.importedKeys.map(function(b,d){return(0,f.jsxs)(g.Fragment,{children:[(0,f.jsxs)(I,{children:[(0,f.jsx)(U.default,{backgroundColor:"bg-white border-white dark:bg-gray-400 dark:border-gray-400",overlay:b.key,overlayParentTextColorClasses:"text-black dark:text-dark-80",padding:"p-2.5",parentClasses:"cursor-pointer mx-2.5 text-ellipsis overflow-hidden whitespace-nowrap",position:$.YS6,style:{maxWidth:"130px"},children:b.key}),a.state.importEditMode?(0,f.jsx)(K,{children:(0,f.jsx)(N,{id:"key-imported-".concat(d),value:b.val,onChange:function(c){c.persist(),a.setState(function(a){return{importedKeys:X()(a.importedKeys,al({},d,{$set:{key:b.key,val:c.target.value}}))}})}})}):(0,f.jsx)(L,{children:b.val})]}),!c&&!a.state.importEditMode&&(0,f.jsx)(R,{})]},b.key)})]})]}),(0,f.jsxs)(O,{isHidden:s&&(w?D:ad||E),children:[c||ae?(0,f.jsxs)("div",{className:"flex",children:[!ae&&(0,f.jsx)("button",{className:"outlined-default m-2 py-2",name:ag.env.REACT_APP_STANDALONE?w?"selenium-cancel-edit-env":"selenium-cancel-edit-api-keys":null,onClick:q,children:"Cancel"}),!w&&!ad&&(0,f.jsx)("button",{className:"contained-error m-2 py-2",disabled:!F.length,name:w?"clear-edit-env":"clear-edit-api-keys",onClick:W,children:"Clear All"}),(0,f.jsx)("button",{className:"contained-primary m-2 py-2",name:ag.env.REACT_APP_STANDALONE?w?"selenium-save-all-env":"selenium-save-all-api-keys":null,disabled:(null==m?void 0:m.loading)||!ab,onClick:function(){return a.saveAlluserStateKeys(n,q,w)},children:"Save"})]}):a.props.isTerminalWidget?(0,f.jsx)(j.Z,{danger:!0,disabled:A,element:"button",handleConfirm:p,name:ag.env.REACT_APP_STANDALONE?w?"selenium-edit-env":"selenium-edit-api-keys":null,parentClasses:"contained-primary m-2 py-2",popoverTitle:"Saving new Environment Variables will re-launch your running terminal. Do you wish to proceed?",children:"Edit"}):w?(0,f.jsx)("button",{className:"contained-primary m-2 py-2",name:ag.env.REACT_APP_STANDALONE?"selenium-edit-env":null,onClick:p,disabled:A,children:"Edit"}):a.state.isImported?a.state.importedKeys.length>0&&(0,f.jsxs)(P,{children:[!a.state.importEditMode&&(0,f.jsx)("button",{className:"outlined-default m-0 mr-12 py-2",name:"edit-imported-api-keys",onClick:function(){return a.setState({importEditMode:!0})},disabled:A,children:"Edit Values"}),(0,f.jsx)("button",{className:"contained-primary m-0 py-2",name:"save-imported-api-keys",disabled:null==m?void 0:m.loading,onClick:function(){return a.saveImportedKeys()},children:"Save"}),(0,f.jsx)("button",{className:"contained-error m-0 ml-2 py-2",name:"discard-imported-api-keys",disabled:null==m?void 0:m.loading,onClick:function(){return a.setState({importEditMode:!1,isImported:!1,importedKeys:[]})},children:"Discard"})]}):(0,f.jsxs)(P,{children:[(0,f.jsx)("button",{className:"contained-primary m-2 py-2",name:ag.env.REACT_APP_STANDALONE?"selenium-edit-api-keys":null,onClick:p,disabled:A,children:"Edit"}),(0,f.jsx)("label",{className:"importLabel rounded-sm border border-solid border-primary bg-primary text-white hover:border-primary-dark hover:bg-primary-dark focus:border-primary-dark focus:bg-primary-dark dark:hover:border-primary-light dark:hover:bg-primary-light dark:hover:text-black dark:focus:border-primary-light dark:focus:bg-primary-light dark:focus:text-black",htmlFor:"jsonImport".concat(a.props.compId),children:(0,f.jsx)("span",{className:"text-sm font-bold tracking-wide",children:"Import Values from JSON"})}),(0,f.jsx)("input",{id:"jsonImport".concat(a.props.compId),className:"jsonImport",type:"file",onChange:a.importFile}),a.state.importError&&(0,f.jsx)("p",{className:"mt-2 text-base text-warning-dark",children:"Invalid JSON File"}),a.state.noKeysFound&&(0,f.jsx)("p",{className:"mt-2 text-base text-warning-dark",children:"No keys found in JSON file to import values"})]}),(null==m?void 0:m.loading)&&(0,f.jsxs)(Q,{children:[(0,f.jsx)(i.default,{id:"saving-api-keys",size:25}),"Saving..."]})]})]},t)},D=g.cloneElement(this.props.children,{apiKeysToReplace:Object.keys(r).reduce(function(a,b){var c=k.find(function(a){return a.id===b}),d=r[b];return c?ao(an({},a),al({},c.key,d.val)):a},{}),apiKeysChanged:t,editingApiKeys:z||A,renderExtractionWrapper:this.renderExtractionWrapper,renderReplacementWrapper:this.renderReplacementWrapper,renderEnvsWrapper:this.renderEnvsWrapper,onTabChange:function(b){a.props.onTabChange(b),a.setState({userRequiredKeys:{},userExtractedKeys:{},userEnvKeys:{}},function(){a.props.setWidgetWrapper({}),a.populateApiKeys()})},bypassEnvCheck:this.state.bypassEnvCheck,bypassCheckCallback:function(b){return a.setState({bypassEnvCheck:!1},function(){a.closeEnvWrapper(!1,b)})}}),E=c.filter(function(a){return n[a.id]}),F=this.props,T=F.readOnlyApiKeys,W=F.hideWrapper;return W?D:[E.length?C(function(b){a.envWrapper=b},d,x?"Values for some environment variables are not provided.":this.state.hideEnvPanel&&!d?"This code requires environment variables to execute.":"This code requires the following environment variables to execute:",E,q,this.setEnvKeyValue,function(){var b=a.props,c=b.setWidgetWrapper,d=b.compId;c({type:"env",compId:d}),a.envFocussedKey=""},this.closeEnvWrapper,this.determineFocusEnv(),!0,"env_wrapper",!0,x):null,k.length?C(function(b){a.requiredWrapper=b},z&&!T,u.length&&!x?B:this.state.hideRequiredPanel&&!z?"This code requires user inputs":"Please provide values for the following:",k,r,this.setRequiredKeyValue,function(){var b=a.props,c=b.setWidgetWrapper,d=b.compId;c({type:"required",compId:d}),a.requiredFocussedKey="",a.setState({noKeysFound:!1,importError:!1})},this.closeRequiredWrapper,this.determineFocusRequired(),!0,"required_wrapper",!1,Boolean(u.length)&&!x):null,D,l.length&&A?C(function(b){a.extractedWrapper=b},A&&!T,"The following keys were extracted from the execution output: ",l,s,this.setExtractedKeyValue,function(){(0,a.props.setWidgetWrapper)({})},this.closeExtractionWrapper,this.determineFocusExtraction(),!1,"extract_wrapper",!1):null,]},k}(g.Component);au.defaultProps={selectedEnvVars:{}};var av=au},35754:function(a,b,c){"use strict";var d=c(20348),e=c(89703),f=c(52193),g=c(98252),h=c(30833),i=c(64889),j=c(41150),k=c(34099),l=c(7612),m=c(85220),n=c(42448);function o(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function p(a){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function q(a,b){return(q=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var r=function(a){var b=a.comments,c=b.commentCounts;return{selectedDocument:b.selectedDocument,commentCounts:c.loaded?c.data:null}},s=function(a,b,c){var d,e,f=c.documentKey,g=a.commentCounts,h=a.selectedDocument,i=function(a,b){if(null==a)return{};var c,d,e=function a(b,c){if(null==b)return{};var d,e,f={},g=Object.keys(b);for(e=0;e<g.length;e++)d=g[e],c.indexOf(d)>=0||(f[d]=b[d]);return f}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,["commentCounts","selectedDocument"]),j=f&&(null==g?void 0:g[f])||0,k=h.key||null;return d=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){o(a,b,c[b])})}return a}({},i,b,c),e=(e={selectedDocumentKey:k,commentsCount:j},e),Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(e)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(e)).forEach(function(a){Object.defineProperty(d,a,Object.getOwnPropertyDescriptor(e,a))}),d},t=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&q(a,b)}(i,a);var b,c,e=(b=i,c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,d,e,f,g=p(b);if(c){var h=p(this).constructor;f=Reflect.construct(g,arguments,h)}else f=g.apply(this,arguments);return d=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(d)});function i(){var a;return!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,i),a=e.apply(this,arguments),a.toggleSelected=function(){var b=a.props,c=b.dispatch,d=b.selectedDocumentKey,e=b.documentKey,f=b.widgetType;if(d!==e){c(j.T.set(e));var g,h,i=null!==(h=null===(g=(0,m.Tc)(f))|| void 0===g?void 0:g.title)&& void 0!==h?h:f;c(j.T.setWidgetTitle(i))}else c(j.T.clear())},a.renderMenuButton=function(){var b=a.props,c=b.commentsCount,e=b.selectedDocumentKey,i=b.documentKey,j=e===i;return(0,d.jsxs)(l.Z,{className:"relative ".concat(j?"!bg-primary !text-white":""," hover:!bg-primary hover:!text-white"),circleButton:!0,onClick:a.toggleSelected,name:n.env.REACT_APP_STANDALONE?"selenium-comments-menu-button":null,children:[(0,d.jsx)(g.default,{overlay:j?"Close":c>0?"View comments":"Create comment",parentClasses:"flex",position:h.YS6,children:(0,d.jsx)(f.Z,{className:"h-5 w-5"})},"comment-context-menu-button-overlay"),c>0&&!j&&(0,d.jsx)("span",{className:"absolute z-10 -mt-3 ml-3 flex h-4 w-auto items-center justify-center rounded-full bg-primary px-0.5 text-white",id:n.env.REACT_APP_STANDALONE?"selenium-comments-count":null,children:c})]})},a}return i.prototype.render=function(){var a=this.props.inPreview;return(0,d.jsx)("div",{className:"absolute -right-4 ".concat(a?"-top-8":"-top-9"),children:this.renderMenuButton()})},i}(e.Component),u=(0,i.$j)(r,null,s);b.Z=(0,k.withRouter)(u(t))},18442:function(a,b,c){"use strict";c.d(b,{n:function(){return e},u:function(){return f}});var d=c(55973),e=function(a,b){return d.LS(a,JSON.stringify(b))},f=function(a){return d.rV(a)}},52436:function(a){a.exports={instructions:"EdComponentApiKeyWrapper_instructions__FAaWr",dark:"dark"}},80320:function(a,b,c){"use strict";var d,e=c(89703);function f(){return(f=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var g=function(a){return e.createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-maximize"},a),d||(d=e.createElement("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"})))};b.Z=g},52193:function(a,b,c){"use strict";var d,e=c(89703);function f(){return(f=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var g=function(a){return e.createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-message-square"},a),d||(d=e.createElement("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})))};b.Z=g},72301:function(a,b,c){"use strict";var d,e=c(89703);function f(){return(f=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var g=function(a){return e.createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-minimize"},a),d||(d=e.createElement("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"})))};b.Z=g}}])
//# sourceMappingURL=10508-870461854892e034.js.map