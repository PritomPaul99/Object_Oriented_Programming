(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[90594],{21353:function(a,b,c){"use strict";c.d(b,{s:function(){return d}});var d=function(a){return window.btoa(a)}},43213:function(a,b,c){"use strict";var d=c(20348);c(89703);var e=c(12251),f=c(21092),g=function(a){var b=a.onClick,c=a.showAsterisk,g=a.disabled,h=a.loading,i=void 0!==h&&h,j=a.children,k=a.fillBackground,l=a.useIconsOnSmallScreens,m=void 0===l||l;return(0,d.jsxs)("button",{className:"".concat(void 0!==k&&k?"contained-primary":"outlined-primary"," m-2 py-2"),onClick:b,"aria-label":"reset changes",disabled:void 0!==g&&g,"data-testid":"save-code-button",children:[(0,d.jsx)("div",{className:"flex justify-center ".concat(m?"sm:hidden":"hidden"),children:i?(0,d.jsx)(f.Z,{}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(e.Z,{},"save_icon_button"),void 0!==c&&c?"*":""]})}),(0,d.jsx)("div",{className:m?"tailwind-hidden sm:flex":"flex",children:i?(0,d.jsx)(f.Z,{}):j})]})};b.Z=g},31198:function(a,b,c){"use strict";c.d(b,{Z:function(){return r}});var d,e=c(20348),f=c(89703),g=c(1766),h=c(43213),i=c(63189),j=c(21092),k=c(15538),l=c(6188),m=c(98252);function n(){return(n=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var o=function(a){return f.createElement("svg",n({width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},a),d||(d=f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 3H17L21 7V19C21 20.1 20.1 21 19 21H5C3.89 21 3 20.1 3 19V5C3 3.9 3.89 3 5 3ZM19 19V7.83L16.17 5H5V19H19ZM12 12C10.34 12 9 13.34 9 15C9 16.66 10.34 18 12 18C13.66 18 15 16.66 15 15C15 13.34 13.66 12 12 12ZM15 6H6V10H15V6Z",fill:"currentColor"})))},p=c(92112),q=c(64889),r=function(a){var b=a.saveUserData,c=a.resetUserData,d=a.isContentDirty,f=a.hasSnapshot,n=a.compId,r=a.disableSave,s=a.isCodeTestWidget,t=void 0!==s&&s,u=a.fillBackground,v=a.useIconsOnSmallScreens,w=void 0===v||v,x=a.isViewer,y=(0,l.ix)(function(a){return{saving:(0,g.iU)(a.user)===n,resetting:(0,g.vW)(a.user)===n,userInfo:a.user.info}},q.wU),z=y.saving,A=y.resetting,B=y.userInfo,C=!!B.data,D=(0,l.ix)(function(a){return!a.user.info.loggedOut&&(a.user.widgetsData.loading||!a.user.widgetsData.loaded)})&&(void 0===x||x),E=!f&&!d||A||z;return(0,e.jsxs)("div",{className:"flex",children:[!(void 0!==r&&r)&&(t?(0,e.jsx)("div",{className:"flex items-center",children:z?(0,e.jsx)(j.Z,{}):(0,e.jsx)(m.default,{element:"label",overlay:C?"Save":"Login to save",overlayParentClasses:"text-center",overlayParentStyles:{maxWidth:"276px"},parentClasses:"cursor-pointer inline-flex items-center m-1 space-x-2.5 whitespace-nowrap",position:"top",children:(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)(o,{className:C?!d||A?"text-gray-900 dark:text-gray-600":"text-dark dark:text-gray-300":"text-error dark:text-error-light",onClick:z?function(){}:b,disabled:!d||z||A||D}),(0,e.jsx)("div",{children:d?"*":""})]})})}):(0,e.jsx)(h.Z,{onClick:z?function(){}:b,disabled:!d||z||A||D,loading:z,showAsterisk:d,fillBackground:void 0!==u&&u,useIconsOnSmallScreens:w,children:C?d?"Save*":"Save":"Login to Save"})),(0,e.jsx)(k.Z,{disabled:E||D,element:t?"span":"button",handleConfirm:c,parentClasses:"outlined-default py-2 m-2 navigation-text",popoverTitle:"Discard your changes?",children:t?(0,e.jsx)("div",{className:"flex items-center",children:A?(0,e.jsx)(j.Z,{}):(0,e.jsx)(m.default,{element:"label",overlay:"Reset",overlayParentClasses:"text-center",overlayParentStyles:{maxWidth:"276px"},parentClasses:"cursor-pointer inline-flex items-center m-1 space-x-2.5 whitespace-nowrap",position:"top",children:(0,e.jsx)("div",{className:"h-6 w-8",children:(0,e.jsx)(p.Z,{className:"fill-current ".concat(E?"text-gray-900 dark:text-gray-600":"text-dark dark:text-gray-300")})})})}):(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"flex justify-center ".concat(w?"sm:hidden":"hidden"),children:A?(0,e.jsx)(j.Z,{}):(0,e.jsx)(i.Z,{},"code_actions_reset")}),(0,e.jsx)("div",{className:w?"tailwind-hidden sm:flex":"flex",children:A?(0,e.jsx)(j.Z,{}):"Reset"})]})})]})}},95896:function(a,b,c){"use strict";c.d(b,{Z:function(){return j}});var d=c(20348),e=c(89703),f=c(75069),g=c(50121);function h(a){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function i(a,b){return(i=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var j=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&i(a,b)}(k,a);var b,c,j=(b=k,c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,d,e,f,g=h(b);if(c){var i=h(this).constructor;f=Reflect.construct(g,arguments,i)}else f=g.apply(this,arguments);return d=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(d)});function k(){var a;return!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,k),a=j.apply(this,arguments),a.state={mode:"view"},a.editorRef=e.createRef(),a.gotoEdit=function(){a.setState({mode:"edit"})},a.handleKeyUp=function(b){"Enter"===b.key?a.updateValue():"Escape"===b.key&&a.gotoView()},a.updateValue=function(){if(a.editorRef.current){var b=a.editorRef.current.value.trim();a.gotoView(),a.props.onValueChange(b)}},a}var l=k.prototype;return l.componentDidUpdate=function(){if("edit"===this.state.mode){var a;null===(a=this.editorRef.current)|| void 0===a||a.select()}},l.gotoView=function(){this.setState({mode:"view"})},l.render=function(){return"edit"===this.state.mode?(0,d.jsx)("div",{className:"".concat(this.props.className," cmcomp-edit-text"),children:(0,d.jsx)("input",{id:"EditableTextStyled",ref:this.editorRef,type:"text",defaultValue:this.props.content,onKeyUp:this.handleKeyUp,onBlur:this.updateValue,maxLength:this.props.maxLength,className:"".concat(this.props.editTextClasses," dark:bg-dark")})}):(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{id:"fileTabName-".concat(this.props.content),className:"".concat(this.props.displayTextClasses," mr-2.5 whitespace-normal break-all"),children:this.props.content}),this.props.dark?(0,d.jsx)(f.Z,{onClick:this.gotoEdit,className:"h-4 w-4",style:{marginBottom:"-3px"}}):(0,d.jsx)(g.Z,{onClick:this.gotoEdit,className:"h-6 w-6 fill-current text-gray-800",style:{marginBottom:"-4px"}})]})},k}(e.Component);j.defaultProps={maxLength:50,dark:!0,editTextClasses:"border-none focus:outline-none rounded"}},58347:function(a,b,c){"use strict";c.d(b,{R:function(){return j}});var d=c(20348),e=c(6188),f=c(37490),g=c(47349);function h(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var i=function(a){var b,c;return(0,d.jsx)(f.Z,(b=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){h(a,b,c[b])})}return a}({executionMetadata:(0,e.ix)(function(a){return a.userConfig})},a),c={dirtyBit:(0,e.ix)(function(a){return a.widgets.dirty})},c=null!=c?c:{},Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(c)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(c)).forEach(function(a){Object.defineProperty(b,a,Object.getOwnPropertyDescriptor(c,a))}),b))};b.Z=i;var j=(0,g.J)(i)},37490:function(a,b,c){"use strict";c.d(b,{B:function(){return q}});var d=c(20348),e=c(89703),f=c(80226),g=c.n(f),h=c(77663),i=c(74128),j=c(30833),k=c(47349);function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function m(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}var n=e.lazy(function(){return Promise.all([c.e(73657),c.e(2467),c.e(43237),c.e(10354)]).then(c.bind(c,43237))}),o=g()(function(){return Promise.all([c.e(44003),c.e(11797),c.e(99445)]).then(c.bind(c,4220))},{loadableGenerated:{webpack:function(){return[4220]}},ssr:!1}),p=function(a){var b,c,f,g,k,l=a.inView,p=function(a,b){if(null==a)return{};var c,d,e=function a(b,c){if(null==b)return{};var d,e,f={},g=Object.keys(b);for(e=0;e<g.length;e++)d=g[e],c.indexOf(d)>=0||(f[d]=b[d]);return f}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,["inView"]),q=((null===i.OP|| void 0===i.OP?void 0:i.OP[null==p?void 0:null===(f=p.codeContent)|| void 0===f?void 0:f.theme])||i.OP.vsDark)===i.OP.vsDark,r=Math.min(Math.max("string"==typeof p.codeContent.content&&(null===(k=p.codeContent.content)|| void 0===k?void 0:k.split("\n").length)||j.VI3,(null==p?void 0:p.minLines)||j.VI3),p.maxLines||j.FOV)*j.Acf+j.JpV,s=(0,d.jsx)("div",{children:(0,d.jsx)("pre",{className:"overflow-scroll pl-0 pt-0 dark:border-dark-60",style:m({height:"".concat(r+2,"px")},q?{background:"#1e1e1e",color:"#e9e9e9"}:{}),children:"string"==typeof p.codeContent.content?null===(g=p.codeContent.content)|| void 0===g?void 0:g.split("\n").map(function(a){return(0,d.jsx)("div",{style:{height:"21px",marginLeft:"59px",fontSize:"".concat(j.n5t,"px")},children:a})}):p.codeContent.content})});return void 0===l||l?window.screen.width<=h.Mq.int||p.isNotCodeEditor?(0,d.jsx)(o,(b=m({},p),c=(c={fallback:s},c),Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(c)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(c)).forEach(function(a){Object.defineProperty(b,a,Object.getOwnPropertyDescriptor(c,a))}),b)):(0,d.jsx)(e.Suspense,{fallback:s,children:(0,d.jsx)(n,m({},p))}):s};b.Z=p;var q=(0,k.J)(p)},47349:function(a,b,c){"use strict";c.d(b,{J:function(){return j}});var d=c(20348),e=c(89703),f=c(77663);function g(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function h(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function i(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){h(a,b,c[b])})}return a}var j=function(a){return function(b){var c=(0,e.useState)(!1),h=c[0],j=c[1],k=window.screen.width<=f.Mq.int;(0,e.useEffect)(function(){k||j(!0)},[b.codeContent]);var l,m,n=function(){for(var a,c,d,e=arguments.length,f=Array(e),h=0;h<e;h++)f[h]=arguments[h];j(!1),null===(d=b.onEditorChange)|| void 0===d||(c=d).call.apply(c,[b].concat(function(a){if(Array.isArray(a))return g(a)}(a=f)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||function a(b,c){if(b){if("string"==typeof b)return g(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(d);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return g(b,c)}}(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))};return k?(0,d.jsx)(a,i({},b)):(0,d.jsx)(a,(l=i({},b),m=(m={onEditorChange:n,onlyCodeChanged:!h},m),Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(m)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(m)).forEach(function(a){Object.defineProperty(l,a,Object.getOwnPropertyDescriptor(m,a))}),l))}}},87448:function(a,b,c){"use strict";var d=c(20348),e=c(89703),f=c(75179),g=c(67255),h=c(60649),i=c(51876);function j(a){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function k(a,b){return(k=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var l=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&k(a,b)}(l,a);var b,c,e=(b=l,c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,d,e,f,g=j(b);if(c){var h=j(this).constructor;f=Reflect.construct(g,arguments,h)}else f=g.apply(this,arguments);return d=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(d)});function l(a){var b;return!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,l),(b=e.call(this,a)).prevButtonClicked=function(){var a=b.state.index;a>0&&b.setState({index:a-1})},b.nextButtonClicked=function(){var a=b.state,c=a.index;c<a.count-1&&b.setState({index:c+1})},b.state={index:0,count:a.judgeHints?a.judgeHints.length:0},b}return l.prototype.render=function(){var a=this.props.judgeHints,b=this.state,c=b.index,e=b.count,j="";return e>0&&e>c&&a&&a[c]?(j=a[c].html,(0,d.jsxs)("div",{className:"".concat(this.props.className," flex flex-col"),children:[(0,d.jsx)("div",{className:"flex justify-center p-4",children:(0,d.jsx)(g.Z,{caption:"Hint ".concat(c+1," of ").concat(e),readOnly:!0,inCode:!0})}),(0,d.jsxs)("div",{className:"flex items-center justify-center",style:{minHeight:"100px"},children:[(0,d.jsx)(i.Z,{width:22,height:22,className:"cursor-pointer text-current transition-all duration-200 ".concat(0===c||1===e?"stroke-gray-400 hover:stroke-gray-400 focus:stroke-gray-400 dark:stroke-gray-A100 dark:focus:stroke-gray-A100":"hover:stroke-primary focus:stroke-primary"),onClick:this.prevButtonClicked}),(0,d.jsx)("div",{className:"px-5",style:{width:"90%"},children:(0,d.jsx)(f.default,{mdHtml:j})}),(0,d.jsx)(h.Z,{width:22,height:22,className:"cursor-pointer text-current transition-all duration-200 ".concat(c===e-1||1===e?"stroke-gray-400 hover:stroke-gray-400 focus:stroke-gray-400 dark:stroke-gray-A100 dark:focus:stroke-gray-A100":"hover:stroke-primary focus:stroke-primary"),onClick:this.nextButtonClicked})]})]})):null},l}(e.Component);b.Z=l},31659:function(a,b,c){"use strict";c.d(b,{Z:function(){return u}});var d=c(18154),e=c.n(d),f=c(20348),g=c(89703),h=c(29152),i=c(5714),j=c.n(i),k=c(8296),l=c(86255),m=c(64516);function n(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function o(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function p(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){o(f,d,e,g,h,"next",a)}function h(a){o(f,d,e,g,h,"throw",a)}g(void 0)})}}function q(a){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function r(a,b){return(r=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var s="w-7 h-7 hover:text-primary dark:hover:text-primary-light focus:text-primary dark:focus:text-primary-light",t=[".jpg",".jpeg",".png"],u=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&r(a,b)}(i,a);var b,d,g=(b=i,d=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,c,e,f,g=q(b);if(d){var h=q(this).constructor;f=Reflect.construct(g,arguments,h)}else f=g.apply(this,arguments);return c=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:n(c)});function i(){!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,i),a=g.apply(this,arguments),a.state={isDownloading:!1},a.FileSaver=null,a.imageToBlob=function(a){var b=atob(a.split(",")[1]),c=Array(b.length).fill(void 0).map(function(a,c){return b.charCodeAt(c)});return new Blob([new Uint8Array(c)])},a.getBlobFromFile=function(b,c){var d=b;return d&&t.some(function(a){return c.endsWith(a)})?a.imageToBlob("data:image/*;base64,"+b.content):new Blob([b],{type:"text/plain;charset=utf-8"})};var a,b,d=n(a);a.downloadFilesAsZip=(b=p(e().mark(function a(b){var f,g,i;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,h.Z)(function(){return c.e(43065).then(c.t.bind(c,43065,23))});case 2:f=a.sent,g="educative-code-widget-files",(i=new f.default).folder(g),Object.keys(b).forEach(function(a){var c=d.getBlobFromFile(b[a],a);i.file("".concat(g,"/").concat(a),c)});try{i.generateAsync({type:"blob"}).then(function(a){d.FileSaver.saveAs(a,"educative-code-widget.zip")})}catch(e){console.log(e)}case 8:case"end":return a.stop()}},a)})),function(a){return b.apply(this,arguments)});var f=n(a);return a.onDownload=p(e().mark(function a(){var b,d,g,i,j;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b=f.props.files,f.setState({isDownloading:!0}),a.next=4,(0,h.Z)(function(){return c.e(84177).then(c.t.bind(c,84177,23))});case 4:if(f.FileSaver=a.sent.default,d=Object.keys(b),!(!f.FileSaver||!d.length)){a.next=8;break}return a.abrupt("return");case 8:if(1!==d.length){a.next=12;break}i=b[g=d[0]],j=f.getBlobFromFile(i,g),f.FileSaver.saveAs(j,g),a.next=14;break;case 12:return a.next=14,f.downloadFilesAsZip(b);case 14:f.setState({isDownloading:!1});case 15:case"end":return a.stop()}},a)})),a}return i.prototype.render=function(){var a=this.props,b=a.codeToCopy,c=a.allowDownload,d=this.state.isDownloading,e=!1;try{e=(new Blob,!0)}catch(g){e=!1}return(0,f.jsx)("span",{className:"tailwind-hidden sm:inline ".concat(this.props.isProjectViewer?"absolute top-0 w-full":""),children:(0,f.jsx)("div",{className:"z-9 absolute right-3.5 top-1 flex cursor-pointer",children:(0,f.jsxs)("div",{"aria-label":"copy-code-button",role:"button",className:"flex h-6 items-center justify-center rounded border-none bg-white text-black opacity-30 shadow-md duration-200 hover:opacity-100 hover:shadow-lg focus:opacity-100 focus:shadow-lg dark:bg-dark-80 dark:text-dark-contrastText",children:[b&&(0,f.jsx)(k.Z,{title:"Copy To Clipboard","aria-hidden":"true",onClick:function(){return j()(b)},className:"".concat(s," p-2 duration-200")}),c&&e&&(d?(0,f.jsx)(m.Z,{size:15}):(0,f.jsx)(l.Z,{onClick:this.onDownload,className:"".concat(s," p-2 duration-200")}))]})})})},i}(g.Component);u.defaultProps={allowDownload:!1,files:{},isProjectViewer:!1}},34561:function(a,b,c){"use strict";c.d(b,{ZP:function(){return as}});var d=c(20348),e=c(89703),f=c(69327),g=c(57567),h=c(98252),i=c(10761),j=c(64889),k=c(34099),l=c(21946),m=c(5714),n=c.n(m),o=c(47539),p=c(77641),q=c(41460),r=c(96865),s=c(15538),t=c(8184),u=c(26744),v=c(88015),w=c(86181),x=c(93886),y=c(30833),z=c(24088),A=c(46703),B=c.n(A),C=c(71060),D=c(58347);c(14184);var E=c(47486),F=c(39416),G=c(42621),H=c(66786),I=c(52330);function J(a){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function K(a,b){return(K=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var L=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&K(a,b)}(f,a);var b,c,e=(b=f,c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,d,e,f,g=J(b);if(c){var h=J(this).constructor;f=Reflect.construct(g,arguments,h)}else f=g.apply(this,arguments);return d=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(d)});function f(){var a;return!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,f),a=e.apply(this,arguments),a.state={currIndex:0},a.handleSelect=function(b){a.setState({currIndex:b})},a}var g=f.prototype;return g.getTabContentEvaluation=function(){var a=this,b=this.props.isAssessment;return(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{children:!b&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{style:{display:"flex",alignItems:"center",marginLeft:"10px"},children:[(0,d.jsx)("div",{children:"Author evaluation code goes here. Evaluate based on"}),(0,d.jsxs)(E.Z,{customButtonClass:"text-primary dark:text-primary-light bg-gray-100 dark:bg-dark-90 text-sm w-full h-8 rounded py-1.5 px-3 flex justify-between",className:"ml-1 w-32",value:this.props.test_output_on_console?"console":"testresults",onChange:function(b){a.props.changeJudgeType(b)},renderValue:function(){return a.props.test_output_on_console?"Console":"Test Results"},noMargin:!0,children:[(0,d.jsx)(F.Z,{value:"testresults",fontClass:"text-xs",children:"Test Results"}),(0,d.jsx)(F.Z,{value:"console",fontClass:"text-xs",children:"Console"})]})]}),(0,d.jsx)(s.Z,{danger:!0,element:"button",handleConfirm:this.props.generateStubEvaluationCode,parentClasses:"contained-primary m-2 py-2",popoverTitle:"Caution! All of your code will be replaced with a sample function and test stubs. Do you want to proceed?",children:"Create Stub for ".concat(this.props.language)})]})}),(0,d.jsx)("div",{className:"cmcomp-single-editor-container",children:(0,d.jsx)(D.Z,{codeContent:this.props.codeContent,readOnly:!1,onlyCodeChanged:this.props.onlyCodeChanged,onEditorChange:this.props.onEditorChange,updateOnChange:!0})})]})},g.getTabContentPrepend=function(){return[(0,d.jsx)("i",{children:"This code will be prepended before learner code. Use it for declarations."},"prepend_code_label"),(0,d.jsx)("div",{className:"cmcomp-single-editor-container",children:(0,d.jsx)(D.Z,{codeContent:this.props.judgeContentPrepend,readOnly:!1,onlyCodeChanged:this.props.onlyCodeChanged,onEditorChange:this.props.onJudgeContentPrependChange,updateOnChange:!0})},"prepend_code_editor"),]},g.getTabContentHints=function(){return(0,d.jsx)(C.Z,{judgeHints:this.props.judgeHints,onJudgeHintsUpdate:this.props.onJudgeHintsUpdate,onlyCodeChanged:this.props.onlyCodeChanged})},g.getTabContentSolution=function(){return[(0,d.jsx)("i",{children:"Write solution for the exercise here. It will be shown to learners if 'Solution' box above is selected."},"code_solution_content"),(0,d.jsx)("div",{className:"cmcomp-single-editor-container",children:(0,d.jsx)(D.Z,{codeContent:this.props.solutionContent,readOnly:!1,onlyCodeChanged:this.props.onlyCodeChanged,onEditorChange:this.props.onSolutionContentChange,updateOnChange:!0})},"code_solution_content_editor"),]},g.getTabsToShow=function(){var a=this,b=0,c=[{title:"Evaluation",function:this.getTabContentEvaluation()},{title:"Prepend",function:this.getTabContentPrepend()},{title:"Hints",function:this.getTabContentHints()},];return this.props.isAssessment||c.push({title:"Solution",function:this.getTabContentSolution()}),null!==this.state.currIndex&&(b=this.state.currIndex),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(H.default,{"aria-label":"judge-evaluation-tabs",value:b,variant:"scrollable",className:"mt-2","data-testid":"judge-evaluation-tabs",children:c.map(function(b,c){return(0,d.jsx)(G.default,{label:b.title,className:"text-sm font-normal",ariaPrefix:b.title,ariaIndex:c,onClick:function(){return a.handleSelect(c)},"data-testid":"tab"},"tab-".concat(c))})}),c.map(function(a,c){return(0,d.jsx)(I.default,{p:0,value:b,index:c,className:"pt-2.5",children:a.function},"tab-panel-".concat(c))})]})},g.render=function(){return(0,d.jsx)("div",{children:this.getTabsToShow()})},f}(e.Component),M=c(87448),N=c(877),O=c(80569),P=c(67255),Q=c(19228),R=c.n(Q),S=c(57227),T=c(89763),U=c(52908),V=c(84121),W=c(28961),X=c(2321),Y=c(80657),Z=c(7612),$=c(49943),_=c(8296),aa=c(72456),ab=c(20493),ac=c(1647),ad=c(42448);function ae(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function af(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function ag(a){return(ag=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function ah(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){af(a,b,c[b])})}return a}function ai(a,b){return(ai=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function aj(a){return function(a){if(Array.isArray(a))return ae(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||ak(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ak(a,b){if(a){if("string"==typeof a)return ae(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return ae(a,b)}}var al=function(a){var b=a.userConfig,c=a.assessment.question,d=a.project.data;return{userConfig:b,question:c,projectData:d}},am="border border-solid border-gray-300 dark:border-gray-A100 whitespace-pre-wrap",an="".concat(am," dark:bg-dark-70"),ao=(0,j.$j)(al),ap=function(a){return a&&x.ZP.isString(a)&&(a.length>40?(0,d.jsxs)(h.default,{backgroundColor:"bg-white border-white dark:bg-gray-400 dark:border-gray-400",element:"span",overlay:a,overlayParentTextColorClasses:"text-black dark:text-dark-80",overlayParentStyles:{whiteSpace:"break-spaces"},parentClasses:"cursor-pointer",position:y.YS6,rootClose:!0,trigger:y.t4j,children:[a.substring(0,40),(0,d.jsx)(o.Z,{className:"float-right h-5 w-5 rounded-md fill-current px-1 py-0 text-black dark:text-gray-400"})]}):a)},aq=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&ai(a,b)}(h,a);var b,c,e=(b=h,c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,d,e,f,g=ag(b);if(c){var h=ag(this).constructor;f=Reflect.construct(g,arguments,h)}else f=g.apply(this,arguments);return d=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(d)});function h(){var a;return!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,h),a=e.apply(this,arguments),a.state={executionInProgress:!1,executionComplete:!1,executionResult:null,testResult:null,testPassed:null,activeTab:0,outputExpanded:!1,solutionInView:!1,judgeHintsInView:!1},a.componentWillUnmount=function(){a.props.isProjectViewMode&&S.ZP.remove(a.bindProjectListener)},a.bindProjectListener=function(b){b.detail.event===S.lx.RUN&&a.handleRun()},a.autoSaveOnRun=function(){try{var b,c;a.props.allowWidgetUserData&&(null===(c=(b=a.props).handleSaveUserData)|| void 0===c||c.call(b,{reset:!1}))}catch(d){(0,U.uX)(d)}},a.handleRun=function(b){a.props.userInfo.loggedOut||a.autoSaveOnRun(),a.props.renderReplacementWrapper()||(null==b||b.stopPropagation(),a.run())},a.run=function(){var b=a.props.executionConfig.specialInputData;if([w.Ol,w.Wz].includes(a.props.specialInput)){var c="";c=a.props.specialInput===w.Ol?u.Ol:u.Wz,a.props.dispatch(r.n.show(c,{imageData:b,isEditMode:!a.props.readOnly,updateSpecialInputData:a.props.updateSpecialInputData,continue:a.judgeHelper,isModalInsideModal:!0}))}else a.judgeHelper()},a.isUnguidedProject=function(){var b;return(null===(b=a.props.projectData)|| void 0===b?void 0:b.sub_type)===ac.w.UNGUIDED},a.updateProjectResultContext=function(b){var c=b.executing,d=b.results,e=void 0===d?null:d,f=b.error;return a.isUnguidedProject()&&a.props.projectsTestResultsContext.setResults({testResults:e?e.map(function(a,b){return{testName:"Test ".concat(b+1),passed:a.succeeded,failureDescription:a.reason}}):null,executing:void 0!==c&&c,error:void 0===f?null:f})},a.judgeHelper=function(){a.setState(function(b){return{executionInProgress:!b.executionInProgress,executionComplete:!1,outputExpanded:!a.isUnguidedProject()}});var b,c="";if(a.props.evaluateWithoutExecution&&a.props.judgeContent.userCodeStringFormat){var d="".concat(x.ZP.formatString(a.props.judgeContent.userCodeStringFormat,[B()(a.props.executionConfig.sourceCode)]),"\n");c+=d}a.props.judgeContentPrepend.trim().length>0&&(c+="".concat(a.props.judgeContentPrepend.trim(),"\n")),a.props.evaluateWithoutExecution||(c+="".concat(a.props.executionConfig.sourceCode,"\n")),c+="".concat(a.props.judgeContent.authorCode),a.props.isAssessment||(c+="\n".concat(a.props.judgeContent.edCode,"\n"));var e=a.props,f=e.authorId,g=e.collectionId,h=e.shotId,i=e.pageType,j=e.pageId,k=e.isDraft,l=e.executionConfig,m=e.isAssessment,n=l.dockerExecutionContext;if(Object.keys(null!=n?n:{}).length>0){var o=n.job,p=n.imageName,r=n.envs;b={container_image_name:p,envs:r,entry_filename:o.inputFileName,build_script:o.buildScript,run_script:o.runScript}}var s=a.props.executionConfig,t=s.additionalContent,u=s.stdin,w=s.language,y=s.entryFileName,z=s.timeLimit,A=s.comp_id,C=s.type,D={language:w,entry_filename:y,time_limit:z,source_code:c,additional_files:JSON.stringify(t),stdin:u,test_output_on_console:!!a.props.judgeContent.test_output_on_console,author_id:f,work_id:g||h,work_type:i,page_id:j,is_draft_page:k,comp_id:A||null,comp_type:C||"Code",docker_container:b?JSON.stringify(b):void 0,assessment_user_code:m?a.props.executionConfig.sourceCode:""};a.props.assessmentId&&(D.assessment_id=a.props.assessmentId),a.updateProjectResultContext({executing:!0}),(0,q.eV)(D).then(function(b){var c=null===(l=a.props.question)|| void 0===l?void 0:l.progress,d=null==c?void 0:c.unsolved.indexOf(a.props.pageId);if(a.props.isAssessment&& -1!==d&&!a.props.isDraft){var e=c.unsolved.filter(function(b){return b!==a.props.pageId});a.props.dispatch(v.Ol.updateProgress({solved:aj(c.solved).concat([a.props.pageId]),unsolved:e}))}for(var f=JSON.parse(b),g=0,h=0,i=-1,j=!0,k=0;k<f.test_results.length;k++){var l,m,n,o,p,q=null!==(p=null==f?void 0:f.test_results[k].hidden)&& void 0!==p&&p;q&&h++,f.test_results[k].succeeded?g++:-1===i&&(i=k+1,q&&(j=!1))}var r=g===f.test_results.length,s=aj(f.test_results),t=0===f.execution_result.status?null===(m=f.test_results)|| void 0===m?void 0:m.sort(function(a,b){var c;return(a.succeeded?2:1)-(b.succeeded?2:1)}):null;a.props.renderExtractionWrapper(null==f?void 0:null===(n=f.execution_result)|| void 0===n?void 0:null===(o=n.transformedResult)|| void 0===o?void 0:o.apiKeys),a.setState({executionInProgress:!1,executionComplete:!0,executionResult:f.execution_result,testResult:t,testPassed:0===f.execution_result.status&&r,testPassedCount:g,testTotalCount:f.test_results.length,activeTab:0,privateTestTotalCount:h,firstFailureNumber:i,isFirstFailurePublic:j}),a.updateProjectResultContext({results:0===f.execution_result.status?s:null}),S.ZP.dispatch(S.lx.COMPONENT_COMPLETED,{status:0===f.execution_result.status&&r})}).catch(function(b){a.props.logWidgetInteraction({tab_index:a.props.tab_index,code_widget_type:"judge",status:500,reason:"Execution Failed"}),console.log(b),a.setState({executionInProgress:!1,executionComplete:!0,testResult:null,activeTab:0,executionResult:{reason:401!==b.status?b.responseText:"Please login to use code judge."}}),a.updateProjectResultContext({error:b.responseText})})},a.getEdCodeAndVersionDefaults=function(b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q=a.props.userConfig,r=null==q?void 0:null===(d=q.data)|| void 0===d?void 0:d.languages,s=null==r?void 0:null===(e=r[c])|| void 0===e?void 0:null===(f=e.testresults)|| void 0===f?void 0:f.edCode,t=null==r?void 0:null===(g=r[c])|| void 0===g?void 0:null===(h=g.testresults)|| void 0===h?void 0:h.version,u=(null==r?void 0:null===(i=r[c])|| void 0===i?void 0:null===(j=i.testresults)|| void 0===j?void 0:j.userCodeStringFormat)||null;return b&&(s=null==r?void 0:null===(k=r[c])|| void 0===k?void 0:null===(l=k.console)|| void 0===l?void 0:l.edCode,t=null==r?void 0:null===(m=r[c])|| void 0===m?void 0:null===(n=m.console)|| void 0===n?void 0:n.version,u=null==r?void 0:null===(o=r[c])|| void 0===o?void 0:null===(p=o.console)|| void 0===p?void 0:p.userCodeStringFormat,b=!0),{edCode:s,version:t,test_output_on_console:b,userCodeStringFormat:u}},a.handleExpandCollapse=function(){a.setState(function(a){return{outputExpanded:!a.outputExpanded}})},a.changeJudgeType=function(b){var c,d,e,f,g,h=a.props,i=h.userConfig,j=h.executionConfig.language,k=null==i?void 0:null===(c=i.data)|| void 0===c?void 0:c.languages,l="console"===b,m=a.getEdCodeAndVersionDefaults(l,j),n=null==k?void 0:null===(d=k[j])|| void 0===d?void 0:null===(e=d.testresults)|| void 0===e?void 0:e.authorCode;l&&(n=null==k?void 0:null===(f=k[j])|| void 0===f?void 0:null===(g=f.console)|| void 0===g?void 0:g.authorCode),a.props.judgeContent&&a.props.judgeContent.authorCode&&""!==a.props.judgeContent.authorCode&&(n=a.props.judgeContent.authorCode),a.props.onJudgeContentChange({authorCode:n,edCode:m.edCode,version:m.version,test_output_on_console:l,userCodeStringFormat:m.userCodeStringFormat},!0)},a.handleAuthorContentChange=function(b){var c,d,e,f,g,h,i,j,k=a.getEdCodeAndVersionDefaults(!!a.props.judgeContent&&!!a.props.judgeContent.test_output_on_console,a.props.executionConfig.language);a.props.onJudgeContentChange({authorCode:b,edCode:(null===(c=a.props)|| void 0===c?void 0:null===(d=c.judgeContent)|| void 0===d?void 0:d.edCode)||k.edCode,version:(null===(e=a.props)|| void 0===e?void 0:null===(f=e.judgeContent)|| void 0===f?void 0:f.version)||k.version,test_output_on_console:(null===(g=a.props)|| void 0===g?void 0:null===(h=g.judgeContent)|| void 0===h?void 0:h.test_output_on_console)||k.test_output_on_console,userCodeStringFormat:(null===(i=a.props)|| void 0===i?void 0:null===(j=i.judgeContent)|| void 0===j?void 0:j.userCodeStringFormat)||k.userCodeStringFormat})},a.generateStubEvaluationCode=function(){var b,c,d,e,f,g,h,i,j,k,l,m=a.props,n=m.userConfig,o=m.executionConfig.language,p=null==n?void 0:null===(b=n.data)|| void 0===b?void 0:b.languages;a.props.onJudgeContentChange({authorCode:null==p?void 0:null===(c=p[o])|| void 0===c?void 0:null===(d=c.testresults)|| void 0===d?void 0:d.authorCode,edCode:null==p?void 0:null===(e=p[o])|| void 0===e?void 0:null===(f=e.testresults)|| void 0===f?void 0:f.edCode,version:null==p?void 0:null===(g=p[o])|| void 0===g?void 0:null===(h=g.testresults)|| void 0===h?void 0:h.version,userCodeStringFormat:(null==p?void 0:null===(i=p[o])|| void 0===i?void 0:null===(j=i.testresults)|| void 0===j?void 0:j.userCodeStringFormat)||null,test_output_on_console:!1},!0,null==p?void 0:null===(k=p[o])|| void 0===k?void 0:null===(l=k.testresults)|| void 0===l?void 0:l.userCode)},a.generateStubEvaluationCodeForConsole=function(){var b,c,d,e,f,g,h,i,j,k,l,m=a.props,n=m.userConfig,o=m.executionConfig.language,p=null==n?void 0:null===(b=n.data)|| void 0===b?void 0:b.languages;a.props.onJudgeContentChange({authorCode:null==p?void 0:null===(c=p[o])|| void 0===c?void 0:null===(d=c.console)|| void 0===d?void 0:d.authorCode,edCode:null==p?void 0:null===(e=p[o])|| void 0===e?void 0:null===(f=e.console)|| void 0===f?void 0:f.edCode,version:null==p?void 0:null===(g=p[o])|| void 0===g?void 0:null===(h=g.console)|| void 0===h?void 0:h.version,userCodeStringFormat:(null==p?void 0:null===(i=p[o])|| void 0===i?void 0:null===(j=i.console)|| void 0===j?void 0:j.userCodeStringFormat)||null,test_output_on_console:!0},!0,null==p?void 0:null===(k=p[o])|| void 0===k?void 0:null===(l=k.console)|| void 0===l?void 0:l.userCode)},a.toggleShowSolution=function(){a.state.solutionInView||(a.props.logWidgetInteraction({tab_index:a.props.tab_index,interaction_touch_point:t.UO}),a.props.isProjectViewMode&&!a.props.isDraft&&(0,T.qP)(T.f2.STANDALONE_PROJECT,T.bt.PROJECT_SOLUTION_OPENED,a.props.dispatch((0,T.eC)(a.props.userInfo.data)))),a.setState(function(a){return{solutionInView:!a.solutionInView}})},a.toggleShowHint=function(){a.state.judgeHintsInView||(a.props.logWidgetInteraction({tab_index:a.props.tab_index,interaction_touch_point:t.jD}),a.props.isProjectViewMode&&!a.props.isDraft&&(0,T.qP)(T.f2.STANDALONE_PROJECT,T.bt.PROJECT_HINTS_CODEWIDGET_CLICKED,a.props.componentId)),a.setState({judgeHintsInView:!a.state.judgeHintsInView})},a}var j=h.prototype;return j.componentDidMount=function(){if(!this.props.judgeContent){var a,b,c,d,e,f,g,h,i,j=this.props,k=j.userConfig,l=j.executionConfig.language,m=null==k?void 0:null===(a=k.data)|| void 0===a?void 0:a.languages,n=this.props.isAssessment?"":null==m?void 0:null===(b=m[l])|| void 0===b?void 0:null===(c=b.testresults)|| void 0===c?void 0:c.authorCode,o=this.props.isAssessment?"":null==m?void 0:null===(d=m[l])|| void 0===d?void 0:null===(e=d.testresults)|| void 0===e?void 0:e.edCode;this.props.onJudgeContentChange({authorCode:n,edCode:o,version:null==m?void 0:null===(f=m[l])|| void 0===f?void 0:null===(g=f.testresults)|| void 0===g?void 0:g.version,userCodeStringFormat:(null==m?void 0:null===(h=m[l])|| void 0===h?void 0:null===(i=h.testresults)|| void 0===i?void 0:i.userCodeStringFormat)||null,test_output_on_console:!1})}this.props.isProjectViewMode&&S.ZP.add(this.bindProjectListener)},j.componentDidUpdate=function(a){a.executionConfig.language!==this.props.executionConfig.language&&this.reportUpdatedLanguageDefaults(this.props.executionConfig.language),this.props.specialInput===w.O2&&a.specialInput!==this.props.specialInput&&this.setState({outputExpanded:!0}),!a.pendingRun&&this.props.pendingRun&&(this.run(),this.props.pendingRunCallback())},j.reportUpdatedLanguageDefaults=function(a){var b,c,d,e,f,g=this.props.userConfig,h=null==g?void 0:null===(b=g.data)|| void 0===b?void 0:b.languages,i=a,j=!!this.props.judgeContent&&!!this.props.judgeContent.test_output_on_console,k=null==h?void 0:null===(c=h[i])|| void 0===c?void 0:null===(d=c.testresults)|| void 0===d?void 0:d.authorCode;j&&(k=null==h?void 0:null===(e=h[i])|| void 0===e?void 0:null===(f=e.console)|| void 0===f?void 0:f.authorCode),this.props.judgeContent&&this.props.judgeContent.authorCode&&""!==this.props.judgeContent.authorCode&&(k=this.props.judgeContent.authorCode);var l=this.getEdCodeAndVersionDefaults(j,i);this.props.onJudgeContentChange({authorCode:k,edCode:l.edCode,version:l.version,test_output_on_console:l.test_output_on_console,userCodeStringFormat:l.userCodeStringFormat},!0)},j.render=function(){var a=this,b=this.state,c=b.executionComplete,e=b.executionResult,h=b.testResult,j=b.testPassedCount,k=b.testTotalCount,m=b.activeTab,o=b.privateTestTotalCount,q=b.firstFailureNumber,r=b.isFirstFailurePublic,t=this.props,u=t.additionalFilesLimit,v=t.entryFileLimit,x=t.executionConfig,A=t.isAssessment,B=!!(null===(E=this.props.router.asPath)|| void 0===E?void 0:E.endsWith("/demo"));if(B)return(0,d.jsx)("div",{style:{textAlign:"center"},children:"Code Judge not available in demo mode"});var C=null;if(c&&h&&0===m){var E,F,I,J=null;J=null,J=A?h.filter(function(a){return!(null==a?void 0:a.hidden)}).map(function(a,b){var c=a.succeeded?(0,d.jsx)(O.UP,{}):(0,d.jsx)(W.Z,{width:"20",height:"20",className:"text-error dark:text-error-light",style:{marginRight:"5px",marginBottom:"3px"}});return(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{className:am,children:c}),(0,d.jsx)("td",{className:am,children:ap(a.actual_output)})]},b)}):h.filter(function(a){return!(null==a?void 0:a.hidden)}).map(function(b,c){var e,f,g=b.succeeded?(0,d.jsx)(O.UP,{}):(0,d.jsx)(W.Z,{width:"20",height:"20",className:"text-error dark:text-error-light",style:{marginRight:"5px",marginBottom:"3px"}});return(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{className:am,children:g}),(0,d.jsx)("td",{className:am,children:ap(b.input)}),(0,d.jsx)("td",{className:am,children:ap(b.expected_output)}),(0,d.jsx)("td",{className:am,children:ap(b.actual_output)}),!(null===(e=a.props)|| void 0===e?void 0:null===(f=e.judgeContent)|| void 0===f?void 0:f.test_output_on_console)&&(0,d.jsx)("td",{className:am,children:ap(b.reason)})]},c)});var K=A?(0,d.jsxs)(i.Z,{responsive:!0,children:[(0,d.jsx)("thead",{className:am,children:(0,d.jsxs)("tr",{className:am,children:[(0,d.jsx)("th",{className:an,children:"Result"}),(0,d.jsx)("th",{className:an,children:"Output"})]})}),(0,d.jsx)("tbody",{className:am,children:J})]}):(0,d.jsxs)(i.Z,{responsive:!0,children:[(0,d.jsx)("thead",{className:am,children:(0,d.jsxs)("tr",{className:am,children:[(0,d.jsx)("th",{className:an,children:"Result"}),(0,d.jsx)("th",{className:an,children:"Input"}),(0,d.jsx)("th",{className:an,children:"Expected Output"}),(0,d.jsx)("th",{className:an,children:"Actual Output"}),!(null===(F=this.props)|| void 0===F?void 0:null===(I=F.judgeContent)|| void 0===I?void 0:I.test_output_on_console)&&(0,d.jsx)("th",{className:an,children:"Reason"})]})}),(0,d.jsx)("tbody",{className:am,children:J})]});C=(0,d.jsxs)("div",{"data-testid":"CodeJudgeTest",className:"justifty-center flex flex-col items-center",children:[(0,d.jsx)("div",{className:"ml-auto mr-2.5 text-end text-gray-700",children:e.time}),(0,d.jsx)(O.b_,{children:A?"":(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsxs)("div",{className:"flex flex-row",children:[(0,d.jsx)("div",{className:"mt-2",children:(0,d.jsx)(Y.Z,{width:"20",height:"20",className:"stroke-current text-primary dark:text-primary-light",style:{marginRight:"5px",marginBottom:"3px"}})}),(0,d.jsx)("h6",{children:"".concat(j," of ").concat(k," ").concat(o>0&&o!==k?"Private and Public ":o>0?"Private ":"","Tests Passed")})]}),-1!==q&&(0,d.jsx)("div",{className:"flex flex-row",children:(0,d.jsx)("h6",{children:"First Failure occurred on ".concat(o>0?r?"Public ":"Private ":"","Test Case # ").concat(q)})})]})}),o!==k&&(0,d.jsx)("div",{className:"inline-block w-full overflow-x-scroll",children:K})]})}else if(c&&e){var Q="Succeeded"===e.reason,S=!e.stdout&&!e.stderr,T=null;S&&(T=Q?(0,d.jsxs)("div",{"data-testid":"exec-success",className:"flex items-center justify-center text-success",children:[(0,d.jsx)(O.UP,{}),(0,d.jsx)("p",{className:"mb-0 text-xs font-semibold tracking-wide",children:e.reason})]}):(0,d.jsxs)("div",{"data-testid":"exec-fail",className:"flex items-center justify-center break-all text-error dark:text-error-light",children:[(0,d.jsx)(W.Z,{width:"20",height:"20",className:"text-error dark:text-error-light",style:{marginRight:"5px",marginBottom:"3px"}}),(0,d.jsx)("p",{className:"text-xs font-semibold tracking-wide",children:e.reason})]})),C=(0,d.jsxs)("div",{id:ad.env.REACT_APP_STANDALONE?Q?"selenium-execution_succeeded":"selenium-execution_failed":null,children:[e.compilation_result&&(0,d.jsx)("p",{className:"whitespace-pre-wrap",children:e.compilation_result}),T,!S&&(0,d.jsxs)("div",{className:"flex justify-between font-mono",children:[(0,d.jsx)("div",{className:"text-gtay-600 mb-1",children:(0,d.jsx)("h6",{children:"Output"})}),(0,d.jsx)("div",{className:"mr-2.5 text-gray-700",children:e.time})]}),e.stdout&&(0,d.jsx)("p",{className:"select-text overflow-y-auto whitespace-pre-wrap rounded bg-gray-100 p-2.5 dark:bg-dark-80",style:{maxHeight:"unset",height:"".concat(this.props.outputHeight-X.I_,"px"),fontFamily:"monospace"},children:e.stdout}),e.stderr&&(0,d.jsx)("p",{className:"flex select-text items-center justify-center overflow-y-auto whitespace-pre-wrap rounded border border-solid border-error bg-gray-100 p-2.5 dark:border-error-light dark:bg-dark-80",style:{maxHeight:"unset",height:"".concat(this.props.outputHeight-X.I_,"px"),fontFamily:"monospace"},outputHeight:this.props.outputHeight,children:e.stderr})]})}var U={content:this.props.judgeContent?this.props.judgeContent.authorCode:"",language:x.language,theme:this.props.codeTheme},aa={content:this.props.solutionContent,language:x.language,theme:this.props.codeTheme},ab={content:this.props.judgeContentPrepend,language:x.language,theme:this.props.codeTheme},ac=!!this.props.judgeContent&&!!this.props.judgeContent.test_output_on_console,ae=u<0,af=v<0,ag=this.isUnguidedProject();return(0,d.jsxs)("div",{children:[(this.props.enableStdin||this.props.specialInput===w.O2)&&(0,d.jsxs)("div",{className:"flex flex-col border border-solid border-gray-300 bg-white p-4 dark:border-dark-70 dark:bg-dark",children:[(0,d.jsxs)("p",{className:"font-bold text-gray-A900 dark:text-dark-contrastText",style:{fontSize:"15px",lineHeight:"24px",letterSpacing:"0.35px",margin:"0px 0px 6px"},children:["Enter the input below"," ",this.props.specialInput===w.O2?"to be saved in file __ed_input.txt":""]}),(0,d.jsx)(V.default,{multiline:!0,value:this.props.executionConfig.stdin,onChange:this.props.handleStdinChange})]}),(0,d.jsxs)(O.qG,{style:{borderTop:"none",justifyContent:"space-between"},children:[(0,d.jsxs)("div",{className:"flex items-center",children:[this.props.isProjectViewMode&&(0,d.jsx)("span",{className:"font-bold",children:"Output"}),(0,d.jsxs)(O.Hn,{children:[!this.props.isProjectViewMode&&(0,d.jsx)(N.Z,{onClick:this.handleRun,executionDisabled:this.state.executionInProgress||ae||af||this.props.editingApiKeys||this.props.enableStdin&&this.props.isStdinEmpty}),this.props.judgeHints&&this.props.judgeHints.length>0&&(0,d.jsx)(O.aL,{onClick:this.toggleShowHint,children:this.state.judgeHintsInView?"Hide Hint":"Need Hint?"}),this.props.showSolution&&(this.state.solutionInView?(0,d.jsx)(O.aL,{onClick:this.toggleShowSolution,ariaLabel:"hide solution",iconButtonOnMobile:(0,d.jsx)(l.Z,{className:"h-6 w-6"}),children:"Hide Solution"}):(0,d.jsxs)(s.Z,{ariaLabel:"show solution",cancelText:"Let me try",confirmText:"No, just show the solution",element:"button",handleConfirm:this.toggleShowSolution,invertButtons:!0,parentClasses:"m-2 outlined-default py-2",popoverTitle:"Give it another shot?",children:[(0,d.jsx)(l.Z,{className:"h-4 w-4 sm:hidden"}),(0,d.jsx)("span",{className:"tailwind-hidden sm:block",children:"Show Solution"})]}))]}),af&&(0,d.jsxs)("div",{className:"ml-auto p-2.5 text-error dark:text-error-light",children:["".concat(-1*v," character(s) over limit in first file. (Max: ").concat(y.jxd,"KB)"),!this.props.readOnly&&(0,d.jsx)("span",{children:" . Consider creating a new file."})]}),ae&&!af&&(0,d.jsxs)("div",{className:"ml-auto p-2.5 text-error dark:text-error-light",children:["".concat(-1*u," character(s) over limit (Max: ").concat(y.FtG,"KB)"),!this.props.readOnly&&(0,d.jsxs)("span",{children:[". Consider using the"," ",(0,d.jsx)(R(),{prefetch:!1,href:z.Z.AUTHOR_GUIDE,passHref:!0,children:(0,d.jsx)("a",{className:"underline",target:"_new",children:"code execution resource file."})})]})]})]}),(0,d.jsxs)("div",{className:"flex items-center",children:[!this.props.isProjectViewMode&&this.props.additionalActions,this.props.fullscreenIconToggle({onClick:this.props.toggleFullScreen})]})]}),!this.props.readOnly&&(0,d.jsx)(L,{test_output_on_console:ac,language:x.language,changeJudgeType:this.changeJudgeType,generateStubEvaluationCode:ac?this.generateStubEvaluationCodeForConsole:this.generateStubEvaluationCode,codeContent:U,onlyCodeChanged:this.props.onlyCodeChanged,onEditorChange:this.handleAuthorContentChange,solutionContent:aa,onSolutionContentChange:this.props.onSolutionContentChange,judgeHints:this.props.judgeHints,onJudgeHintsUpdate:this.props.onJudgeHintsUpdate,judgeContentPrepend:ab,onJudgeContentPrependChange:this.props.onJudgeContentPrependChange,isAssessment:this.props.isAssessment}),(0,d.jsxs)(f.Z,{className:"".concat(this.props.isProjectViewMode?"overflow-y-scroll":""),style:{height:"".concat(this.props.outputHeight,"px")},children:[this.state.judgeHintsInView&&(0,d.jsx)(g.Z,{classNames:"runnable",timeout:500,children:(0,d.jsxs)("div",{className:"flex flex-col border border-solid border-gray-300 bg-white px-5 pt-2.5 dark:border-dark-70 dark:bg-dark",style:{fontFamily:"monospace",paddingBottom:"30px"},children:[(0,d.jsx)("div",{className:"-mr-3.5 mb-3.5 ml-0 mt-1 flex items-center justify-end",children:(0,d.jsx)(Z.Z,{className:"mr-2.5",children:(0,d.jsx)($.Z,{className:"h-4 w-4"}),circleButton:!0,title:"Hide Hints","aria-hidden":"true",onClick:this.toggleShowHint})}),(0,d.jsx)(M.Z,{judgeHints:this.props.judgeHints})]})}),this.state.solutionInView&&(0,d.jsx)(g.Z,{classNames:"runnable",timeout:500,children:(0,d.jsxs)("div",{className:"flex flex-col border border-solid border-gray-300 bg-white px-5 pt-2.5 dark:border-dark-70 dark:bg-dark",style:{fontFamily:"monospace",paddingBottom:"30px"},children:[(0,d.jsxs)("div",{className:"-mr-3.5 mb-3.5 ml-0 mt-1 flex items-center justify-between",children:[(0,d.jsx)("div",{className:"flex grow justify-center",children:(0,d.jsx)(P.Z,{caption:"Solution",readOnly:!0,inCode:!0,noMarginTop:!0})}),(0,d.jsxs)("div",{className:"flex",children:[(0,d.jsx)(Z.Z,{className:"mr-2.5",children:(0,d.jsx)($.Z,{className:"h-4 w-4"}),circleButton:!0,title:"Hide Solution","aria-hidden":"true",onClick:this.toggleShowSolution}),(0,d.jsx)(Z.Z,{className:"mr-2.5",children:(0,d.jsx)(_.Z,{className:"h-4 w-4"}),circleButton:!0,title:"Copy To Clipboard","aria-hidden":"true",onClick:function(){return n()(aa.content)}})]})]}),(0,d.jsx)(D.Z,{codeContent:aa,readOnly:!0,isSolution:!0})]})}),this.state.outputExpanded&&(0,d.jsx)(g.Z,{classNames:"runnable",timeout:500,children:(0,d.jsxs)("div",{className:"flex flex-col border border-solid border-gray-300 bg-white px-5 pt-2.5 dark:border-dark-70 dark:bg-dark",style:ah({fontFamily:"monospace",paddingBottom:"30px"},this.props.outputHeight&&{height:"".concat(this.props.outputHeight,"px")}),"data-testid":"is-runnable",children:[(0,d.jsxs)("div",{className:"my-2 flex items-center justify-between",children:[this.state.executionInProgress?(0,d.jsx)("div",{}):(0,d.jsxs)(H.default,{"aria-label":"output-tabs",value:m,children:[(0,d.jsx)(G.default,{label:"Show Results",ariaPrefix:"show-results",onClick:function(){return a.setState({activeTab:0})},ariaIndex:0}),(0,d.jsx)(G.default,{label:"Show Console",ariaPrefix:"show-console",onClick:function(){return a.setState({activeTab:1})},ariaIndex:1})]}),(0,d.jsx)(W.Z,{className:"h-5 w-5 cursor-pointer self-start duration-200 hover:text-primary dark:hover:text-primary-light",onClick:this.handleExpandCollapse})]}),!ag&&this.state.executionInProgress&&(0,d.jsx)(p.Z,{statusData:{status:"WAIT",text:"Executing your code"},isExecution:!0}),!ag&&(0,d.jsx)("div",{children:C|| !this.state.executionInProgress&&"Press Test To Execute"})]})})]})]})},h}(e.Component);aq.defaultProps={tab_index:null,logWidgetInteraction:function(){return null},renderExtractionWrapper:function(){return null},renderReplacementWrapper:function(){return null},editingApiKeys:!1,pendingRun:!1,pendingRunCallback:function(){return null},isProjectViewMode:!1,outputHeight:null};var ar=function(a){var b,c,f=e.useContext(aa.wr).userInfoState,g=e.useContext(ab.h);return(0,d.jsx)(aq,(b=ah({},a),c=(c={userInfo:f,projectsTestResultsContext:g},c),Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(c)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(c)).forEach(function(a){Object.defineProperty(b,a,Object.getOwnPropertyDescriptor(c,a))}),b))},as=(0,k.withRouter)(ao(ar))},71060:function(a,b,c){"use strict";c.d(b,{Z:function(){return j}});var d=c(20348),e=c(89703),f=c(21644);function g(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function h(a){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function i(a,b){return(i=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var j=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&i(a,b)}(j,a);var b,c,e=(b=j,c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,d,e,f,g=h(b);if(c){var i=h(this).constructor;f=Reflect.construct(g,arguments,i)}else f=g.apply(this,arguments);return d=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(d)});function j(a){var b;return!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,j),(b=e.call(this,a)).onAddHint=function(){b.setState(function(a){var c,d=((function(a){if(Array.isArray(a))return g(a)})(c=a.judgeHints||[])||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(c)||function a(b,c){if(b){if("string"==typeof b)return g(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(d);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return g(b,c)}}(c)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([{markdown:"",html:""},]);return b.props.onJudgeHintsUpdate(d,!0),{judgeHints:d}})},b.state={judgeHints:b.props.judgeHints},b}return j.prototype.render=function(){var a=this.props,b=a.onJudgeHintsUpdate,c=a.onlyCodeChanged,e=this.state.judgeHints;return(0,d.jsxs)("div",{style:{marginBottom:15},children:[(0,d.jsx)(f.Z,{judgeHints:e,onJudgeHintsUpdate:b,onlyCodeChanged:c}),(0,d.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,d.jsx)("button",{className:"outlined-default m-2 py-2",onClick:this.onAddHint,children:"Add Hint"})})]})},j.getDerivedStateFromProps=function(a){return{judgeHints:a.judgeHints}},j}(e.Component)},21644:function(a,b,c){"use strict";var d=c(20348),e=c(89703),f=c(98252),g=c(92927),h=c(75179),i=c(58347),j=c(15538),k=c(786),l=c.n(k),m=c(30833),n=c(47634),o=c(81709),p=c(46587);function q(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function r(a){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function s(a,b){return(s=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var t=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&s(a,b)}(k,a);var b,c,e=(b=k,c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,d,e,f,g=r(b);if(c){var h=r(this).constructor;f=Reflect.construct(g,arguments,h)}else f=g.apply(this,arguments);return d=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(d)});function k(){var a;return!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,k),a=e.apply(this,arguments),a.onHintUpdate=function(b,c){var d=l()(a.props.judgeHints,q({},c,{markdown:{$set:b},html:{$set:(0,g.markdownToHtml)(b)}}));a.props.onJudgeHintsUpdate(d,!0)},a.removeHint=function(b){var c=a.props.judgeHints;c&&c.length>b&&a.props.onJudgeHintsUpdate(l()(c,{$splice:[[b,1]]}))},a.swapNodes=function(b,c){var d,e=a.props.onJudgeHintsUpdate,f=l()(a.props.judgeHints,(q(d={},b,{$set:a.props.judgeHints[c]}),q(d,c,{$set:a.props.judgeHints[b]}),d));e(f)},a.hintButtonPanel=function(b){var c=a.props.judgeHints.length,e=[0!==c&&0!==b&&{title:"Move up",icon:o.Z,onClick:function(){return a.swapNodes(b,b-1)}},0!==c&&b+1!==c&&{title:"Move down",icon:n.Z,onClick:function(){return a.swapNodes(b,b+1)}},{title:"Remove",icon:p.Z,onClick:function(){return a.removeHint(b)},popoverTitle:"Are you sure you want to delete this Hint?"},].filter(Boolean).map(function(a){var b=a.icon,c=(0,d.jsx)(f.default,{id:a.title,onClick:function(){return!a.popoverTitle&&a.onClick()},overlay:a.title,parentClasses:"cursor-pointer duration-200 inline-flex ".concat(a.popoverTitle?"dark:text-error-light text-error":"dark:text-dark-contrastText hover:text-primary text-black"),position:m.YS6,children:(0,d.jsx)(b,{className:"h-5 w-5 stroke-current"})},a.title);return a.popoverTitle?(0,d.jsx)(j.Z,{danger:!0,handleConfirm:a.onClick,parentClasses:"flex",popoverTitle:"Are you sure you want to delete this Hint?",children:c},a.title):c});return(0,d.jsx)("div",{className:"flex items-center space-x-4",children:e})},a}return k.prototype.render=function(){var a=this,b=null,c=this.props.judgeHints;return c&&c.length>0&&(b=this.props.judgeHints.map(function(b,c){var e={content:b.markdown,language:"markdown",theme:"default"};return(0,d.jsx)("div",{children:(0,d.jsxs)("div",{"data-test-id":"hints-wrapper",className:"mx-2.5 mb-4 mt-2.5 flex flex-col rounded border border-solid border-gray-400 p-2.5 dark:border-dark-70",children:[(0,d.jsxs)("div",{className:"flex justify-between px-2.5",children:[(0,d.jsxs)("h6",{children:["Hint ",c+1]}),a.hintButtonPanel(c)]}),(0,d.jsxs)("div",{className:"px-3",children:[(0,d.jsx)(i.Z,{placeholder:"Write hint in markdown",showRuler:!1,codeContent:e,readOnly:!1,onlyCodeChanged:a.props.onlyCodeChanged,onEditorChange:function(b){a.onHintUpdate(b,c)},updateOnChange:!0})," "]}),(0,d.jsx)("div",{className:"mx-3 rounded-b bg-gray-50 p-1.5 dark:bg-dark-90",children:(0,d.jsx)(h.default,{mdHtml:b.html})})]})},c)})),(0,d.jsx)("div",{style:{minHeight:90},children:b})},k}(e.Component);b.Z=t},55859:function(a,b,c){"use strict";var d=c(20348),e=c(89703),f=c(30833),g=c(98252),h=c(58347),i=c(47486),j=c(39416);function k(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function m(a){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function n(a,b){return(n=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var o={appendCode:"Append",prependCode:"Prepend"},p=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&n(a,b)}(p,a);var b,c,e=(b=p,c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,d,e,f,g=m(b);if(c){var h=m(this).constructor;f=Reflect.construct(g,arguments,h)}else f=g.apply(this,arguments);return d=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(d)});function p(){var a;return!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,p),a=e.apply(this,arguments),a.state={codeSelection:"prependCode"},a.render=function(){return(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsxs)("div",{className:"pb-3 pt-1",children:[(0,d.jsx)(g.default,{element:"span",overlay:"We will prepend and append the hidden codes to the above code while executing.",overlayParentClasses:"max-w-xs text-center",parentClasses:"cursor-pointer italic",position:f.YS6,children:"Hidden code goes here."}),(0,d.jsx)(i.Z,{customButtonClass:"bg-white dark:bg-dark dark:text-primary-light h-9 justify-between pb-2 pt-1 px-4 space-x-1 text-primary",customClass:"inline-flex ml-1 border border-solid border-gray-300 dark:border-dark-80",onChange:function(b){a.setState({codeSelection:b})},renderValue:function(){return(0,d.jsx)("span",{children:o[a.state.codeSelection]})},value:a.state.codeSelection,children:Object.entries(o).map(function(a){var b,c,e=(c=2,function(a){if(Array.isArray(a))return a}(b=a)||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(b,c)||function a(b,c){if(b){if("string"==typeof b)return k(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(d);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return k(b,c)}}(b,c)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=e[0],g=e[1];return(0,d.jsx)(j.Z,{value:f,children:g},f)})})]}),(0,d.jsx)("div",{className:"cmcomp-single-editor-container mb-5",children:(0,d.jsx)(h.Z,{codeContent:{content:a.props.hiddenCodeContent[a.state.codeSelection],language:a.props.language||"",theme:a.props.codeTheme,entryFileName:a.props.entryFileName||""},readOnly:!1,onlyCodeChanged:a.props.onlyCodeChanged,updateOnChange:!0,onEditorChange:function(b){var c,d;return a.props.onHiddenCodeContentChange((c=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}({},a.props.hiddenCodeContent),d=null!=(d=l({},a.state.codeSelection,b))?d:{},Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(d)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(d)).forEach(function(a){Object.defineProperty(c,a,Object.getOwnPropertyDescriptor(d,a))}),c),!1)}})})]})},a}return p}(e.Component);b.Z=p},14872:function(a,b,c){"use strict";c.d(b,{Z:function(){return ap}});var d,e,f=c(20348),g=c(89703),h=c(80226),i=c.n(h),j=c(69327),k=c(57567),l=c(64889),m=c(34099),n=c(77641),o=c(96865),p=c(2698),q=c(34546),r=c(52908),s=c(26744),t=c(86181),u=c(30833),v=c(24088),w=c(1991),x=c(21493),y=c(14087),z=c(44916),A=c(37513),B=c(51876),C=c(60649),D=c(7612),E=c(913);function F(a){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function G(a,b){return(G=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var H=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&G(a,b)}(e,a);var b,c,d=(b=e,c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,d,e,f,g=F(b);if(c){var h=F(this).constructor;f=Reflect.construct(g,arguments,h)}else f=g.apply(this,arguments);return d=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(d)});function e(){var a;return!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,e),a=d.apply(this,arguments),a.state={index:0,loaded:!1,charts:[]},a.previousChart=function(){var b=a.state.index;b-1>=0&&a.setState({index:b-1})},a.nextChart=function(){var b=a.state,c=b.index;c+1<b.charts.length&&a.setState({index:c+1})},a}var g=e.prototype;return g.componentDidMount=function(){var a=this,b=this.props.url;(0,A.Z)({url:b,type:"GET"},!0).then(function(b){var c=null;try{c=JSON.parse(b.data)}catch(d){c=[]}a.setState({charts:c,loaded:!0})}).catch(function(a){(0,r.uX)(a)})},g.generateChart=function(){var a=this.state,b=a.loaded,c=a.charts,d=a.index;if(b){var e=c.length&&d<c.length?c[d]:null;if(e){var g={config:JSON.stringify(e),type:e.type||"scatter3d"};return(0,f.jsxs)("div",{className:"mb-2.5 rounded border border-solid border-gray-400 py-2.5",children:[(0,f.jsx)(E.default,{showBorder:!1,content:g,mode:"view"}),!!c.length&&(0,f.jsxs)("div",{className:"flex items-center justify-center",children:[(0,f.jsx)(D.Z,{circleButton:!0,className:"ml-4",disabled:!d,onClick:this.previousChart,children:(0,f.jsx)(B.Z,{"aria-label":"previous slide",className:"h-5 w-5"})}),(0,f.jsx)(D.Z,{circleButton:!0,className:"ml-4",disabled:d===c.length-1,onClick:this.nextChart,children:(0,f.jsx)(C.Z,{"aria-label":"next slide",className:"h-5 w-5"})})]})]})}return(0,f.jsx)("div",{children:"Invalid Chart Data"})}return(0,f.jsx)("div",{children:"Loading Chart Data..."})},g.render=function(){return this.generateChart()},e}(g.Component);function I(){return(I=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var J=function(a){return g.createElement("svg",I({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24},a),d||(d=g.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),e||(e=g.createElement("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"})))},K=c(42091);function L(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function M(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function N(a){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function O(a,b){return(O=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}K.v0.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(K.v0.version,"/pdf.worker.js");var P=function(a){var b=a.pdfFile,c=function(a){k(a.numPages),o(1)},d=function(a){o(function(b){return b+a})},e=function(){d(-1)},h=function(){d(1)},i=(0,g.useState)(null),j=i[0],k=i[1],l=(0,g.useState)(1),m=l[0],o=l[1];return(0,f.jsxs)("div",{className:"justify-content-center flex flex-col ",children:[(0,f.jsx)("p",{className:"text-center",children:b.split("/")[b.split("/").length-1]}),(0,f.jsx)(K.BB,{file:b,onLoadSuccess:c,error:(0,f.jsx)(n.Z,{statusData:{text:"Failed to load PDF. However, you can still download it.",status:"ERROR"}}),loading:(0,f.jsx)(n.Z,{statusData:{text:"Loading your pdf please wait..",status:"WAIT"}}),children:(0,f.jsx)("div",{className:"align-items-center flex",children:(0,f.jsx)(K.T3,{pageNumber:m,className:"mx-auto my-0",loading:(0,f.jsx)(n.Z,{statusData:{status:"WAIT"}})})})}),(0,f.jsxs)("div",{children:[(0,f.jsx)("hr",{}),(0,f.jsxs)("p",{className:"text-center",children:["Page ",m||(j?1:"--")," of ",j||"--"]}),(0,f.jsxs)("div",{className:"flex justify-between font-sans ",children:[(0,f.jsxs)("div",{className:"flex ",children:[(0,f.jsx)("button",{className:"contained-primary m-2",type:"button",disabled:m<=1,onClick:e,children:"Previous"}),(0,f.jsx)("button",{className:"contained-primary m-2",type:"button",disabled:m>=j,onClick:h,children:"Next"})]}),(0,f.jsx)("button",{className:"contained-primary m-2",onClick:y.ZP.downloadFile,id:b,children:"Download"})]})]})]})},Q=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&O(a,b)}(e,a);var b,c,d=(b=e,c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,d,e,f,g=N(b);if(c){var h=N(this).constructor;f=Reflect.construct(g,arguments,h)}else f=g.apply(this,arguments);return d=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:M(d)});function e(a){var b;return!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,e),b=d.call(this,a),y.ZP.downloadFile=y.ZP.downloadFile.bind(M(b)),b}return e.prototype.render=function(){var a,b=this.props,c=b.executionResult,d=b.execResultDiv,e=b.fullWidthFileOutput,g=b.height,h=g?"".concat(g,"px"):u.al,i=null,j=c.output_files.files,k=j.map(function(a,b){var d=a.substr(a.indexOf(".")+1);if(i="".concat(c.output_files.rootPath,"/").concat(a),y.ZP.checkImageExt(d))return(0,f.jsx)("div",{children:(0,f.jsx)("div",{className:"flex justify-center text-black",style:{fontFamily:"Monaco, Menlo, Consolas, 'Courier New', monospace"},children:(0,f.jsx)("span",{className:"font-normal",children:(0,f.jsx)(z.Z,{imageSrc:i,customStyle:{display:"block",margin:"auto",width:e?"100%":"auto",textAlign:"center",cursor:"zoom-in",height:"auto",maxHeight:h},alt:"carousel widget"})})})});if("mp4"===d)return(0,f.jsx)("video",{width:"100%",height:"100%",controls:!0,autoPlay:!0,controlsList:"noplaybackrate nodownload",disablePictureInPicture:!0,children:(0,f.jsx)("source",{src:i,type:"video/mp4"})});if("__ed_chart.json"===a){var g="".concat(c.output_files.rootPath,"/").concat(a);return(0,f.jsx)(H,{url:g})}return"pdf"===d?(0,f.jsx)(P,{pdfFile:i}):(0,f.jsx)("div",{className:"mb-12 mt-5 flex justify-center",children:(0,f.jsx)("button",{className:"contained-primary m-2",onClick:y.ZP.downloadFile,id:i,children:(0,f.jsxs)("p",{className:"font-normal",children:[(0,f.jsx)(J,{className:"h-5 w-5 align-middle"}),a," "]})})})});return(0,f.jsx)(x.Z,{wrap:!1,chevronLeftClass:"w-10 h-10 text-black dark:text-dark-contrastText hover:text-primary dark:hover:text-primary-light -ml-4 transform hover:scale-110",chevronRightClass:"w-10 h-10 text-black dark:text-dark-contrastText hover:text-primary dark:hover:text-primary-light -mr-4 transform hover:scale-110",children:((function(a){if(Array.isArray(a))return L(a)})(a=k)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||function a(b,c){if(b){if("string"==typeof b)return L(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(d);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return L(b,c)}}(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([d])})},e}(g.Component),R=c(34994),S=c(98252),T=c(10761),U=c(47539),V=c(93886),W=c(28961),X=c(80569),Y={junit5:{handler:function(a){return Z(a)}},junit58:{handler:function(a){return Z(a)}}},Z=function(a){var b=a.junit5_results;if(0===b.length)return null;var c=[{name:"suite",desc:"Test Suite"},{name:"name",desc:"Test Name"},{name:"reason",desc:"Reason"},],d=c.map(function(a,c){var d;return(null===(d=b[0])|| void 0===d?void 0:d[a.name])?(0,f.jsx)("th",{children:a.desc}):null}),e=b.map(function(a,b){var d=c.map(function(b,c){var d=null==a?void 0:a[b.name];return d?(0,f.jsx)("td",{children:$(d)}):null});return(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{children:a.succeeded?(0,f.jsx)(X.UP,{}):(0,f.jsx)(W.Z,{width:"20",height:"20",className:"text-error dark:text-error-light",style:{marginRight:"5px",marginBottom:"3px"}})}),d]},b)}),g=(0,f.jsxs)(T.Z,{responsive:!0,bordered:!0,children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{children:"Result"}),d]})}),(0,f.jsx)("tbody",{children:e})]});return(0,f.jsx)("div",{className:"flex flex-col items-center justify-center",children:g})},$=function(a){return V.ZP.isString(a)&&(a.length>40?(0,f.jsxs)(S.default,{backgroundColor:"bg-white border-white dark:bg-gray-400 dark:border-gray-400",element:"span",overlay:(0,f.jsx)("div",{className:"overflow-y-scroll",style:{maxHeight:"150px",wordWrap:"break-word"},children:a}),overlayParentTextColorClasses:"text-black dark:text-dark-80",overlayParentStyles:{whiteSpace:"break-spaces"},parentClasses:"cursor-pointer",position:u.YS6,rootClose:!0,trigger:u.t4j,children:[a.substring(0,40),(0,f.jsx)(U.Z,{className:"float-right h-5 w-5 rounded-md fill-current px-1 py-0 text-black dark:text-gray-400"})]}):a)},_=c(55859),aa=c(22091),ab=c(19228),ac=c.n(ab),ad=c(57227),ae=c(84121),af=c(2321),ag=c(89763);function ah(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function ai(a){return(ai=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function aj(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){ah(a,b,c[b])})}return a}function ak(a,b){return(ak=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var al=i()(function(){return Promise.all([c.e(34613),c.e(88378)]).then(c.bind(c,88378))},{loadableGenerated:{webpack:function(){return[88378]}},loading:function(){return(0,f.jsx)("div",{})}}),am=function(a){var b=a.dockerDetails.jobs,c=a.user,d=c.info.loggedOut,e=c.widgetsData,f=e.loaded,g=e.loading;return{dockerJobs:b,loggedOut:d,widgetsUserDataStatus:{loaded:f,loading:g}}},an=(0,l.$j)(am),ao=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&ak(a,b)}(e,a);var b,c,d=(b=e,c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,d,e,f,g=ai(b);if(c){var h=ai(this).constructor;f=Reflect.construct(g,arguments,h)}else f=g.apply(this,arguments);return d=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(d)});function e(){var a;return!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,e),a=d.apply(this,arguments),a.executionId=0,a.state={executionInProgress:!1,executionComplete:!1,executionResult:null,outputExpanded:!1,isOpen:!1,fullImage:null,executionSuccessful:!1},a.handleExpandCollapse=function(){a.setState(function(a){return{outputExpanded:!a.outputExpanded,executionInProgress:!1}})},a.onExecutionSuccess=function(b,c){var d;c===a.executionId&&a.state.outputExpanded&&(a.props.renderExtractionWrapper(null==b?void 0:null===(d=b.transformedResult)|| void 0===d?void 0:d.apiKeys),a.setState({executionSuccessful:!0,executionResult:a.props.executionConfig.transformOutput?b.transformedResult:b,outputExpanded:b.stderr||!a.props.isCodeDrawing}),a.props.isCodeDrawing&&"Succeeded"===b.reason&&b.image_id&&a.props.updateContentState({imageId:"".concat(b.image_id)}))},a.onExecutionFailure=function(b,c){c===a.executionId&&a.state.outputExpanded&&a.setState({executionSuccessful:!1,executionResult:b})},a.onExecutionStart=function(){a.setState({executionInProgress:!0,executionComplete:!1,outputExpanded:!0})},a.onExecutionDone=function(b){b===a.executionId&&(a.props.isCodeDrawing||a.state.outputExpanded)&&a.setState({executionInProgress:!1,executionComplete:!0})},a.autoSaveOnRun=function(){try{var b,c;a.props.allowWidgetUserData&&(null===(c=(b=a.props).handleSaveUserData)|| void 0===c||c.call(b,{reset:!1}))}catch(d){(0,r.uX)(d)}},a.handleRun=function(b){var c={Code:ag.bt.CODE_RUN,CodeDrawing:ag.bt.CD_RUN,UML:ag.bt.UML_RUN},d={Code:ag.f2.CODE_WIDGET,CodeDrawing:ag.f2.CODE_DRAWING,UML:ag.f2.UML_WIDGET};d[a.props.widgetType]&&c[a.props.widgetType]&&(0,ag.qP)(d[a.props.widgetType],c[a.props.widgetType],a.props.userType),a.props.loggedOut||a.autoSaveOnRun(),!a.props.renderEnvsWrapper()&&(a.props.renderReplacementWrapper()||(null==b||b.stopPropagation(),a.run()))},a.run=function(){var b=a.props.executionConfig.specialInputData;if([t.Ol,t.Wz].includes(a.props.specialInput)){var c="";a.props.specialInput===t.Ol?c=s.Ol:a.props.specialInput===t.Wz&&(c=s.Wz),a.props.dispatch(o.n.show(c,{imageData:b,isEditMode:"edit"===a.props.mode,updateSpecialInputData:a.props.updateSpecialInputData,continue:a.handleActualRun,isModalInsideModal:!0}))}else a.handleActualRun()},a.handleActualRun=function(){var b,c,d=arguments.length>0&& void 0!==arguments[0]?arguments[0]:a.props.executionConfig.sourceCode;arguments.length>1&&arguments[1];var e,f,g={authorId:a.props.authorId,collectionId:a.props.collectionId,pageId:a.props.pageId,isDraft:a.props.isDraft,shotId:a.props.shotId,workType:null!==(b=a.props.workType)&& void 0!==b?b:a.props.pageType},h=++a.executionId;(0,p.q)((e=aj({},a.props.executionConfig),f={outputTransformCode:null!==(c=a.props.executionConfig.outputTransformCode)&& void 0!==c?c:q.v,sourceCode:d,dockerJobs:a.props.dockerJobs},f=null!=f?f:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(f)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(f)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(f,a))}),e),g,h,a.onExecutionSuccess,a.onExecutionFailure,a.onExecutionStart,a.onExecutionDone,a.props.isCodeDrawing)},a.bindProjectListener=function(b){b.detail.event===ad.lx.RUN&&a.handleRun()},a.bindCodeListener=function(b){var c=b.detail,d=c.event,e=c.compId;d===ad.wn.RUN&&a.props.compId===e&&a.handleRun()},a.componentDidMount=function(){a.props.isProjectViewMode&&ad.ZP.add(a.bindProjectListener),ad.ZP.add(a.bindCodeListener)},a.componentWillUnmount=function(){a.props.isProjectViewMode&&ad.ZP.remove(a.bindProjectListener),ad.ZP.remove(a.bindCodeListener)},a}var g=e.prototype;return g.componentDidUpdate=function(a){this.props.specialInput===t.O2&&a.specialInput!==this.props.specialInput&&this.setState({outputExpanded:!0}),!a.bypassEnvCheck&&this.props.bypassEnvCheck&&(this.handleRun(),this.props.bypassCheckCallback(!1)),!a.pendingRun&&this.props.pendingRun&&(this.run(),this.props.pendingRunCallback())},g.render=function(){var a,b,c,d,e,g,h,i=this.state,l=i.executionComplete,m=i.executionResult,o=this.props,p=o.additionalFilesLimit,q=o.entryFileLimit,r=(this.props.outputHeight||u._7V*u.B$5)-(this.props.isProjectViewMode?af.Vw:0),s=!!(null===(a=this.props.router)|| void 0===a?void 0:a.asPath.endsWith("/demo"));if(s)return(0,f.jsx)("div",{style:{textAlign:"center"},children:"Code Execution not available in demo mode"});var x=null,y=null;if(l&&m){var z=null;if(m.rendered_output&&"ed_canvas_draw"===m.rendered_output.type){var A=JSON.parse(m.rendered_output.data);z=(0,f.jsx)(al,{animation:A})}if(null==m?void 0:m.special_output){var B=Y[this.props.executionConfig.language];B&&(z=B.handler(m))}this.props.treatOutputAsHTML?m.output_files?(y=(0,f.jsx)(R.Z,{rendered_output:z,executionResult:m,treatOutputAsHTML:this.props.treatOutputAsHTML}),x=(0,f.jsx)(Q,{executionResult:m,execResultDiv:y,height:this.props.executionConfig.outputImageHeight})):x=(0,f.jsx)(R.Z,{rendered_output:z,executionResult:m,treatOutputAsHTML:this.props.treatOutputAsHTML}):m.output_files?(y=(0,f.jsx)(R.Z,{rendered_output:z,executionResult:m,treatOutputAsHTML:this.props.treatOutputAsHTML}),x=(0,f.jsx)(Q,{executionResult:m,execResultDiv:y,fullWidthFileOutput:this.props.fullWidthFileOutput,height:this.props.executionConfig.outputImageHeight})):x=(0,f.jsx)(R.Z,{rendered_output:z,executionResult:m,treatOutputAsHTML:this.props.treatOutputAsHTML,outputHeight:!(null==m?void 0:m.stderr)&&r})}var C=null;"edit"===this.props.mode&&this.props.enableHiddenCode&&(C=(0,f.jsx)(_.Z,{hiddenCodeContent:null!==(g=this.props.hiddenCodeContent)&& void 0!==g?g:aa.defaultHiddenCode,onHiddenCodeContentChange:this.props.onHiddenCodeContentChange,onlyCodeChanged:this.props.onlyCodeChanged,language:Object.keys(null!==(h=this.props.executionConfig.dockerExecutionContext)&& void 0!==h?h:{}).length>0?"":this.props.executionConfig.language,entryFileName:this.props.executionConfig.entryFileName,codeTheme:this.props.codeTheme}));var D=p<0,E=q<0,F=!this.props.loggedOut&&(this.props.widgetsUserDataStatus.loading||!this.props.widgetsUserDataStatus.loaded)&&!!this.props.allowWidgetUserData,G=!(null===(b=this.props.executionConfig.sourceCode)|| void 0===b?void 0:b.trim())||D||E||this.props.editingApiKeys||this.state.executionInProgress||this.props.enableStdin&&this.props.isStdinEmpty||F;return(0,f.jsxs)("div",{children:[C,(0,f.jsxs)("div",{children:[(this.props.enableStdin||this.props.specialInput===t.O2)&&(0,f.jsxs)("div",{className:"flex flex-col border border-solid border-gray-300 bg-white p-4 dark:border-dark-70 dark:bg-dark",children:[(0,f.jsxs)("p",{className:"font-bold text-gray-A900 dark:text-dark-contrastText",style:{fontSize:"15px",lineHeight:"24px",letterSpacing:"0.35px",margin:"0px 0px 6px"},children:["Enter the input below"," ",this.props.specialInput===t.O2?"to be saved in file __ed_input.txt":""]}),(0,f.jsx)(ae.default,{multiline:!0,value:this.props.executionConfig.stdin,onChange:this.props.handleStdinChange})]}),(0,f.jsxs)(X.qG,{className:"justify-between border-t-0",children:[(0,f.jsxs)("div",{className:"flex items-center",children:[this.props.isProjectViewMode?(0,f.jsx)("span",{className:"font-bold",children:"Output"}):(0,f.jsxs)("button",{className:"contained-primary m-0 py-2",onClick:this.handleRun,"aria-label":"run code",title:(null===(c=this.props.executionConfig.sourceCode)|| void 0===c?void 0:c.trim())?"":"Entry file '".concat(this.props.executionConfig.entryFileName,"' cannot be empty"),disabled:G,children:[(0,f.jsx)(w.Z,{className:"h-6 w-6 self-center sm:hidden"}),(0,f.jsx)("div",{className:"tailwind-hidden sm:flex",children:"Run"})]}),D&&(0,f.jsxs)("div",{className:"ml-auto p-2.5 text-error dark:text-error-light",children:["".concat(-1*p," character(s) over limit (Max: ").concat(u.FtG,"KB)"),"edit"===this.props.mode&&(0,f.jsxs)("span",{children:[". Consider using the"," ",(0,f.jsx)(ac(),{prefetch:!1,href:v.Z.AUTHOR_GUIDE,passHref:!0,children:(0,f.jsx)("a",{className:"underline",target:"_new",children:"code execution resource file."})})]})]}),E&&!D&&(0,f.jsxs)("div",{className:"ml-auto p-2.5 text-error dark:text-error-light",children:["".concat(-1*q," character(s) over limit in first file. (Max: ").concat(u.jxd,"KB)"),"edit"===this.props.mode&&(0,f.jsx)("span",{children:" . Consider creating a new file."})]})]}),(0,f.jsxs)("div",{className:"flex items-center",children:[!this.props.isProjectViewMode&&this.props.additionalActions,this.props.fullscreenIconToggle({onClick:this.props.toggleFullScreen})]})]}),(0,f.jsx)(j.Z,{children:this.state.outputExpanded&&(0,f.jsx)(k.Z,{classNames:"runnable",timeout:500,children:(0,f.jsxs)("div",{className:"flex flex-col overflow-y-scroll border border-solid border-gray-300 bg-white px-5 pt-2.5 dark:border-dark-70 dark:bg-dark",style:aj({fontFamily:"monospace",paddingBottom:"30px"},this.props.outputHeight&&!(null===(d=this.state)|| void 0===d?void 0:null===(e=d.executionResult)|| void 0===e?void 0:e.stderr)&&!this.props.executionConfig.outputImageHeight&&{maxHeight:"".concat(r+2*af.I_+af.Vw,"px")}),children:[!this.props.isProjectViewMode&&(0,f.jsx)("div",{className:"mb-7 flex justify-end",children:(0,f.jsx)(W.Z,{className:"h-5 w-5 cursor-pointer self-end duration-200 hover:text-primary dark:hover:text-primary-light",onClick:this.handleExpandCollapse,"aria-label":"close output tabs"})}),this.state.executionInProgress&&(0,f.jsx)(n.Z,{statusData:{status:"WAIT",text:"Executing your code"},isExecution:!0}),x|| !this.props.isCodeDrawing&&!this.state.executionInProgress&&"Press Run To Execute"]})})})]})]})},e}(g.Component);ao.defaultProps={inEditor:!1,additionalContent:[],logWidgetInteraction:function(){return null},tab_index:null,renderExtractionWrapper:function(){return null},renderReplacementWrapper:function(){return null},editingApiKeys:!1,renderEnvsWrapper:function(){return null},bypassCheckCallback:function(){return null},bypassEnvCheck:!1,pendingRun:!1,pendingRunCallback:function(){return null},isProjectViewMode:!1,outputHeight:null};var ap=(0,m.withRouter)(an(ao))},913:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return F}});var d=c(20348),e=c(89703),f=c(80226),g=c.n(f),h={line:{type:"line",data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"My First dataset",backgroundColor:"rgb(255, 99, 132)",borderColor:"rgb(255, 99, 132)",data:[0,10,5,2,20,30,45]},]},options:{}},bar:{type:"bar",data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"Dataset 1",borderWidth:1,data:["1","2","3","4","5","6","7"]},{label:"Dataset 2",borderWidth:1,data:["1","2","3","4","5","6","7"]},]},options:{responsive:!0,legend:{position:"top"},title:{display:!0,text:"Chart.js Bar Chart"}}},column:{type:"bar",data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"Dataset 1",yAxisID:"y-axis-1",backgroundColor:"rgb(255, 99, 132)",borderColor:"rgb(255, 99, 132)",data:["1","2","3","4","5","6","7"]},{label:"Dataset 2",yAxisID:"y-axis-2",data:["1","2","3","4","5","6","7"]},]},options:{responsive:!0,title:{display:!0,text:"Chart.js Bar Chart - Multi Axis"},tooltips:{mode:"index",intersect:!0},scales:{yAxes:[{type:"linear",display:!0,position:"left",id:"y-axis-1"},{type:"linear",display:!0,position:"right",id:"y-axis-2",gridLines:{drawOnChartArea:!1}},]}}},area:{type:"line",data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"My First dataset",backgroundColor:"rgba(255, 99, 132, 0.5)",borderColor:"rgb(255, 99, 132)",data:["1","32","-33","45","5","-6","7"]},{label:"My Second dataset",backgroundColor:"rgba(32, 99, 132, 0.5)",borderColor:"rgb(32, 99, 132)",data:["11","-2","23","4","-5","6","7"]},]},options:{responsive:!0,title:{display:!0,text:"Chart.js Line Chart - Stacked Area"},tooltips:{mode:"index"},hover:{mode:"index"},scales:{xAxes:[{scaleLabel:{display:!0,labelString:"Month"}},],yAxes:[{stacked:!0,scaleLabel:{display:!0,labelString:"Value"}},]}}},pie:{type:"pie",data:{datasets:[{data:["1","2","3","4","5"],backgroundColor:["red","orange","yellow","green","blue"],label:"Dataset 1"},],labels:["Red","Orange","Yellow","Green","Blue"]},options:{responsive:!0}},scatter3d:{data:[{x:[10,2,3,4,5,6],y:[2,6,3,9,3,2],z:[7,8,9,8,2,5],mode:"markers",marker:{color:"green",size:12,symbol:"circle",line:{color:"rgb(204, 204, 204)",width:1},opacity:.9},type:"scatter3d"},],layout:{dragmode:!0,margin:{l:0,r:0,b:0,t:0},autosize:!0},frames:[],config:{responsive:!0}}},i=function(a){return JSON.stringify(h[a],void 0,2)},j={config:i("line"),type:"line"},k=j,l=c(58347);function m(a){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function n(a,b){return(n=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var o=g()(function(){return Promise.all([c.e(1297),c.e(48801)]).then(c.bind(c,48801))},{loadableGenerated:{webpack:function(){return[48801]}},loading:function(){return(0,d.jsx)("div",{children:"Loading..."})},ssr:!1}),p=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&n(a,b)}(f,a);var b,c,e=(b=f,c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,d,e,f,g=m(b);if(c){var h=m(this).constructor;f=Reflect.construct(g,arguments,h)}else f=g.apply(this,arguments);return d=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(d)});function f(){return!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,f),e.apply(this,arguments)}return f.prototype.render=function(){var a=this;if(!this.props.config)return(0,d.jsx)("div",{children:"Invalid config!"});var b=this.props.config,c=b.data,e=b.layout,f=b.frames,g=b.config;return(0,d.jsx)(o,{data:c,layout:e,frames:f,config:g,onInitialized:function(b){return a.setState(b)},style:{height:"450px"},onUpdate:function(b){return a.setState(b)}})},f}(e.Component);function q(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function r(a){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function s(a,b){return(s=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}p.defaultProps={farmes:[],config:{}};var t=g()(function(){return Promise.all([c.e(20521),c.e(4237),c.e(79479)]).then(c.bind(c,79479))},{loadableGenerated:{webpack:function(){return[79479]}},loading:function(){return(0,d.jsx)("div",{children:"Loading..."})}}),u=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&s(a,b)}(f,a);var b,c,e=(b=f,c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,d,e,f,g=r(b);if(c){var h=r(this).constructor;f=Reflect.construct(g,arguments,h)}else f=g.apply(this,arguments);return d=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(d)});function f(){var a;return!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,f),a=e.apply(this,arguments),a.state={activeCodeContent:{content:a.props.config?JSON.stringify(a.props.config,null,2):i(a.props.chartType),language:"javascript",theme:"default",lineNumbers:!1},chartType:a.props.chartType,cursorPosition:void 0},a.handleConfigChanges=function(b,c){if(b!==a.state.activeCodeContent.content){var d,e,f=(d=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){q(a,b,c[b])})}return a}({},a.state.activeCodeContent),e=(e={content:b},e),Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(e)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(e)).forEach(function(a){Object.defineProperty(d,a,Object.getOwnPropertyDescriptor(e,a))}),d);a.setState({activeCodeContent:f,cursorPosition:c},function(){a.props.updateConfigCallback(b)})}},a}return f.prototype.render=function(){var a="Enter config for ChartJS.\nFor examples, look at\nhttps://www.chartjs.org/samples/latest/",b=(0,d.jsx)(t,{config:this.props.config});return"scatter3d"===this.props.chartType&&(a="Enter config for Plotly.\nFor examples, look at\nhttps://plot.ly/javascript/",b=(0,d.jsx)(p,{config:this.props.config})),(0,d.jsxs)("div",{className:"flex justify-center",style:{width:"85%"},children:[(0,d.jsx)("div",{className:"mr-2.5 flex flex-1 overflow-y-auto",style:{maxHeight:"60vh"},children:(0,d.jsx)("div",{className:"w-full",children:(0,d.jsx)(l.R,{inView:this.props.inView,codeContent:this.state.activeCodeContent,readOnly:!1,placeholder:a,onEditorChange:this.handleConfigChanges,cursorPosition:this.state.cursorPosition,isNotCodeEditor:!0},"editorConfig_1")})}),(0,d.jsx)("div",{className:"flex flex-1 overflow-y-auto",children:b})]})},f.getDerivedStateFromProps=function(a,b){return a.config?{chartType:a.chartType,activeCodeContent:{content:JSON.stringify(a.config,null,2),language:"javascript",theme:"default",lineNumbers:!1}}:b},f}(e.Component),v=g()(function(){return Promise.all([c.e(20521),c.e(4237),c.e(79479)]).then(c.bind(c,79479))},{loadableGenerated:{webpack:function(){return[79479]}},loading:function(){return(0,d.jsx)("div",{children:"Loading..."})}}),w=function(a){var b=a.parsedConfig;return"scatter3d"===a.chartType?(0,d.jsx)(p,{config:b}):(0,d.jsx)(v,{config:b})};function x(a){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function y(a,b){return(y=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var z=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&y(a,b)}(f,a);var b,c,e=(b=f,c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,d,e,f,g=x(b);if(c){var h=x(this).constructor;f=Reflect.construct(g,arguments,h)}else f=g.apply(this,arguments);return d=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(d)});function f(){var a;return!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,f),a=e.apply(this,arguments),a.getParsedConfig=function(a){try{return JSON.parse(a)}catch(b){console.log("invalid config for chart")}return null},a}return f.prototype.render=function(){var a=this.props,b=a.config,c=a.chartType,e=a.mode,f=a.updateConfigCallback;return"edit"===e?(0,d.jsx)(u,{inView:this.props.inView,config:this.getParsedConfig(b),chartType:c,updateConfigCallback:f}):(0,d.jsx)("div",{className:"my-7 w-full",children:(0,d.jsx)(w,{parsedConfig:this.getParsedConfig(b),chartType:c})})},f}(e.Component),A=c(67255),B=c(89763);function C(a){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function D(a,b){return(D=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var E=g()(function(){return c.e(14377).then(c.bind(c,14377))},{loadableGenerated:{webpack:function(){return[14377]}},loading:function(){return(0,d.jsx)("div",{children:"Loading..."})}}),F=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&D(a,b)}(f,a);var b,c,e=(b=f,c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,d,e,f,g=C(b);if(c){var h=C(this).constructor;f=Reflect.construct(g,arguments,h)}else f=g.apply(this,arguments);return d=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(d)});function f(){var a;return!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,f),a=e.apply(this,arguments),a.updateConfigCallback=function(b){b&&a.props.updateContentState({config:b})},a.updateChartTypeCallback=function(b){var c=i(b);(0,B.qP)(B.f2.CHART_WIDGET,B.bt.CHART_TYPE,"".concat(a.props.userType,"_").concat(b)),a.props.updateContentState({config:c,type:b})},a.handleCaptionChange=function(b){a.props.updateContentState({caption:b})},a}var g=f.prototype;return g.saveComponent=function(){var a=this.props.content,b=a.config,c=a.type;this.props.updateContentState({config:b,type:c})},g.render=function(){var a=this.props.content,b=a.config,c=a.type,e=a.caption,f="edit"!==this.props.mode;return(0,d.jsx)("div",{className:"flex w-full justify-center rounded dark:bg-white ".concat(this.props.showBorder?"border border-solid border-gray-300 dark:border-dark-70":""),children:(0,d.jsxs)("div",{className:"flex w-full flex-col justify-center",children:[(0,d.jsxs)("div",{className:"flex w-full justify-center",children:["edit"===this.props.mode&&(0,d.jsx)(E,{updateChartTypeCallback:this.updateChartTypeCallback,chartType:c}),(0,d.jsx)(z,{inView:this.props.inView,config:b,chartType:c,mode:this.props.mode,updateConfigCallback:this.updateConfigCallback})]}),(0,d.jsx)(A.Z,{caption:e,readOnly:f,onCaptionChange:this.handleCaptionChange,hookOnChangeEvent:!0,syncCaptionWithProp:!0})]})})},f.getComponentDefault=function(){return k},f}(e.Component);F.defaultProps={showBorder:!0}},56277:function(a,b,c){"use strict";c.d(b,{Xy:function(){return w},nR:function(){return A},"o$":function(){return z},t:function(){return B}});var d,e=c(20348),f=c(5343),g=c(60738),h=c(96245),i=c(87448),j=c(77641),k=c(42621),l=c(10761),m=c(2321),n=c(28961),o=c(80569);function p(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var q="border border-solid border-gray-300",r="".concat(q," font-mono bg-gray-100 p-2.5 overflow-y-scroll dark:bg-dark-90"),s="".concat(r," border border-solid border-error dark:bg-dark-90"),t="".concat(q," dark:border-gray-A100"),u="".concat(t," dark:bg-dark-70"),v=function(a){var b=a.time;return b?(0,e.jsx)("p",{className:"m-4 text-right text-gray-600",children:b}):null},w=function(a){var b=a.stdout,c=a.stderr;return(0,e.jsxs)(e.Fragment,{children:[b&&(0,e.jsx)("div",{className:r,children:(0,e.jsx)("p",{children:b})}),c&&(0,e.jsx)("div",{className:s,children:(0,e.jsx)("p",{children:c})})]})},x=function(a){var b=a.executionResult;if(!b)return null;if(b.loading)return(0,e.jsx)(j.Z,{className:"mt-8",statusData:{status:"WAIT",text:"Executing your code"},isExecution:!0});var c=b.test_results,d=b.execution_result.time,f=c.map(function(a){return(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{className:t,children:a.succeeded?(0,e.jsx)(o.UP,{}):(0,e.jsx)(n.Z,{width:"20",height:"20",className:"text-error dark:text-error-light",style:{marginRight:"5px",marginBottom:"3px"}})}),(0,e.jsx)("td",{className:t,children:a.actual_output})]})});return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(v,{time:d}),(0,e.jsxs)(l.Z,{responsive:!0,bordered:!0,children:[(0,e.jsx)("thead",{className:t,children:(0,e.jsxs)("tr",{className:t,children:[(0,e.jsx)("th",{className:u,children:"Result"}),(0,e.jsx)("th",{className:u,children:"Output"})]})}),(0,e.jsx)("tbody",{children:f})]})]})},y=function(a){var b=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){p(a,b,c[b])})}return a}({execution_result:{}},a.executionResult).execution_result,c=b.stderr,d=b.stdout,f=b.time;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"flex items-baseline",children:[(0,e.jsx)("div",{className:"flex flex-grow justify-center",children:(0,e.jsx)("p",{className:"mt-2 bg-gray-100 p-2 text-center text-sm dark:bg-dark-90",children:"Output"})}),(0,e.jsx)("div",{className:"flex justify-end",children:(0,e.jsx)(v,{time:f})})]}),(0,e.jsx)("div",{className:"mx-6",children:(0,e.jsx)(w,{stdout:d,stderr:c})})]})},z=function(a){var b=a.onRemoveTab,c=a.onTabSelect,d=a.name,g=a.index,h=a.icon,i=a.cb;return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(k.default,{ariaIndex:g,onClick:function(){return c(g)},className:"flex h-12 cursor-pointer justify-between p-3 hover:bg-gray-200 dark:bg-dark-90","data-testid":"tab-".concat(d),label:(0,e.jsxs)("div",{className:"mr-2 flex flex-grow items-center justify-start truncate",children:[(0,e.jsx)("span",{className:"flex flex-col items-center justify-center pr-2",children:(0,e.jsx)(h,{className:"h-4 w-4 fill-current text-gray-900 dark:text-dark-contrastText ".concat("Console"===d?"stroke-current":"")})}),(0,e.jsx)("span",{className:"overflow-hidden text-ellipsis text-sm",children:d})]}),isIconRight:!0,icon:(0,e.jsx)("div",{className:"flex flex-col items-center justify-center","data-testid":"close-".concat(d),onClick:function(a){a.stopPropagation(),a.preventDefault(),b(g),i()},children:(0,e.jsx)(f.Z,{className:"h-4 w-4 fill-current text-gray-900 dark:text-gray-500"})})})})},A=function(a){var b=function(b,c){b.preventDefault(),b.stopPropagation(),a.onViewChange(c)},c=a.currentView,d=a.onConsoleClick,f=a.showConsole,i=function(a){return"px-3 py-1.5 ".concat(c===a?"contained-primary":"icon-default")},j=function(a){return"w-6 h-6 fill-current".concat(c===a?" text-white":"")};return(0,e.jsxs)("div",{className:"mx-3 my-1.5 ml-auto flex",children:[(0,e.jsx)("button",{className:"outlined-default mx-2 px-3 py-1.5",onClick:d,children:"".concat(f?"Hide":"Show"," Console")}),(0,e.jsxs)("div",{className:"flex border border-solid border-gray-300 dark:border-dark-70",children:[(0,e.jsx)("button",{className:i(m.UZ.STACK),onClick:function(a){return b(a,m.UZ.STACK)},"data-testid":"stack-button",children:(0,e.jsx)(g.Z,{className:j(m.UZ.STACK)})}),(0,e.jsx)("button",{className:i(m.UZ.TABS),onClick:function(a){return b(a,m.UZ.TABS)},children:(0,e.jsx)(h.Z,{className:j(m.UZ.TABS)})})]})]})},B=(p(d={},m.yz.HINTS,i.Z),p(d,m.yz.RESULTS,x),p(d,m.yz.CONSOLE,y),d)},89098:function(a,b,c){"use strict";var d=c(20348),e=c(98252),f=c(30833),g=function(a){var b=a.selected,c=a.onTabSelect,g=a.fileName,h=a.index,i=a.isCodeTest;return(0,d.jsx)(e.default,{onClick:function(){return c(h)},overlay:g,parentClasses:"border-0 border-solid cursor-pointer duration-200 block items-center justify-start text-ellipsis overflow-hidden p-2.5 whitespace-nowrap ".concat(void 0!==i&&i?b?"text-primary bg-[#F1F1FF] mx-2 hover:bg-primary-lightP2 dark:text-[#CCCBFF] dark:bg-[#313139] dark:hover:bg-[#313139]":"text-black bg-white mx-2 hover:bg-primary-lightP2 dark:text-gray-400 dark:bg-[#15151F] dark:hover:bg-[#313139]":b?"bg-primary-lightP2 border-l-4 border-primary dark:bg-dark-80 dark:border-primary-light dark:hover:bg-dark-80 dark:hover:border-primary-light dark:hover:text-primary-light dark:text-primary-light hover:bg-primary-lightP2 hover:border-primary hover:text-primary text-primary":" border-gray-600 dark:hover:bg-dark-90 dark:text-dark-contrastText hover:bg-gray-200 hover:border-l-4 hover:text-gray-600 text-black","\n    "),position:f.YS6,children:g})};b.Z=g},20013:function(a,b,c){"use strict";c.d(b,{Z:function(){return J}});var d=c(20348),e=c(89703),f=c(783),g=c(24537),h=c(58347),i=c(80003),j=c(786),k=c.n(j),l=c(62200),m=c(87954),n=c(89763);function o(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function p(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function q(a){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function r(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){p(a,b,c[b])})}return a}function s(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}function t(a,b){return(t=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function u(a){return function(a){if(Array.isArray(a))return o(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||v(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(a,b){if(a){if("string"==typeof a)return o(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return o(a,b)}}var w=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&t(a,b)}(j,a);var b,c,e=(b=j,c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,d,e,f,g=q(b);if(c){var h=q(this).constructor;f=Reflect.construct(g,arguments,h)}else f=g.apply(this,arguments);return d=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(d)});function j(){var a;return!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,j),a=e.apply(this,arguments),a.state={draggingIndex:null},a.onAddCodeFile=function(b){var c=s(r({},b),{fileName:b.fileName.replace(/\s+/g,"")});if(a.isValidFilename(c.fileName)){var d=k()(a.props.codeContent.additionalContent,{$unshift:[c]});a.props.handleMultiChange({selectedIndex:1,additionalContent:d,onlyCodeChanged:!1,readOnlyApiKeys:!1}),"Code"===a.props.widgetType&&(0,n.qP)(n.f2.CODE_WIDGET,n.bt.CODE_FILE,"".concat(a.props.userType,"_Add"))}},a.onRemoveTab=function(b){var c={additionalContent:k()(a.props.codeContent.additionalContent,{$splice:[[b,1]]})},d=a.props.codeContent;(null==d?void 0:d.defaultSelectedFile)&&(null==d?void 0:d.defaultSelectedFile)===d.additionalContent[b].fileName&&(c=s(r({},c),{defaultSelectedFile:""})),a.props.handleMultiChange(s(r({},c),{selectedIndex:0,onlyCodeChanged:!1})),"Code"===a.props.widgetType&&(0,n.qP)(n.f2.CODE_WIDGET,n.bt.CODE_FILE,"".concat(a.props.userType,"_Remove"))},a.onFilenameChange=function(b,c){if(b=b.replace(/\s+/g,""),a.isValidFilename(b)){var d,e=a.props.codeContent,f={additionalContent:k()(e.additionalContent,p({},c,{fileName:{$set:b}}))},g=null===(d=e.additionalContent)|| void 0===d?void 0:d.map(function(a){return a.fileName});(null==e?void 0:e.defaultSelectedFile)&&(null==e?void 0:e.defaultSelectedFile)===g[e.selectedIndex-1]&&(f=s(r({},f),{defaultSelectedFile:b})),a.props.handleMultiChange(f)}},a.onDefaultFileNameChange=function(b){if(b=b.replace(/\s+/g,""),a.isValidFilename(b)){var c=a.props.codeContent,d={entryFileName:b};(null==c?void 0:c.defaultSelectedFile)&&(null==c?void 0:c.defaultSelectedFile)===c.entryFileName&&(d=s(r({},d),{defaultSelectedFile:b})),a.props.handleMultiChange(d)}},a.onUpdateTabsOrder=function(b,c){var d,e=u(a.props.codeContent.additionalContent);(d=e).splice.apply(d,[c,0].concat(u(e.splice(b,1)))),a.props.handleMultiChange({additionalContent:e,onlyCodeChanged:!1})},a.onDefaultTabSelect=function(b){a.props.onSelectedIndexChange(b)},a.onTabSelect=function(b){b<a.props.codeContent.additionalContent.length&&a.props.onSelectedIndexChange(b+1)},a.getDefaultTab=function(){var b=a.props.codeContent,c=b.entryFileName,e=b.selectedIndex,f=b.dockerJob,h=b.staticEntryName;return(0,d.jsx)(g.Z,{defaultFile:!0,fileName:c,index:0,onFilenameChange:a.onDefaultFileNameChange,onTabSelect:a.onDefaultTabSelect,selected:0===e,staticFile:Object.keys(null!=f?f:{}).length>0||h})},a.getAdditionalTabs=function(){var b=a.props.codeContent,c=b.selectedIndex;return b.additionalContent.map(function(b,e){return(0,d.jsx)(g.Z,{fileName:b.fileName,index:e,onFilenameChange:a.onFilenameChange,onRemoveTab:a.onRemoveTab,onTabSelect:a.onTabSelect,selected:c===e+1,onItemDragged:a.onUpdateTabsOrder,draggable:!0},e)})},a}var o=j.prototype;return o.isValidFilename=function(a){if(!a||0===a.length)return!1;var b=this.props.codeContent;if(b.entryFileName===a)return!1;var c=!0,d=!1,e=void 0;try{for(var f,g=b.additionalContent[Symbol.iterator]();!(c=(f=g.next()).done);c=!0)if(f.value.fileName===a)return!1}catch(h){d=!0,e=h}finally{try{c||null==g.return||g.return()}finally{if(d)throw e}}return!0},o.render=function(){var a=this.props.codeContent,b=a.selectedIndex,c=a.content,e=a.additionalContent,g=c,j=this.props.codeContent;b>0&&b<=e.length&&(g=e[b-1].content,j=s(r({},j),{content:g,highlightedLines:e[b-1].highlightedLines}));var k=this.getDefaultTab(),n=this.getAdditionalTabs();return(0,d.jsxs)("div",{className:"flex w-full pb-3.5",children:[!j.isCodeDrawing&&(0,d.jsxs)("div",{className:"border-0 border-t border-solid border-gray-300 px-2.5 py-0 dark:border-dark-80 ".concat(this.props.isShot?"table-cell":"flex flex-col","\n            "),style:this.props.isShot?{width:"150px"}:{minWidth:"150px"},children:[(0,d.jsx)("div",{children:(0,d.jsx)(i.Z,{onAddCodeFile:this.onAddCodeFile})}),(0,d.jsx)("div",{style:{display:"block",overflowY:"auto",minHeight:200,maxHeight:600,whiteSpace:"nowrap"},children:(0,d.jsxs)(l.W,s(r({backend:m.PD},{context:window}),{children:[k,n]}))})]}),(0,d.jsx)("div",{style:{width:"100%",minWidth:0},children:(0,d.jsx)(h.Z,{codeMirrorStyle:"cmcomp-editor-container border-none rounded-0",inView:this.props.inView,codeContent:j,readOnly:!1,resizable:!1,tabsAsSpaces:!0,onlyCodeChanged:this.props.onlyCodeChanged,onEditorChange:this.props.onEditorChange,isEditorMode:!j.isCodeDrawing,updateOnChange:!0},(0,f._e)(j))})]})},j}(e.Component);w.defaultProps={codeContent:{},handleMultiChange:function(){},onSelectedIndexChange:function(){},onlyCodeChanged:function(){},onEditorChange:function(){}};var x=c(80569),y=c(31659),z=c(89098);function A(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function B(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function C(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){B(a,b,c[b])})}return a}function D(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var E=function(a){var b,c=a.codeContent,e=a.getSelectedFilename,f=a.isAnyOneTabRunnable,g=(a.isCodeTabs,a.isDraft,a.onEditorChange),i=a.onlyCodeChanged,j=a.onSelectedIndexChange,k=a.readOnly,l=a.inView,m=a.forcedHeight,n=void 0===m?null:m,o=a.isProjectViewer,p=void 0!==o&&o,q=a.isFileTreeOpen,r=void 0===q||q,s=a.resizable,t=void 0===s||s,u=c.selectedIndex,v=c.content,w=c.additionalContent,E=c.allowDownload,F=c.entryFileName,G=v,H=c;u>0&&u<=w.length&&(G=w[u-1].content,H=D(C({},H),{content:G,highlightedLines:w[u-1].highlightedLines}));var I=[(0,d.jsx)(z.Z,{fileName:F,index:0,selected:0===u,onTabSelect:j},"defaultTab"),].concat(function(a){if(Array.isArray(a))return A(a)}(b=w.map(function(a,b){return(0,d.jsx)(z.Z,{fileName:a.fileName,index:b+1,selected:u===b+1,onTabSelect:j},b)}))||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(b)||function a(b,c){if(b){if("string"==typeof b)return A(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(d);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return A(b,c)}}(b)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),J=B({},F,v);return J=w.reduce(function(a,b){var c=b.fileName,d=b.content;return D(C({},a),B({},c,d))},J),(0,d.jsxs)(x.es,{style:p?{}:{overflowY:"auto"},children:[(0,d.jsx)("div",{className:"".concat(p?r?"w-24 overflow-x-scroll transition-all duration-500":"w-0 transition-all duration-500":""),children:(0,d.jsx)(x.cA,{style:p?{width:"100px",height:"100%"}:{width:"230px"},children:(0,d.jsx)("div",{className:"flex flex-1 flex-col overflow-y-auto",style:{maxHeight:"".concat(p?"unset":"600px")},children:I})})}),(0,d.jsxs)("div",{className:"w-full flex-1 ".concat(p?"relative overflow-y-hidden":"cmcomp-single-editor-container mb-1 p-0.5"," border-none"),style:{maxHeight:"none"},children:[(0,d.jsx)(h.Z,{inView:l,codeContent:H,readOnly:k,tabsAsSpaces:!0,onlyCodeChanged:i,onEditorChange:g,isAnyOneTabRunnable:f,forcedHeight:n,resizable:t},e(H)),(0,d.jsx)(y.Z,{files:J,codeToCopy:G,allowDownload:E,isProjectViewer:p})]})]})};function F(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var G=function(a){var b=a.isAnyOneTabRunnable,c=a.onEditorChange,e=a.onlyCodeChanged,f=a.readOnly,g=a.codeContent,i=(a.getSelectedFilename,a.inView),j=a.forcedHeight,k=a.resizable,l=a.isProjectViewer,m=g.content,n=g.allowDownload,o=g.entryFileName,p=g.additionalContent,q=F({},o,m);return q=p.reduce(function(a,b){var c,d,e=b.fileName,f=b.content;return c=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){F(a,b,c[b])})}return a}({},a),d=null!=(d=F({},e,f))?d:{},Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(d)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(d)).forEach(function(a){Object.defineProperty(c,a,Object.getOwnPropertyDescriptor(d,a))}),c},q),(0,d.jsxs)("div",{className:"".concat(l?"relative":""),children:[(0,d.jsx)(h.Z,{inView:i,codeContent:g,readOnly:f,showRuler:!1,tabsAsSpaces:!0,onlyCodeChanged:e,onEditorChange:c,isAnyOneTabRunnable:b,forcedHeight:j,resizable:k},"viewEditor"),(0,d.jsx)(y.Z,{files:q,codeToCopy:m,allowDownload:n,isProjectViewer:l})]})};function H(a){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function I(a,b){return(I=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var J=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&I(a,b)}(f,a);var b,c,e=(b=f,c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,d,e,f,g=H(b);if(c){var h=H(this).constructor;f=Reflect.construct(g,arguments,h)}else f=g.apply(this,arguments);return d=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(d)});function f(){var a;return!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,f),a=e.apply(this,arguments),a.getSelectedFilename=function(a){var b,c=a.selectedIndex,d=a.additionalContent;return c>0&&c<=d.length?null==d?void 0:null===(b=d[c-1])|| void 0===b?void 0:b.fileName:null==a?void 0:a.entryFileName},a}return f.prototype.render=function(){var a=this.props,b=a.isAnyOneTabRunnable,c=a.isEditMode,e=this.props.codeContent.judge||this.props.codeContent.runnable;return c?(0,d.jsx)(w,{inView:this.props.inView,codeContent:this.props.codeContent,onlyCodeChanged:this.props.onlyCodeChanged,onEditorChange:this.props.onEditorChange,onSelectedIndexChange:this.props.onSelectedIndexChange,handleMultiChange:this.props.handleMultiChange,isAnyOneTabRunnable:b,isShot:this.props.isShot,getSelectedFilename:this.getSelectedFilename,isCodeDrawing:this.props.isCodeDrawing,widgetType:this.props.widgetType,userType:this.props.userType}):this.props.codeContent.additionalContent.length>0?(0,d.jsx)(E,{inView:this.props.inView,codeContent:this.props.codeContent,onlyCodeChanged:this.props.onlyCodeChanged,onEditorChange:this.props.onEditorChange,onSelectedIndexChange:this.props.onSelectedIndexChange,readOnly:this.props.readOnly&&this.props.isDraft&&this.props.inEditor||this.props.readOnly&&!e||this.props.isSelectedFileReadOnly,isDraft:this.props.isDraft,isCodeTabs:this.props.isCodeTabs,isAnyOneTabRunnable:b,getSelectedFilename:this.getSelectedFilename,forcedHeight:this.props.forcedHeight,isProjectViewer:this.props.isProjectViewer,isFileTreeOpen:this.props.isFileTreeOpen,resizable:!this.props.isProjectViewer}):(0,d.jsx)(G,{inView:this.props.inView,codeContent:this.props.codeContent,onlyCodeChanged:this.props.onlyCodeChanged,onEditorChange:this.props.onEditorChange,readOnly:this.props.readOnly&&this.props.isDraft&&this.props.inEditor||this.props.readOnly&&!e||this.props.isSelectedFileReadOnly,isAnyOneTabRunnable:b,getSelectedFilename:this.getSelectedFilename,forcedHeight:this.props.forcedHeight,resizable:!this.props.isProjectViewer,isProjectViewer:this.props.isProjectViewer})},f}(e.Component);J.defaultProps={isDraft:!1,isCodeTabs:!1,isAnyOneTabRunnable:!1,isSelectedFileReadOnly:!1,forcedHeight:null,isProjectViewer:!1,isFileTreeOpen:!0}},80003:function(a,b,c){"use strict";c.d(b,{Z:function(){return i}});var d=c(20348),e=c(89703),f=c(42448);function g(a){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function h(a,b){return(h=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var i=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&h(a,b)}(j,a);var b,c,i=(b=j,c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,d,e,f,h=g(b);if(c){var i=g(this).constructor;f=Reflect.construct(h,arguments,i)}else f=h.apply(this,arguments);return d=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(d)});function j(){var a;return!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,j),a=i.apply(this,arguments),a.state={mode:"view"},a.editorRef=e.createRef(),a.gotoEdit=function(){a.setState({mode:"edit"})},a.handleKeyUp=function(b){"Enter"===b.key?a.updateValue():"Escape"===b.key&&a.gotoView()},a.updateValue=function(){if(a.editorRef.current){var b=a.editorRef.current.value.trim();a.gotoView();var c={content:"",fileName:b,hidden:!1,highlightedLines:"",staticFile:!1};a.props.onAddCodeFile(c)}},a}var k=j.prototype;return k.componentDidUpdate=function(){"edit"===this.state.mode&&this.editorRef.current&&this.editorRef.current.select()},k.gotoView=function(){this.setState({mode:"view"})},k.render=function(){return"edit"===this.state.mode?(0,d.jsx)("div",{className:"cmcomp-edit-text w-full",children:(0,d.jsx)("input",{className:"h-9 w-full rounded border border-solid border-gray-300 p-1 outline-none dark:border-dark-80 dark:bg-dark",style:{maxWidth:"160px",margin:"5px 0px 5px 2px"},id:f.env.REACT_APP_STANDALONE?"selenium-AddFileNameInput":null,"data-testid":"AddFileNameInput",ref:this.editorRef,type:"text",maxLength:255,placeholder:"Add file name",defaultValue:"",onKeyUp:this.handleKeyUp,onBlur:this.updateValue})}):(0,d.jsx)("div",{className:"cmcomp-edit-text w-full",children:(0,d.jsx)("button",{className:"outlined-default my-2 w-full py-2",onClick:this.gotoEdit,children:"Add File"})})},j}(e.Component)},24537:function(a,b,c){"use strict";var d=c(20348);c(89703);var e=c(38670),f=c(38038),g=c(95896),h=c(15538),i=c(98252),j=c(81975),k=c(30833);function l(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function n(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(a,b)||o(a,b)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(a,b){if(a){if("string"==typeof a)return l(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return l(a,b)}}var p=function(a){var b,c,l=a.defaultFile,o=a.draggable,p=a.fileName,q=a.index,r=a.onFilenameChange,s=a.onRemoveTab,t=void 0===s?function(){}:s,u=a.onTabSelect,v=a.selected,w=a.staticFile,x=a.onItemDragged,y=function(a,b){if(null==a)return{};var c,d,e=function a(b,c){if(null==b)return{};var d,e,f={},g=Object.keys(b);for(e=0;e<g.length;e++)d=g[e],c.indexOf(d)>=0||(f[d]=b[d]);return f}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,["defaultFile","draggable","fileName","index","onFilenameChange","onRemoveTab","onTabSelect","selected","staticFile","onItemDragged"]),z=n((0,e.c)({item:{index:q},type:"CodeFileTab",options:{dropEffect:"move"},canDrag:function(){return o},collect:function(a){return{isDragging:a.isDragging()}}},[q,o]),3),A=z[0].isDragging,B=z[1],C=z[2],D=n((0,f.L)({accept:"CodeFileTab",drop:function(a,b){var c=a.index;x&&x(c,q)},canDrop:function(){return o}},[q,x,o]),2),E=D[1];return(0,d.jsx)(i.default,(b=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){m(a,b,c[b])})}return a}({onClick:function(){return u(q)},overlay:A?null:p,overlayParentStyles:{wordBreak:"break-all"},"data-testid":p,parentClasses:"no-scrollbar border-0 border-l-4 border-solid cursor-pointer duration-200 flex leading-7 m-0.5 overflow-x-scroll p-2.5 ".concat(v?"bg-primary-lightP2 border-primary dark:bg-dark-80 dark:hover:border-primary-light dark:hover:text-primary-light dark:text-primary-light hover:bg-primary-lightP2 hover:border-primary hover:text-primary text-primary dark:hover:bg-dark-80":"border-transparent dark:hover:bg-dark-90 hover:bg-gray-100 hover:border-gray-600","\n  "),position:k.YS6,setRef:function(a){o&&(B(a),C(a),E(a))}},y),c=(c={children:w?p:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g.Z,{content:p,maxLength:255,onValueChange:function(a){return r(a,q)}}),!l&&(0,d.jsx)(h.Z,{danger:!0,element:"button",handleConfirm:function(a){a.stopPropagation(),t(q)},parentClasses:"bg-transparent duration-200 float-right no-outline p-2 text-gray-500",popoverTitle:"Permanently delete this file?","aria-label":"remove-file",children:(0,d.jsx)(j.Z,{className:"h-4 w-4 fill-current"})})]})},c),Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(c)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(c)).forEach(function(a){Object.defineProperty(b,a,Object.getOwnPropertyDescriptor(c,a))}),b))};b.Z=p},22091:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return aE},defaultHiddenCode:function(){return aB}});var d=c(20348),e=c(35818),f=c(57964),g=c(31198),h=c(98252),i=c(74128),j=c(57227),k=c(6477),l=c(22008),m=c(81350),n=c(3710),o=c(57698),p=c(53738),q=c(84372),r=c(34546),s=c(30833),t=c(86181),u=c(2321),v=c(39439),w=c(41199),x=c(786),y=c.n(x),z=c(36529),A=c(80226),B=c.n(A),C=c(32210),D=c(89703),E=c(64889),F=c(10666),G=c(48806),H=c(28186),I=c(39773),J=c(67255),K=c(34561),L=c(14872),M=c(20013),N=c(72593),O=c(56277),P=c(66786),Q=c(52330);function R(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var S=B()(function(){return c.e(34119).then(c.bind(c,34119))},{loadableGenerated:{webpack:function(){return[34119]}},ssr:!1}),T=function(a,b){var c=document.createElement("div");return c.innerHTML='<div style="display: flex; height: 8px; align-items: center;">&#x22EF;</div>',c.className="gutter gutter-".concat(b," bg-gray-200 dark:bg-dark-80"),c},U=function(a){var b,c,e=a.onViewChange,f=a.currentView,g=a.tabs.openTabs,h=a.onConsoleClick,i=a.showConsole,j=a.onRemoveTab,k=a.toggleProjectHints,l=(b=g.length,Array(u.ee).fill(0).fill(Math.floor(100/b),0,b));return g.length?(0,d.jsx)(S,{sizes:l,direction:"vertical",expandToMin:!0,snapOffset:30,minSize:(c=l).map(function(a){return a?170:0}),className:"flex h-full w-full flex-col",cursor:"row-resize",gutterStyle:function(a,b,c){var d,e;return d=c,e=l,{cursor:"row-resize",display:e[d]?"flex":"none","align-items":"center","justify-content":"center","z-index":999}},gutter:T,children:l.map(function(b,c){if(!b)return(0,d.jsx)("div",{});var l=g[c],m=O.t[l];return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(P.default,{"aria-label":"stack-panel",value:c,indicatorColor:"bg-white",children:[(0,d.jsx)(O.o$,{name:l,icon:u.hi[l],index:c,onRemoveTab:j,cb:l===u.yz.HINTS?k:function(){}},"".concat(b,"-").concat(c)),!c&&(0,d.jsx)(O.nR,{onViewChange:e,currentView:f,onConsoleClick:h,showConsole:i})]}),(0,d.jsx)(Q.default,{p:0,value:c,index:c,children:(0,d.jsx)(m,function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){R(a,b,c[b])})}return a}({},a))})]})})}):(0,d.jsx)("div",{className:"flex flex-row-reverse bg-gray-100 dark:bg-dark-90",children:(0,d.jsx)(O.nR,{onViewChange:e,currentView:f,onConsoleClick:h,showConsole:i})})};function V(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var W=function(a){var b=a.showConsole,c=a.tabs,e=a.onViewChange,f=a.currentView,g=a.onTabSelect,h=a.onRemoveTab,i=a.onConsoleClick,j=a.toggleProjectHints,k=c.selectedIndex,l=c.openTabs;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"flex items-center bg-gray-100 dark:bg-dark-90",children:[(0,d.jsx)(P.default,{"data-testid":"tablist","aria-label":"tabs-panel",value:k,variant:"scrollable",indicatorColor:"bg-white",children:l.map(function(a,b){return(0,d.jsx)(O.o$,{name:a,icon:u.hi[a],index:b,onRemoveTab:h,onTabSelect:g,cb:a===u.yz.HINTS?j:function(){}},"".concat(a,"-").concat(b))})}),(0,d.jsx)(O.nR,{onViewChange:e,currentView:f,onConsoleClick:i,showConsole:b})]}),l.map(function(b,c){var e=O.t[b];return(0,d.jsx)(Q.default,{p:0,value:k,index:c,children:(0,d.jsx)(e,function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){V(a,b,c[b])})}return a}({},a))},b)})]})},X=c(41460),Y=c(54533),Z=c(20493),$=c(6188),_=c(1647),aa=c(1388);function ab(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function ac(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function ad(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){ac(a,b,c[b])})}return a}function ae(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}function af(a){return function(a){if(Array.isArray(a))return ab(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||ag(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ag(a,b){if(a){if("string"==typeof a)return ab(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return ab(a,b)}}var ah=function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{},b=(a.judgeHints,arguments.length>1&& void 0!==arguments[1]&&arguments[1]),c=[];return b?af(c):af(c).concat([u.yz.RESULTS])},ai=function(a){var b,c=a.executionConfig,d=c.additionalContent,e=c.stdin,f=c.language,g=c.dockerExecutionContext,h=c.entryFileName,i=c.timeLimit,j=c.comp_id,k=c.type,l=c.judgeContentPrepend,m=c.sourceCode,n=a.judgeContent,o=n.test_output_on_console,p=n.authorCode,q=a.isDraft,r=a.authorId,s=a.workId,t=a.pageType,v=a.pageId,w=a.projectId;if(Object.keys(null!=g?g:{}).length>0){var x=g.job,y=g.imageName,z=g.envs;b={container_image_name:y,envs:z,entry_filename:x.inputFileName,build_script:x.buildScript,run_script:x.runScript}}var A=l&&l.trim().length>0?"".concat(l.trim(),"\n"):"";return{stdin:e,work_id:s,page_id:v,language:f,work_type:t,author_id:r,time_limit:i,project_id:w,source_code:A+="".concat(m,"\n").concat(p),is_draft_page:q,entry_filename:h,comp_id:j||null,test_output_on_console:!!o,comp_type:k||u.Uv.CODE,additional_files:JSON.stringify(d),docker_container:b?JSON.stringify(b):void 0}},aj={ERROR:300},ak={loading:!1,loaded:!1},al={test_results:[],execution_result:{stderr:"Unable to Execute Code, Try Again"}},am=function(a){var b,c=(0,D.useState)(u.UZ.TABS),e=c[0],f=c[1],g=(0,D.useState)(null),h=g[0],i=g[1],k=(0,D.useState)(!1),l=k[0],m=k[1],n=(0,D.useContext)(Z.h).setResults,o=(0,$.ix)(function(a){return a.project}),p=(null===(b=o.data)|| void 0===b?void 0:b.sub_type)===_.w.UNGUIDED,q=(0,D.useState)({openTabs:ah(a,p),selectedIndex:0}),r=q[0],s=q[1],t=a.showHints,v={executionConfig:a.executionConfig,judgeContent:a.judgeContent,isDraft:a.isDraft,authorId:a.authorId,workId:a.workId,pageType:a.pageType,pageId:a.pageId,projectId:a.projectId},w=(0,D.useRef)({judgeProps:v,tabs:r,currentView:e,showConsole:l});(0,D.useEffect)(function(){w.current={judgeProps:v,tabs:r,currentView:e,showConsole:l}}),(0,D.useEffect)(function(){return j.ZP.add(z),function(){return j.ZP.remove(z)}},[]),(0,Y.rf)(function(){if(t)K(u.yz.HINTS);else{var a=E(u.yz.HINTS);-1!==a&&I(a)}},[t]),(0,D.useEffect)(function(){l&& -1===r.openTabs.indexOf(u.yz.CONSOLE)&&m(!1)},[r.openTabs]);var x=function(){p||F(u.yz.RESULTS),i(ae(ad({},ak),{loading:!0})),n({executing:!0}),j.ZP.dispatch(j.lx.JUDGE_LOADING)},z=function(a){a.detail.event===j.lx.TEST&&(x(),(0,X.eV)(ai(w.current.judgeProps)).then(JSON.parse).then(function(a){C(a),A(a)}).catch(B).finally(function(){return j.ZP.dispatch(j.lx.JUDGE_LOADED)}))},A=function(a){return j.ZP.dispatch(j.lx.COMPONENT_COMPLETED,{status:a.test_results[0].succeeded})},B=function(){F(u.yz.CONSOLE),i(al),n({error:"Unable to Execute Code, Try Again"})},C=function(a){if(i(ae(ad({},a,ak),{loaded:!0})),p){var b=a.test_results[0];n({testResults:0===a.execution_result.status?(0,aa.g)({passed_tests:b.succeeded_count,total_tests:b.total_count,failure_description:null}):null})}a.execution_result.status===aj.ERROR&&(F(u.yz.CONSOLE),w.current.showConsole||m(!w.current.showConsole))},E=function(a){return w.current.tabs.openTabs.findIndex(function(b){return b===a})},F=function(a){var b;return -1===E(a)?K(a):J(E(b=a))},G=function(a){a!==w.current.currentView&&(f(a),H())},H=function(){return s(y()(w.current.tabs,{selectedIndex:{$set:0}}))},I=function(a){return s(y()(w.current.tabs,{openTabs:{$splice:[[a,1]]}}))},J=function(a){return a!==w.current.tabs.selectedIndex&&s(y()(w.current.tabs,{selectedIndex:{$set:a}}))},K=function(a){return s(y()(w.current.tabs,{openTabs:{$push:[a]},selectedIndex:{$set:w.current.tabs.openTabs.length}}))},L=function(){l?I(E(u.yz.CONSOLE)):K(u.yz.CONSOLE),m(!w.current.showConsole)},M=ae(ad({},a),{executionResult:h,setShowConsole:m,onConsoleClick:L,onViewChange:G,currentView:e,showConsole:l,onTabSelect:J,onRemoveTab:I,tabs:r});return e===u.UZ.TABS?(0,d.jsx)(W,ad({},M)):(0,d.jsx)(U,ad({},M))},an=c(89763),ao=c(1766),ap=c(77663);function aq(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function ar(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function as(a){return(as=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function at(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){ar(a,b,c[b])})}return a}function au(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}function av(a,b){return(av=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function aw(a){return function(a){if(Array.isArray(a))return aq(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||ax(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ax(a,b){if(a){if("string"==typeof a)return aq(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return aq(a,b)}}var ay=function(a){var b,c,d,e,f=a.author,g=a.user;return{showStaleCodeWarning:(null===(b=f.collection.instance)|| void 0===b?void 0:null===(c=b.details)|| void 0===c?void 0:c.show_stale_code_warning)||!1,savingWidget:(0,ao.iU)(g),workType:null===(d=f.collection.instance)|| void 0===d?void 0:null===(e=d.details)|| void 0===e?void 0:e.work_type}},az=(0,E.$j)(ay,function(a){return{dispatch:a}}),aA=B()(function(){return c.e(34119).then(c.bind(c,34119))},{loadableGenerated:{webpack:function(){return[34119]}},ssr:!1}),aB={prependCode:"\n\n",appendCode:"\n\n",codeSelection:"prependCode"},aC=function(a){var b,c,d,e=arguments.length>1&& void 0!==arguments[1]?arguments[1]:null,f=arguments.length>2&& void 0!==arguments[2]?arguments[2]:{},g=null==f?void 0:null===(b=f.data)|| void 0===b?void 0:b.languages;return au(at({title:a.title,content:a.content||(null==g?void 0:null===(c=g[a.language])|| void 0===c?void 0:c.hello_world),entryFileName:a.entryFileName||(null==g?void 0:null===(d=g[a.language])|| void 0===d?void 0:d.entry_filename),defaultSelectedFile:a.defaultSelectedFile,additionalContent:a.additionalContent||[],selectedIndex:a.selectedIndex||0,caption:a.caption,language:a.language,evaluateLanguage:a.evaluateLanguage,theme:a.theme,runnable:a.runnable||!1,timeLimit:a.timeLimit||s.M9F,judge:a.judge||!1,judgeContent:a.judgeContent,judgeHints:a.judgeHints||null,judgeContentPrepend:a.judgeContentPrepend||"\n\n\n",allowDownload:a.allowDownload||!1,treatOutputAsHTML:a.treatOutputAsHTML||!1,readOnlyApiKeys:a.readOnlyApiKeys||!1,transformOutput:a.transformOutput||!1,enableHiddenCode:a.enableHiddenCode||!1,enableStdin:a.enableStdin||!1,evaluateWithoutExecution:a.evaluateWithoutExecution||!1,showSolution:a.showSolution||!1,solutionContent:a.solutionContent||"\n\n\n",hiddenCodeContent:a.hiddenCodeContent||aB,highlightedLines:a.highlightedLines,version:a.version,dockerJob:a.dockerJob||{},specialInput:a.specialInput||t.Zs,outputTransformCode:a.outputTransformCode||r.v,selectedApiKeys:a.selectedApiKeys||{},selectedEnvVars:a.selectedEnvVars||{},isCodeDrawing:a.isCodeDrawing||!1,imageId:a.ImageId||"",isAssessment:a.isAssessment,isProject:a.isProject,assessmentId:a.assessmentId},e),{outputImageHeight:a.outputImageHeight||s.f55,outputHeightLines:a.outputHeightLines||s._7V,comp_id:a.comp_id})},aD=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&av(a,b)}(x,a);var b,c,r=(b=x,c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,d,e,f,g=as(b);if(c){var h=as(this).constructor;f=Reflect.construct(g,arguments,h)}else f=g.apply(this,arguments);return d=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(d)});function x(a,b){!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,x),(c=r.call(this,a,b)).migrated=!1,c.componentWillUnmount=function(){var a=c.props,b=a.content.isProject,d=a.mode;b&&"view"===d&&j.ZP.remove(c.bindProjectListener)},c.bindProjectListener=function(a){a.detail.event===j.lx.SAVE&&c.onProjectSave()},c.updateContentState=function(a){var b=arguments.length>1&& void 0!==arguments[1]&&arguments[1];c.setState({onlyCodeChanged:b},function(){return c.props.updateContentState(a)})},c.updateSpecialInputData=function(a){var b=a.specialInputData;c.setState({specialInputData:b})},c.handleAllowDownloadChange=function(a){c.updateContentState({allowDownload:a})},c.handleCaptionChange=function(a){c.props.updateContentState({caption:a})},c.handleEditorChange=function(a,b){var d=arguments.length>2&& void 0!==arguments[2]?arguments[2]:function(){},e=c.state,f=e.selectedIndex,g=e.additionalContent;if(0===f|| void 0===f){var h=(0,k.G$)(a);if("edit"===c.props.mode){var i=c.state.dirty||c.props.content.content!==a;c.setState(au(at({onlyCodeChanged:!0,dirty:i},b),{entryFileLimit:h}),d),c.props.updateContentState({content:a})}else{var j=c.state.dirty||c.state.content!==a;c.setState(at({content:a,onlyCodeChanged:!0,dirty:j,entryFileLimit:h},b),d)}}else if(g.length>0){var l=c.state.dirty||g[f-1].content!==a,m=y()(g,ar({},f-1,{content:{$set:a}})),n=(0,k.$O)(m);"edit"===c.props.mode?(c.setState(au(at({onlyCodeChanged:!0,dirty:l},b),{additionalFilesLimit:n}),d),c.props.updateContentState({additionalContent:m})):c.setState(au(at({additionalContent:m,onlyCodeChanged:!0,dirty:l},b),{additionalFilesLimit:n}),d)}},c.handleSimpleEditorChange=function(a){c.handleEditorChange(a,{})},c.handleSelectedIndexChange=function(a){var b=c.props.content;b.isAssessment?c.updateContentState({selectedIndex:a}):b.isProject?c.updateContentState(au(at({},b),{selectedIndex:a})):c.updateContentState({selectedIndex:a});var d=c.getAllFiles(b);c.setState({selectedFileName:d[a],selectedIndex:a,onlyCodeChanged:!1})},c.handleJudgeChange=function(a){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{};c.updateContentState(au(at({},b),{judge:a,enableHiddenCode:!1,evaluateWithoutExecution:!1,evaluateLanguage:null}))},c.handleJudgeContentChange=function(a,b,d){var e=!1;c.props.content.judgeContent&&a.edCode===c.props.content.judgeContent.edCode&&a.version===c.props.content.judgeContent.version&&!b&&(e=!0);var f=d||c.props.content.content;c.updateContentState({judgeContent:a,content:f},e)},c.handleJudgeHintsChange=function(a){var b=arguments.length>1&& void 0!==arguments[1]&&arguments[1];c.updateContentState({judgeHints:a},b)},c.handleJudgeContentPrependChange=function(a){c.updateContentState({judgeContentPrepend:a},!0)},c.handleHiddenCodeContentChange=function(a,b){c.updateContentState({hiddenCodeContent:a},!b)},c.handleShowSolutionChange=function(a){c.updateContentState({showSolution:a})},c.handleSolutionContentChange=function(a){c.updateContentState({solutionContent:a},!0)},c.handleDefaultFileSelect=function(a){var b=a?c.state.selectedFileName:"";c.props.updateContentState({defaultSelectedFile:b})},c.handleLanguageSelect=function(a){var b,d,e,f,g=null===(b=c.props.executionMetadata)|| void 0===b?void 0:null===(d=b.data)|| void 0===d?void 0:d.languages,h=null==g?void 0:null===(e=g[a])|| void 0===e?void 0:e.static_entry_name,i=null==g?void 0:null===(f=g[a])|| void 0===f?void 0:f.entry_filename,j=c.props.content.defaultSelectedFile,k=-1!==c.props.content.additionalContent.findIndex(function(a){return a.fileName===j}),l=-1!==c.props.content.additionalContent.findIndex(function(a){return a.fileName===c.state.selectedFileName});c.updateContentState({entryFileName:i,staticEntryName:h,language:a,evaluateLanguage:c.props.content.evaluateWithoutExecution?c.props.content.evaluateLanguage:a,defaultSelectedFile:""===j?"":k?j:i}),""===j||l||c.setState({selectedFileName:i})},c.handleSpecialInputSelect=function(a){c.updateContentState(function(b){return au(at({},b),{specialInput:a,enableStdin:b.specialInput!==t.O2&&b.enableStdin})})},c.handleApiKeySelection=function(a){c.updateContentState({selectedApiKeys:a})},c.handleEnvVarSelection=function(a){c.updateContentState({selectedEnvVars:a})},c.handleMultiChange=function(a){var b,d,e,f,g,h,i,j,k=null===(b=a.additionalContent)|| void 0===b?void 0:b.map(function(a){return a.fileName}),l=c.props.executionMetadata,m=null==l?void 0:null===(d=l.data)|| void 0===d?void 0:d.languages,n=null!==(h=null!==(g=null==a?void 0:a.entryFileName)&& void 0!==g?g:null===(e=c.props.content)|| void 0===e?void 0:e.entryFileName)&& void 0!==h?h:null==m?void 0:null===(f=m[c.props.content.language])|| void 0===f?void 0:f.entry_filename,o=null!==(i=a.selectedIndex)&& void 0!==i?i:c.state.selectedIndex;c.setState({selectedFileName:null!==(j=null==k?void 0:k[o-1])&& void 0!==j?j:n}),c.updateContentState(a)},c.handleRunnableChange=function(a){c.updateContentState({runnable:a})},c.handleThemeSelect=function(a){c.updateContentState({theme:a})},c.handleTreatOutputAsHTMLChange=function(a){c.updateContentState({treatOutputAsHTML:a})},c.handleTransformOutputChange=function(a){c.updateContentState({transformOutput:a})},c.handleEnableHiddenCodeChange=function(a){c.updateContentState({enableHiddenCode:a})},c.handleEnableReadOnlyApiKeys=function(a){c.updateContentState({readOnlyApiKeys:a})},c.handleEnableStdinChange=function(a){c.updateContentState(function(a){a.enableStdin=!a.enableStdin,a.specialInput=a.enableStdin&&a.specialInput===t.O2?t.Zs:a.specialInput})},c.handleEvaluateWithoutExecutionChange=function(a){c.props.updateContentState({evaluateWithoutExecution:a})},c.handleEvaluateLanguageChange=function(a){c.updateContentState({evaluateLanguage:a})},c.handleHighlightedLinesChange=function(a){var b=c.props.content.additionalContent,d=void 0===b?[]:b,e=c.state.selectedIndex;c.updateContentState(function(b){0===e|| void 0===e?b.highlightedLines=a:d.length>0&&(b.additionalContent[e-1].highlightedLines=a)})},c.changeFileReadonlyStatus=function(a){var b=c.props.content.additionalContent,d=void 0===b?[]:b,e=c.state.selectedIndex;c.updateContentState(function(b){e?d.length>0&&(b.additionalContent[e-1].readOnly=a):b.readOnly=a,!a&&b.readOnlyApiKeys&&(b.readOnlyApiKeys=!1)})},c.getSelectedFileProperty=function(a){var b,d=c.state.selectedIndex,e=c.props.content.additionalContent;return d?null===(b=(void 0===e?[]:e)[d-1])|| void 0===b?void 0:b[a]:c.props.content[a]},c.handleTimeLimitChange=function(a){c.updateContentState({timeLimit:a})},c.handleOutputImageHeightChange=function(a){c.updateContentState({outputImageHeight:a})},c.getHighlightedLines=function(){var a=c.props.content,b=a.additionalContent,d=void 0===b?[]:b,e=a.highlightedLines,f=c.state.selectedIndex;return 0===f|| void 0===f?e:d.length>0&&d[f-1]?d[f-1].highlightedLines:[]},c.handleSaveUserData=function(a){var b=a.reset,d=void 0!==b&&b;if(d||!c.props.userId||c.state.dirty){var e=c.props.content.comp_id,f=d?null:c.getContentState(!0);c.props.saveWidgetUserData(f,{compId:e,reset:d})}},c.onProjectSave=function(){c.props.isEditorPage||c.handleSaveUserData({reset:!1})},c.handleResetUserData=function(){c.props.userId&&c.state.hasSnapshot&&c.handleSaveUserData({reset:!0});var a=c.props.content.defaultSelectedFile;!c.props.content.defaultSelectedFile&&c.props.content.selectedIndex>0&&(a=c.getAllFiles(c.props.content)[c.props.content.selectedIndex]),c.setState({onlyCodeChanged:!1,dirty:!1,selectedFileName:a}),c.setState(at({},c.getDefaultContentState()))},c.keydownHandler=function(a){if(c.props.allowWidgetUserData){var b=a.metaKey,d=a.ctrlKey,e="s"===a.key,f="Enter"===a.key;(b||d)&&e?(a.preventDefault(),c.handleSaveUserData({reset:!1})):(b||d)&&f&&(a.preventDefault(),j.ZP.dispatch(j.wn.RUN,{compId:c.props.compId}))}},c.handleStdinChange=function(a){c.setState({stdin:a.target.value})},c.getAdditionalContent=function(){var a={},b=c.state.specialInputData,d="edit"!==c.props.mode?c.state:c.props.content,e=d.additionalContent,f=d.specialInput;return e&&(a=e.reduce(function(a,b){return au(at({},a),ar({},b.fileName,b.content))},a)),[t.Ol,t.Wz].includes(f)&&b?a=au(at({},a),{"__ed_input.png":{encoding:"base64",content:b.split(",")[1]}}):f===t.O2&&(a=au(at({},a),{"__ed_input.txt":{encoding:"utf8",content:c.state.stdin}})),a},c.findUnReplacedKeys=function(a,b){var c=a.sourceCode,d=void 0===c?"":c,e=a.additionalContent,f=void 0===e?[]:e,g=a.hiddenCodeContent,h=void 0===g?{}:g,i=a.enableHiddenCode,j=new Set([]),k=void 0!==i&&i?[null==h?void 0:h.appendCode,null==h?void 0:h.prependCode]:[];return Object.keys(b).forEach(function(a){[d,].concat(aw(f.map(function(a){return null==a?void 0:a.content})),aw(k)).forEach(function(b){!j.has(a)&&(0,F.iD)(b,a)&&j.add(a)})}),Array.from(j)},c.clearPendingRun=function(){""!==c.state.pendingRun&&c.setState({pendingRun:""})},c.renderReplacementWrapper=function(a){if(0===Object.keys(c.props.apiKeysToReplace).length)return c.clearPendingRun(),!1;var b,d,e,f=Boolean(c.props.contentSnapshot)?c.props.contentSnapshot:c.props.content,g=(0,F.m5)(c.state.dirty?c.state:f,c.props.renderMode,c.props.apiKeysToReplace,null===(b=c.props)|| void 0===b?void 0:null===(d=b.docker)|| void 0===d?void 0:null===(e=d.container)|| void 0===e?void 0:e.liveInstance),h=c.findUnReplacedKeys({sourceCode:g.content,additionalContent:g.additionalContent,hiddenCodeContent:g.hiddenCodeContent,enableHiddenCode:g.enableHiddenCode},c.props.apiKeysToReplace);return h.length>0&&(a="",c.props.renderReplacementWrapper(h)),c.setState({content:g.content,additionalContent:g.additionalContent,onlyCodeChanged:!1,pendingRun:a}),!0},c.getEditorAndOutputHeights=function(a){var b=window.innerHeight-u.jw-u.iv-u.TN;return{editorHeight:b,outputHeight:a?c.state.isStdinOpen?b-u.Iy:b-u.I_:b}},c.toggleFileTree=function(){c.setState(function(a){return{isFileTreeOpen:!a.isFileTreeOpen}})},c.toggleProjectHints=function(){return c.setState(function(a){return{projectHintsInView:!a.projectHintsInView}})};var c,d,e,f,g=Boolean(a.contentSnapshot),h=g?a.contentSnapshot:a.content,i=(0,F.m5)(h,c.props.renderMode,c.props.apiKeysToReplace,null===(d=c.props)|| void 0===d?void 0:null===(e=d.docker)|| void 0===e?void 0:null===(f=e.container)|| void 0===f?void 0:f.liveInstance),l="view"!==a.mode?aC(h,null,a.executionMetadata):aC(c.props.content,i,a.executionMetadata);return c.state=au(at({},l),{onlyCodeChanged:!1,hasSnapshot:g,dirty:!1,dockerExecutionContext:(0,G.gp)(c.props.docker,l.dockerJob),additionalFilesLimit:(0,k.$O)(l.additionalContent),entryFileLimit:(0,k.G$)(l.content),specialInputData:"",stdin:"",pendingRun:"",isStdinOpen:!0,isFileTreeOpen:!1,projectHintsInView:!1,outputHeightLines:c.props.content.outputHeightLines||s._7V}),c}var A=x.prototype;return A.getAllFiles=function(a){var b,c,d,e,f,g=this.props.executionMetadata,h=null==g?void 0:null===(b=g.data)|| void 0===b?void 0:b.languages;return[null!==(e=null==a?void 0:a.entryFileName)&& void 0!==e?e:null==h?void 0:null===(c=h[a.language])|| void 0===c?void 0:c.entry_filename].concat(null!==(f=null===(d=a.additionalContent)|| void 0===d?void 0:d.map(function(a){return a.fileName}))&& void 0!==f?f:[])},A.componentDidMount=function(){var a,b,c,d,e,f=this.props,g=f.executionMetadata,h=f.updateContentState,i=f.content,k=f.docker,l=f.mode,m=null==g?void 0:null===(b=g.data)|| void 0===b?void 0:b.languages;if(!this.migrated&&(null==g?void 0:g.loaded)){var n=(0,z.z)(i,k,m);i.version!==n.version&&h(n),this.migrated=!0}i.isProject&&"view"===l&&j.ZP.add(this.bindProjectListener);var o=Boolean(this.props.contentSnapshot),p=o?this.props.contentSnapshot:this.props.content,q=this.getAllFiles(p),r=p.defaultSelectedFile?p.defaultSelectedFile:null!==(d=null==p?void 0:p.entryFileName)&& void 0!==d?d:null==m?void 0:null===(c=m[p.language])|| void 0===c?void 0:c.entry_filename;(o|| !p.defaultSelectedFile&&p.selectedIndex>0)&&(r=q[p.selectedIndex]);var s=q.indexOf(r);-1===s&&(r=null==m?void 0:null===(e=m[p.language])|| void 0===e?void 0:e.entry_filename,s=q.indexOf(r)),this.setState({selectedFileName:r,selectedIndex:s})},A.componentDidUpdate=function(a){if(!C.equals(this.props,a)){var b,c,d=Boolean(this.props.contentSnapshot),e=d?this.props.contentSnapshot:this.props.content,f={};if("view"!==this.props.mode)f=aC(e,null,this.props.executionMetadata);else{var g,h,i,j=(0,F.m5)(this.state.dirty?this.state:e,this.props.renderMode,this.props.apiKeysToReplace,null===(g=this.props)|| void 0===g?void 0:null===(h=g.docker)|| void 0===h?void 0:null===(i=h.container)|| void 0===i?void 0:i.liveInstance);f=aC(this.props.content,j,this.props.executionMetadata),a.savingWidget!==a.content.comp_id||this.props.savingWidget||this.setState({dirty:!1})}var k=this.getAllFiles(e).indexOf(this.state.selectedFileName),l=window.screen.width>ap.Mq.int;this.setState(au(at(au(at({},f),{selectedIndex:-1===k?0:k}),l?{onlyCodeChanged:!1}:{}),{hasSnapshot:d,dockerExecutionContext:(0,G.gp)(this.props.docker,f.dockerJob)}))}var m=this.props,n=m.executionMetadata,o=m.updateContentState,p=m.content,q=m.docker;if(!this.migrated&&(null==n?void 0:n.loaded)){var r,s=null==n?void 0:null===(r=n.data)|| void 0===r?void 0:r.languages,t=(0,z.z)(p,q,s);p.version!==t.version&&o(t),this.migrated=!0}(null==n?void 0:n.loaded)&&(null==p?void 0:p.content)===void 0&&"edit"===this.props.mode&&o({content:null===(c=(null==n?void 0:null===(b=n.data)|| void 0===b?void 0:b.languages)[null==p?void 0:p.language])|| void 0===c?void 0:c.hello_world})},A.getContentState=function(){var a=arguments.length>0&& void 0!==arguments[0]&&arguments[0];return a?aC(this.state,{saveVersion:this.props.saveVersion},this.props.executionMetadata):aC(this.props.content,{saveVersion:this.props.saveVersion},this.props.executionMetadata)},A.getDefaultContentState=function(){return aC(this.props.content,null,this.props.executionMetadata)},A.saveComponent=function(){arguments.length>0&& void 0!==arguments[0]&&arguments[0],this.props.updateContentState(this.getContentState(!0))},A.handleDockerJobChanged=function(a){var b,c,d,e=this.props.content.language,f=this.props.executionMetadata,g=null==f?void 0:null===(b=f.data)|| void 0===b?void 0:b.languages,h=(0,G.gp)(this.props.docker,a),i=null==h?void 0:null===(c=h.job)|| void 0===c?void 0:c.inputFileName;a||(i=null==g?void 0:null===(d=g[e])|| void 0===d?void 0:d.entry_filename),this.props.updateContentState({dockerExecutionContext:h,dockerJob:a,entryFileName:i})},A.getCodeTheme=function(){return"view"===this.props.mode&&this.props.userThemes?this.props.userThemes:"default"===this.state.theme&&this.props.default_themes||this.props.default_themes&&this.props.default_themes.isForced.Code?this.props.default_themes.Code:this.state.theme},A.getUserDataActions=function(){var a,b,c,e=arguments.length>0&& void 0!==arguments[0]&&arguments[0],f=this.props.showStaleCodeWarning&&this.state.hasSnapshot&&!(null===(a=this.props.contentSnapshot)|| void 0===a?void 0:a.saveVersion),i=(null===(b=this.props.contentSnapshot)|| void 0===b?void 0:b.saveVersion)&&(null===(c=this.props.contentSnapshot)|| void 0===c?void 0:c.saveVersion)<this.props.saveVersion,j="view"===this.props.mode&&(i||f);return(0,d.jsxs)(d.Fragment,{children:[j&&(0,d.jsx)(h.default,{overlay:"The author has updated the code in this widget. Press 'Reset' to get the latest changes.",overlayParentClasses:"max-w-xs",overlayParentTextClasses:"text-center",parentClasses:"dark:text-error-light flex text-error",position:s.xRW,children:(0,d.jsx)(l.Z,{className:"stroke-current"})}),(0,d.jsx)(g.Z,{isContentDirty:this.state.dirty,hasSnapshot:this.state.hasSnapshot,saveUserData:this.handleSaveUserData,resetUserData:this.handleResetUserData,compId:this.props.content.comp_id,disableSave:e,isViewer:this.props.allowWidgetUserData})]})},A.render=function(){var a,b,c=this,g="edit"!==this.props.mode,j=this.getSelectedFileProperty("readOnly"),k=!!this.props.config&&this.props.config.inEditor,l=null===(V=this.props.executionMetadata)|| void 0===V?void 0:null===(W=V.data)|| void 0===W?void 0:W.languages,r=g?this.state:this.props.content,t=null==l?void 0:null===(X=l[r.language])|| void 0===X?void 0:X.entry_filename,u=r.isCodeDrawing||!1,x=r.isAssessment,y=this.props.isFreeTextView,z=r.assessmentId,A=this.props.content.projectId,B=g&&u,C=r.isProject,D=C&&"view"===this.props.mode,E=this.props.disableCaption,N=this.getEditorAndOutputHeights(r.enableStdin),O=N.editorHeight,P=N.outputHeight,Q=this.props.isFreeTextWidget;g||(r=au(at({},r),{dockerExecutionContext:(0,G.gp)(this.props.docker,null!==($=this.props.content.dockerJob)&& void 0!==$?$:{})})),void 0===r.entryFileName&&(r=au(at({},r),{entryFileName:t}));var R=this.state,S=R.additionalFilesLimit,T=R.entryFileLimit,U=r.content;if(r.runnable&&r.enableHiddenCode){var V,W,X,Y,Z,$,_,aa,ab,ac=r.hiddenCodeContent||aB,ad=ac.prependCode,ae=ac.appendCode;U="".concat(ad,"\n").concat(U,"\n").concat(ae,"\n"),Object.keys(this.props.apiKeysToReplace).length&&(U=(0,F.m5)({content:U},this.props.renderMode,this.props.apiKeysToReplace,null===(_=this.props)|| void 0===_?void 0:null===(aa=_.docker)|| void 0===aa?void 0:null===(ab=aa.container)|| void 0===ab?void 0:ab.liveInstance).content)}var af=null;this.props.content.isCodeDrawing&&this.props.content.imageId&&(af=this.props.shotId?"".concat((0,H.Z)(!1,!1,null,null,this.props.content.imageId,null,this.props.shotId,null)):"".concat((0,H.Z)(!!this.props.collectionId,this.props.isDraft,this.props.authorId,this.props.pageId,this.props.content.imageId,this.props.collectionId,null,null))),!(0,f.EE)(null==r?void 0:r.dockerJob)||g||0===Object.keys(null!==(a=this.props.docker)&& void 0!==a?a:{}).length||(null==r?void 0:r.dockerExecutionContext)||(r=au(at({},r),{dockerExecutionContext:(0,G.gp)(this.props.docker,r.dockerJob)}));var ag={specialInputData:this.state.specialInputData,additionalContent:this.getAdditionalContent(),stdin:this.state.stdin,language:r.judge&&r.evaluateLanguage||r.language,usercodeLanguage:r.language,sourceCode:U,entryFileName:r.entryFileName,timeLimit:r.timeLimit,comp_id:r.judge&&this.props.content.comp_id||r.comp_id,outputTransformCode:r.outputTransformCode,transformOutput:r.transformOutput,dockerExecutionContext:r.dockerExecutionContext||{},specialInput:r.specialInput,outputImageHeight:r.outputImageHeight,type:this.props.type},ah={authorId:this.props.authorId,collectionId:this.props.collectionId,pageId:this.props.pageId||this.props.editorPageId,shotId:this.props.shotId,isDraft:this.props.isDraft,workType:this.props.workType||this.props.pageType},ai=this.props.type===v.hf.CODE_EVALUATION;g||u||y||(Z=(0,d.jsx)(i.GU,{playgroundMode:x||ai,highlightedLines:this.getHighlightedLines(),specialInput:r.specialInput,runnable:r.runnable,judge:r.judge,mainFileSelected:0===this.state.selectedIndex,allowDownload:r.allowDownload,treatOutputAsHTML:r.treatOutputAsHTML,enableHiddenCode:r.enableHiddenCode,enableStdin:r.enableStdin,evaluateWithoutExecution:r.evaluateWithoutExecution,showSolution:r.showSolution,readOnlyApiKeys:r.readOnlyApiKeys,onLanguageSelect:this.handleLanguageSelect,onEvaluateLanguageSelect:this.handleEvaluateLanguageChange,onThemeSelect:this.handleThemeSelect,onRunnableChange:this.handleRunnableChange,onJudgeChange:this.handleJudgeChange,onMultiChange:this.handleMultiChange,onAllowDownloadChange:this.handleAllowDownloadChange,onTreatOutputAsHTMLChange:this.handleTreatOutputAsHTMLChange,onTransformOutputChange:this.handleTransformOutputChange,onEnableHiddenCodeChange:this.handleEnableHiddenCodeChange,onEnableReadOnlyApiKeys:this.handleEnableReadOnlyApiKeys,onEnableStdinChange:this.handleEnableStdinChange,onEvaluateWithoutExecutionChange:this.handleEvaluateWithoutExecutionChange,onShowSolutionChange:this.handleShowSolutionChange,onHighlightedLinesChange:this.handleHighlightedLinesChange,onTimeLimitChange:this.handleTimeLimitChange,onOutputImageHeightChange:this.handleOutputImageHeightChange,onOutputLinesChange:function(a){c.updateContentState({outputHeightLines:a})},docker:this.props.docker,selectedDockerJob:r.dockerJob,onDockerJobChanged:function(){for(var a=arguments.length,b=Array(a),d=0;d<a;d++)b[d]=arguments[d];return c.handleDockerJobChanged.apply(c,aw(b))},executionMetadata:this.props.executionMetadata,onSpecialInputSelect:this.handleSpecialInputSelect,updateOutputTransformCode:function(a){c.props.updateContentState({outputTransformCode:a})},dispatch:this.props.dispatch,editMode:!0,apiKeys:this.props.apiKeys,selectedApiKeys:r.selectedApiKeys,selectedEnvVars:r.selectedEnvVars,widgetVersion:r.version,handleApiKeySelection:this.handleApiKeySelection,handleEnvVarSelection:this.handleEnvVarSelection,executionConfig:ag,lessonParams:ah,changeFileReadonlyStatus:this.changeFileReadonlyStatus,readOnly:j,showJobsDropdown:x||C,hideOutputHeight:C,isFreeText:Q,outputHeightLines:parseInt(r.outputHeightLines)||s._7V,userType:this.props.userType,widgetType:this.props.type,handleDefaultFileSelect:this.handleDefaultFileSelect,defaultFileNameSelected:(null===(b=this.props.content)|| void 0===b?void 0:b.defaultSelectedFile)===this.state.selectedFileName},"options"));var aj=au(at({},r),{additionalContent:r.additionalContent||[],selectedIndex:this.state.selectedIndex,theme:this.getCodeTheme(),vimMode:this.props.vimMode}),ak=0===aj.additionalContent.length,al=this.props.content.centerOutput?{textAlign:"center"}:{},ao=(0,d.jsx)(M.Z,{inView:this.props.inView,readOnly:g,isEditMode:"edit"===this.props.mode&&!y,codeContent:aj,onlyCodeChanged:this.state.onlyCodeChanged,onEditorChange:this.handleSimpleEditorChange,onSelectedIndexChange:this.handleSelectedIndexChange,handleMultiChange:this.handleMultiChange,isDraft:this.props.isDraft,inEditor:k,isShot:!!this.props.shotId,isCodeDrawing:u,isSelectedFileReadOnly:j,forcedHeight:D?O:null,isProjectViewer:D,isFileTreeOpen:this.state.isFileTreeOpen,userType:this.props.userType,widgetType:this.props.type}),ap=(0,d.jsx)(L.Z,{collectionId:this.props.collectionId,shotId:this.props.shotId,pageId:this.props.pageId||this.props.editorPageId,authorId:this.props.authorId,fullWidthFileOutput:r.fullWidthFileOutput,treatOutputAsHTML:r.treatOutputAsHTML,enableHiddenCode:r.enableHiddenCode,enableStdin:r.enableStdin,hiddenCodeContent:r.hiddenCodeContent,onHiddenCodeContentChange:this.handleHiddenCodeContentChange,onlyCodeChanged:this.state.onlyCodeChanged,mode:this.props.mode,codeTheme:this.getCodeTheme(),isDraft:this.props.isDraft,additionalActions:this.props.allowWidgetUserData&&this.getUserDataActions(),inEditor:this.props.config.inEditor,logWidgetInteraction:this.props.logWidgetInteraction,specialInput:r.specialInput,pageType:this.props.pageType,toggleFullScreen:function(){var a={viewCode:an.bt.CODE_FULLSCREEN_INLEARNERVIEW,editCode:an.bt.CODE_FULLSCREEN,viewCodeDrawing:an.bt.CD_FULLSCREEN,editCodeDrawing:an.bt.CD_FULLSCREEN},b={Code:an.f2.CODE_WIDGET,CodeDrawing:an.f2.CODE_DRAWING};b[c.props.type]&&a[c.props.mode+c.props.type]&&(0,an.qP)(b[c.props.type],a[c.props.mode+c.props.type],c.props.userType),c.props.toggleFullScreen()},fullScreen:this.props.fullScreen,fullscreenIconToggle:this.props.fullscreenIconToggle,additionalFilesLimit:S,entryFileLimit:T,editingApiKeys:this.props.editingApiKeys,renderExtractionWrapper:this.props.renderExtractionWrapper,renderReplacementWrapper:function(){return c.renderReplacementWrapper("Runnable")},renderEnvsWrapper:function(){if(!c.props.bypassEnvCheck){var a=c.props,b=a.docker,d=a.content,e=d.selectedEnvVars,g=void 0===e?{}:e,h=d.dockerJob,i=void 0===h?{}:h,j=(0,f.EE)(i),k=j?(0,I.t)(b,g):[];return!!k.length&&(c.props.renderReplacementWrapper(k,!0),!0)}},bypassCheckCallback:this.props.bypassCheckCallback,bypassEnvCheck:this.props.bypassEnvCheck,executionConfig:ag,updateSpecialInputData:this.updateSpecialInputData,handleStdinChange:this.handleStdinChange,isCodeDrawing:u,updateContentState:this.props.updateContentState,pendingRun:"Runnable"===this.state.pendingRun,pendingRunCallback:this.clearPendingRun,isProjectViewMode:D,outputHeight:D?P:(parseInt(r.outputHeightLines)||s._7V)*s.B$5,isStdinEmpty:!this.state.stdin||0===this.state.stdin.length,handleSaveUserData:this.handleSaveUserData,allowWidgetUserData:this.props.allowWidgetUserData,compId:this.props.compId,widgetType:this.props.type,userType:this.props.userType,workType:this.props.workType}),aq=(0,d.jsx)(K.ZP,{collectionId:this.props.collectionId,shotId:this.props.shotId,pageId:this.props.pageId||this.props.editorPageId,judgeContent:r.judgeContent,judgeHints:r.judgeHints,judgeContentPrepend:r.judgeContentPrepend,authorId:this.props.authorId,codeTheme:this.getCodeTheme(),evaluateWithoutExecution:r.evaluateWithoutExecution,showSolution:r.showSolution,solutionContent:r.solutionContent,readOnly:g,onlyCodeChanged:this.state.onlyCodeChanged,onJudgeContentChange:this.handleJudgeContentChange,onJudgeHintsUpdate:this.handleJudgeHintsChange,onJudgeContentPrependChange:this.handleJudgeContentPrependChange,onSolutionContentChange:this.handleSolutionContentChange,isDraft:this.props.isDraft,additionalActions:this.props.allowWidgetUserData&&this.getUserDataActions(),logWidgetInteraction:this.props.logWidgetInteraction,specialInput:r.specialInput,pageType:this.props.pageType,toggleFullScreen:this.props.toggleFullScreen,fullScreen:this.props.fullScreen,fullscreenIconToggle:this.props.fullscreenIconToggle,additionalFilesLimit:S,editingApiKeys:this.props.editingApiKeys,entryFileLimit:T,renderExtractionWrapper:this.props.renderExtractionWrapper,renderReplacementWrapper:function(){return c.renderReplacementWrapper("CodeJudge")},executionConfig:ag,updateSpecialInputData:this.updateSpecialInputData,isAssessment:x||ai,assessmentId:z,pendingRun:"CodeJudge"===this.state.pendingRun,pendingRunCallback:this.clearPendingRun,isProjectRunClicked:this.props.isProjectRunClicked,isProjectViewMode:D,outputHeight:D?P:null,handleStdinChange:this.handleStdinChange,isStdinEmpty:!this.state.stdin||0===this.state.stdin.length,handleSaveUserData:this.handleSaveUserData,allowWidgetUserData:this.props.allowWidgetUserData}),ar=this.state.projectHintsInView,as=(0,d.jsxs)("div",{className:"flex ".concat(ak?"justify-end":"justify-between"," items-center"),children:[!ak&&(0,d.jsx)(h.default,{onClick:this.toggleFileTree,overlay:"".concat(this.state.isFileTreeOpen?"Hide":"Show"," Files"),parentClasses:"align-middle cursor-pointer dark:hover:text-primary-light dark:text-dark-contrastText duration-200 h-6 hover:scale-125 hover:text-primary inline-flex ml-8 text-black transform w-6",position:s.xRW,children:(0,d.jsx)(q.Z,{className:"h-full w-full stroke-current"})}),(0,d.jsxs)("div",{className:"flex items-center",children:[this.state.dirty?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(p.Z,{className:"h-3 w-3"}),(0,d.jsx)("span",{className:"p-2",children:"Unsaved"})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(m.Z,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"p-2",children:"Saved"})]}),!!(null===(Y=r.judgeHints)|| void 0===Y?void 0:Y.length)&&ai&&(0,d.jsx)("button",{className:"outlined-default px-3 py-1.5",onClick:function(a){return c.setState(function(a){return au(at({},a),{projectHintsInView:!ar})})},children:ar?"Hide Hints":"Need Hints?"}),this.getUserDataActions(!0)]})]}),av=(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"bg-gray-200",children:(0,d.jsxs)("button",{className:"text-default py-2",onClick:function(){c.setState(function(a){return{isStdinOpen:!a.isStdinOpen}})},children:["Input",this.state.isStdinOpen?(0,d.jsx)(n.Z,{className:"icon-right"}):(0,d.jsx)(o.Z,{className:"icon-right"})]})}),this.state.isStdinOpen&&(0,d.jsx)("textarea",{value:this.state.stdin,onChange:this.handleStdinChange,className:"h-24 w-full resize-none bg-gray-100 p-2"})]});return(0,d.jsxs)("div",{className:"code-container ".concat(D?"w-full":""),onKeyDown:this.keydownHandler,children:[(0,d.jsx)(e.Z,{}),Z,D?(0,d.jsxs)(aA,{sizes:[60,40],minSize:400,expandToMin:!1,gutterSize:0,gutterAlign:"center",snapOffset:30,dragInterval:1,direction:"horizontal",cursor:"col-resize",className:"flex w-full flex-auto",gutterStyle:function(){return{cursor:"col-resize",display:"flex","align-items":"center","justify-content":"center"}},gutter:w.Vn,children:[!B&&(0,d.jsxs)("div",{className:"flex flex-col",children:[as,ao]}),(0,d.jsx)("div",{className:"flex flex-col justify-between",children:ai?(0,d.jsx)(am,{judgeContent:r.judgeContent,judgeHints:r.judgeHints,judgeContentPrepend:r.judgeContentPrepend,showHints:ar,executionConfig:ag,toggleProjectHints:this.toggleProjectHints,isDraft:this.props.isDraft,authorId:this.props.authorId,workId:this.props.collectionId,pageType:this.props.pageType,pageId:this.props.pageId,projectId:A}):(0,d.jsxs)(d.Fragment,{children:[r.runnable&&!B?ap:null,r.judge?aq:null,r.enableStdin&&av]})})]}):(0,d.jsxs)(d.Fragment,{children:[!B&&ao,r.runnable&&!B?ap:null,r.judge&&!y?aq:null]}),!u&&(0,d.jsx)(J.Z,{caption:r.caption,readOnly:E||g,onCaptionChange:this.handleCaptionChange,hookOnChangeEvent:!0,syncCaptionWithProp:!0},"caption"),this.props.content.isCodeDrawing&&this.props.content.imageId&&(0,d.jsx)("div",{style:al,children:(0,d.jsx)("img",{alt:"code_drawing",src:af})})]})},x.getComponentDefault=function(){return N.Z},x}(D.Component);aD.defaultProps={config:{},vimMode:!1,logWidgetInteraction:function(){return null},apiKeys:[],apiKeysToReplace:{},renderExtractionWrapper:function(){return null},renderReplacementWrapper:function(){return null},editingApiKeys:!1};var aE=az(aD)},1388:function(a,b,c){"use strict";c.d(b,{g:function(){return t}});var d=c(18154),e=c.n(d),f=c(20348),g=c(89703),h=c(57227),i=c(66560),j=c(2321),k=c(54833),l=c(20493);function m(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function n(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function o(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){n(f,d,e,g,h,"next",a)}function h(a){n(f,d,e,g,h,"throw",a)}g(void 0)})}}function p(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function q(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){p(a,b,c[b])})}return a}function r(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var s={testOutputExpanded:!1,testExecResult:null,testExecError:null,testExecInProgress:!1,outputHeight:0},t=function(a){var b,c=null;return a&&(c=Array.from({length:a.passed_tests},function(a,b){return{testName:"Test ".concat(b+1),passed:!0,failureDescription:null}}),a.total_tests!==a.passed_tests)&&(c=((function(a){if(Array.isArray(a))return m(a)})(b=c)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(b)||function a(b,c){if(b){if("string"==typeof b)return m(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(d);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return m(b,c)}}(b)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([{testName:"Test ".concat(a.passed_tests+1),passed:!1,failureDescription:a.failure_description},])),c},u=function(a){var b,c,d=a.dockerRunner,m=a.isDebugMode,n=(0,i.GN)(),p=(0,g.useState)(s),u=p[0],v=p[1],w=(0,g.useContext)(l.h).setResults,x=(b=o(e().mark(function a(){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,A();case 2:case"end":return a.stop()}},a)})),function(){return b.apply(this,arguments)});(0,g.useEffect)(function(){return h.YB.add(h.lx.TEST,x),function(){h.YB.remove(h.lx.TEST,x),n.stop()}},[d]);var y,z=(c=o(e().mark(function a(b){var c,d,f;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:c=b.results,d=b.error,f=t(c),w({testResults:f,error:d}),h.ZP.dispatch(h.lx.COMPONENT_COMPLETED,{status:!d&&c.passed_tests===c.total_tests}),v(r(q({},s),{testExecInProgress:!1,testExecResult:c,testExecError:d}));case 5:case"end":return a.stop()}},a)})),function(a){return c.apply(this,arguments)}),A=(y=o(e().mark(function b(){var c,f,g,h,k,l,o,p,t,u,x,y,A,B,C,D,E;return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return w({executing:!0}),v(r(q({},s),{testOutputExpanded:!0,testExecResult:null,testExecError:null,testExecInProgress:!0,outputHeight:j.UN})),h=a.authorId,k=a.collectionId,l=a.pageType,o=a.pageId,p=a.docker,t=a.testingDocker,u=a.workspaceCompId,x=a.workspaceCompType,y=a.config.inEditor,A=a.projectId,B={app_id:null==p?void 0:null===(c=p.container)|| void 0===c?void 0:null===(f=c.liveInstance)|| void 0===f?void 0:f.id,image_name:null==t?void 0:null===(g=t.container)|| void 0===g?void 0:g.imageName,test_job:null==d?void 0:d.testScript,envs:(null==t?void 0:t.envs)||[],enable_workspace:!0,workspace_comp_id:u,workspace_comp_type:x},b.next=9,(0,i.s$)({authorId:h,pageId:o,containerInfo:B,inEditor:y,workId:k,documentType:l,docId:A,debugMode:m});case 9:if(D=(C=b.sent).testingContainerStatus,E=C.attemptCount,D!==i.bO.ALLOCATION_FAILED){b.next=15;break}return v(r(q({},s),{testExecInProgress:!1,testExecError:i.q6})),b.abrupt("return");case 15:(0,i.m_)({authorId:h,collectionId:k,pageId:o,pageType:l,attemptCount:E,docId:A,inEditor:y},n,z);case 16:case"end":return b.stop()}},b)})),function(){return y.apply(this,arguments)});return(0,f.jsx)("div",{className:"mt-2 flex h-full w-full justify-center",children:(0,f.jsx)(k.Z,{className:"bg-white",inProgress:u.testExecInProgress,result:u.testExecResult,error:u.testExecError})})};b.Z=u},20493:function(a,b,c){"use strict";c.d(b,{e:function(){return h},h:function(){return g}});var d=c(20348),e=c(89703);function f(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var g=e.createContext({results:null,setResults:function(){}}),h=function(a){var b=function(b){return(0,d.jsx)(g.Consumer,{children:function(c){var e=c.results,g=c.setResults;return(0,d.jsx)(a,function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){f(a,b,c[b])})}return a}({testResult:e,setTestResultContext:g},b))}})};return Object.getOwnPropertyNames(a).forEach(function(c){"function"==typeof a[c]&&(b[c]=a[c])}),b}},34994:function(a,b,c){"use strict";var d=c(20348),e=c(89703),f=c(2321),g=c(28961),h=c(80569),i=c(42448);function j(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var k=function(a){var b,c,k=a.rendered_output,l=a.executionResult,m=a.treatOutputAsHTML,n=a.outputTransform,o=a.transformedOutput,p=a.outputHeight,q=e.useRef(null),r=(p||f.T$)+f.Tx,s=(b=e.useState(0),c=2,function(a){if(Array.isArray(a))return a}(b)||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(b,c)||function a(b,c){if(b){if("string"==typeof b)return j(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(d);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return j(b,c)}}(b,c)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),t=s[0],u=s[1],v="Succeeded"===l.reason,w=!l.stdout&&!l.stderr,x=null,y=function(){var a,b=null==q?void 0:null===(a=q.current)|| void 0===a?void 0:a.contentWindow;(null==b?void 0:b.document)&&(b.document.body.style.margin="0px",u(b.document.body.scrollHeight||300))};return w&&(x=v?(0,d.jsxs)("div",{className:"flex items-center justify-center text-success",children:[(0,d.jsx)(h.UP,{}),(0,d.jsx)("span",{className:"text-xs font-semibold tracking-wide",children:l.reason})]}):(0,d.jsx)("div",{className:"flex items-center justify-center break-all text-error dark:text-error-light",children:(0,d.jsxs)("span",{className:"text-xs font-semibold tracking-wide",children:[(0,d.jsx)(g.Z,{width:"20",height:"20",className:"text-error dark:text-error-light",style:{marginRight:"5px",marginBottom:"3px"}}),l.reason]})})),(0,d.jsxs)("div",{className:"".concat(void 0!==n&&n?"w-1/2 sm:w-11/12":""),id:i.env.REACT_APP_STANDALONE?v?"selenium-execution_succeeded":"selenium-execution_failed":null,children:[k,l.compilation_result&&(0,d.jsx)("p",{className:"whitespace-pre-wrap",children:l.compilation_result}),x,!w&&(0,d.jsxs)("div",{className:"flex justify-between font-mono",children:[(0,d.jsx)("div",{className:"mb-1 text-gray-600",children:void 0!==o&&o?"Transformed Output":"Output"}),(0,d.jsx)("div",{className:"mr-2.5 text-gray-700",children:l.time})]}),l.stdout&&(m?(0,d.jsx)("iframe",{ref:q,onLoad:y,height:"".concat(t,"px"),className:"w-full border-none",title:"html_output",srcDoc:l.stdout}):(0,d.jsx)("div",{children:(0,d.jsx)("p",{className:"select-text overflow-y-auto whitespace-pre-wrap rounded border-8 border-solid border-gray-100 bg-gray-100 dark:border-dark-80 dark:bg-dark-80",style:{maxHeight:"".concat(r,"px"),fontFamily:"monospace"},children:l.stdout})},"stdout")),l.stderr&&(0,d.jsx)("div",{children:m?(0,d.jsx)("p",{className:"whitespace-pre-wrap",children:l.stderr}):(0,d.jsx)("p",{className:"select-text flex-wrap items-center overflow-y-auto whitespace-pre-wrap rounded border border-solid border-error bg-gray-100 p-2.5 dark:border-error-light dark:bg-dark-80",style:{maxHeight:"200px",height:"".concat(p+f.Vw-f.Iy,"px"),fontFamily:"monospace"},children:l.stderr})})]})};b.Z=k},21493:function(a,b,c){"use strict";c.d(b,{Z:function(){return r}});var d=c(20348),e=c(89703),f=c(51876),g=c(60649),h=c(46045),i=c.n(h),j=function(a){var b=a.children,c=a.active,e=a.previous,f=a.slideDirection;return(0,d.jsx)("div",{className:"no-scrollbar w-full overflow-x-auto ".concat(c?"block ".concat(""!==f?i()["".concat(f,"-enter")]:""):"tailwind-hidden ".concat(e&&""!==f?i()["".concat(f,"-exit")]:"")),children:b})},k=e.memo(j);function l(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function m(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(a,b)||n(a,b)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(a,b){if(a){if("string"==typeof a)return l(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return l(a,b)}}var o={SLIDE_LEFT:"slide-left",SLIDE_RIGHT:"slide-right"},p="rounded-full border cursor-pointer border-solid transform hover:scale-110",q=function(a){var b=a.children,c=a.navigation,h=void 0===c||c,i=a.indicators,j=a.inactiveIndicatorsClass,q=void 0===j?"".concat(p," w-3 h-3 border-gray-200 dark:border-gray-A400 hover:border-gray-500 dark:hover:border-gray-600 bg-gray-200 dark:bg-gray-900 hover:bg-gray-500 dark:hover:bg-gray-600"):j,r=a.activeIndicatorsClass,s=void 0===r?"".concat(p," w-3.5 h-3.5 border-primary dark:border-gray-A400 hover:border-primary-dark dark:hover:border-primary-lightP2 bg-primary dark:bg-primary-lightP1 hover:bg-primary-dark dark:hover:bg-primary-lightP2"):r,t=a.wrap,u=void 0===t||t,v=a.leftIcon,w=a.rightIcon,x=a.chevronLeftClass,y=a.chevronRightClass,z=a.activeIndex,A=void 0===z?0:z,B=a.onChangeActiveChild,C=void 0===B?function(){}:B,D=a.allowAnimations,E=void 0===D||D,F=a.onIndicatorClicked,G=void 0===F?function(){}:F,H=a.onNavigatorClicked,I=void 0===H?function(a){}:H,J=b.length;e.useEffect(function(){if(!h){var a=setInterval(function(){U("next")},8e3);return function(){clearInterval(a)}}},[]);var K=m(e.useState(A),2),L=K[0],M=K[1],N=m(e.useState(-1),2),O=N[0],P=N[1],Q=m(e.useState(o.SLIDE_LEFT),2),R=Q[0],S=Q[1];e.useEffect(function(){W(A)},[A]),e.useEffect(function(){C(L)},[L]);var T,U=function(a){S("next"===a?o.SLIDE_LEFT:o.SLIDE_RIGHT),P(L),M(function(b){var c="next"===a?b+1:b-1;return c>=0?c%J:c+J})},V=function(a){U(a),I(a)},W=function(a){a!==L&&(P(L),S(a>L?o.SLIDE_LEFT:o.SLIDE_RIGHT),M(a))},X=function(a){return!!u||(a?L>0:L<J-1)};return(0,d.jsxs)("div",{className:"my-4 flex flex-col items-center",children:[(0,d.jsxs)("div",{className:"flex w-full justify-center",children:[(0,d.jsx)("div",{className:"flex w-6 items-center",children:h&&X(!0)&&(0,d.jsx)("div",{onClick:function(){return V("prev")},className:"flex cursor-pointer items-center opacity-50 transition duration-200 ease-in-out hover:opacity-100",children:null!=v?v:(0,d.jsx)("div",{children:(0,d.jsx)(f.Z,{className:void 0===x?"w-7 h-7 text-black dark:text-dark-contrastText transform  hover:scale-110":x})})})}),(0,d.jsx)("div",{className:"h-full w-full overflow-hidden transition-all duration-500 ease-in-out",children:b.map(function(a,b){return(0,d.jsx)(k,{active:b===L,previous:b===O,slideDirection:E?R:"",children:a})})}),(0,d.jsx)("div",{className:"flex w-6 items-center",children:h&&X(!1)&&(0,d.jsx)("div",{onClick:function(){return V("next")},className:"cursor-pointer opacity-50 transition duration-200 ease-in-out hover:opacity-100",children:null!=w?w:(0,d.jsx)("div",{children:(0,d.jsx)(g.Z,{className:void 0===y?"w-7 h-7 text-black dark:text-dark-contrastText transform hover:scale-110":y})})})})]}),(void 0===i||i)&&(0,d.jsx)("div",{className:"mt-3 flex items-center justify-center space-x-3",children:((function(a){if(Array.isArray(a))return l(a)})(T=Array(J))||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(T)||n(T)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(a,b){return(0,d.jsx)("div",{onClick:function(){W(b),G()},className:b===L?s:q})})})]})},r=e.memo(q)},2698:function(a,b,c){"use strict";c.d(b,{q:function(){return g}});var d=c(41460),e=c(86181),f=function(a,b){if(Object.keys(null!=a?a:{}).length){var c,d=a.job,e=a.imageName,f=a.envs,g=null!==(c=null==b?void 0:b.find(function(a){return(null==d?void 0:d.key)&&(null==a?void 0:a.key)===d.key}))&& void 0!==c?c:d,h={container_image_name:e,envs:f,entry_filename:g.inputFileName,build_script:g.buildScript,run_script:g.runScript};return JSON.stringify(h)}},g=function(a,b,c){var g=arguments.length>3&& void 0!==arguments[3]?arguments[3]:function(a,b){},h=arguments.length>4&& void 0!==arguments[4]?arguments[4]:function(a,b){},i=arguments.length>5&& void 0!==arguments[5]?arguments[5]:function(){},j=arguments.length>6&& void 0!==arguments[6]?arguments[6]:function(a){},k=arguments.length>7&& void 0!==arguments[7]&&arguments[7];if(!a||!b){h("Undefined executionConfig or lessonParams",c);return}i();var l=a.language,m=a.sourceCode,n=a.additionalContent,o=a.entryFileName,p=a.timeLimit,q=a.stdin,r=a.dockerExecutionContext,s=a.comp_id,t=a.outputTransformCode,u=a.transformOutput,v=a.specialInput,w=a.type,x=a.dockerJobs,y=b.authorId,z=b.collectionId,A=b.pageId,B=b.isDraft,C=b.workType?b.workType:b.shotId?"shot":"collection";(0,d.r0)({language:l,source_code:m,additional_files:JSON.stringify(n),entry_filename:o,time_limit:p,stdin:v===e.O2?"":q,author_id:y,collection_id:z,page_id:A||b.shotId,is_draft_page:B,docker_container:f(r,x),is_code_drawing:k,comp_id:s||null,comp_type:w||"Code",transform_params:JSON.stringify({outputTransformCode:t,transformOutput:u}),work_type:C}).then(JSON.parse).then(function(a){return g(a,c)}).catch(function(a){var b;h({reason:401!==(b=a).status?b.responseText:"Please login to use code execution."},c)}).finally(function(){return j(c)})}},28186:function(a,b,c){"use strict";c.d(b,{Z:function(){return e}});var d=function(a,b){if(!a){if(b=b||"Assertion failed",console.assert)console.assert(a,b);else if("undefined"!=typeof Error)throw Error(b);throw b}},e=function(a,b,c,e,f,g,h,i){return a?b?"/api/author/".concat(c,"/collection/").concat(g,"/page/").concat(e,"/image/").concat(f):"/api/collection/".concat(c,"/").concat(g,"/page/").concat(e,"/image/").concat(f):e?b?"/api/author/page/".concat(e,"/image/").concat(f):"/api/page/".concat(c,"/").concat(e,"/image/").concat(f):h||i?(i?d(!!b||i,"if its not a draft marketing page then editor_page_id should be passed in"):d(!!b||h,"if its not a draft shot then shot_id should be passed in"),h)?"/api/edpresso/shot/".concat(h,"/image/").concat(f):i?"/api/page/".concat(i,"/image/download/").concat(f):null:null}},39773:function(a,b,c){"use strict";c.d(b,{t:function(){return e}});var d=c(12557),e=function(a,b){var c=arguments.length>2&& void 0!==arguments[2]&&arguments[2];return((null==a?void 0:a.envs)||[]).filter(function(a){return!a.value&&(null==b?void 0:b[a.id])}).filter(function(a){return!c||!d.s.includes(a.key)}).map(function(a){return a.key})}},46045:function(a){a.exports={"slide-left-enter":"Carousel_slide-left-enter__8KOvc",slideLeftEnter:"Carousel_slideLeftEnter__AMwgl","slide-left-exit":"Carousel_slide-left-exit__vwrBO",slideLeftExit:"Carousel_slideLeftExit__dN5CG","slide-right-enter":"Carousel_slide-right-enter__KR_kc",slideRightEnter:"Carousel_slideRightEnter__HhHYM","slide-right-exit":"Carousel_slide-right-exit__2_8Fp",slideRightExit:"Carousel_slideRightExit___OArd"}},63189:function(a,b,c){"use strict";var d,e,f=c(89703);function g(){return(g=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var h=function(a){return f.createElement("svg",g({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-corner-up-left"},a),d||(d=f.createElement("polyline",{points:"9 14 4 9 9 4"})),e||(e=f.createElement("path",{d:"M20 20v-7a4 4 0 0 0-4-4H4"})))};b.Z=h},96245:function(a,b,c){"use strict";var d,e,f=c(89703);function g(){return(g=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var h=function(a){return f.createElement("svg",g({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24},a),d||(d=f.createElement("path",{d:"M0 0h24v24H0V0zm0 0h24v24H0V0z",fill:"none"})),e||(e=f.createElement("path",{d:"M21 3H3a2 2 0 00-2 2v14c0 1.1.9 2 2 2h18a2 2 0 002-2V5a2 2 0 00-2-2zm0 16H3V5h10v4h8v10z"})))};b.Z=h},60738:function(a,b,c){"use strict";var d,e,f=c(89703);function g(){return(g=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var h=function(a){return f.createElement("svg",g({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24},a),d||(d=f.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"})),e||(e=f.createElement("path",{d:"M19 5v4H4V5h15m0 10v4H4v-4h15m1-12H3a1 1 0 00-1 1v6c0 .6.5 1 1 1h17c.6 0 1-.5 1-1V4c0-.6-.5-1-1-1zm0 10H3a1 1 0 00-1 1v6c0 .6.5 1 1 1h17c.6 0 1-.5 1-1v-6c0-.6-.5-1-1-1z"})))};b.Z=h},81975:function(a,b,c){"use strict";var d,e=c(89703);function f(){return(f=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var g=function(a){return e.createElement("svg",f({className:"close-icon",height:512,width:512,viewBox:"0 0 512 512",fill:"current"},a),d||(d=e.createElement("path",{d:"M437.5 386.6L306.9 256l130.6-130.6a35.91 35.91 0 000-50.9 35.91 35.91 0 00-50.9 0L256 205.1 125.4 74.5a35.91 35.91 0 00-50.9 0 35.91 35.91 0 000 50.9L205.1 256 74.5 386.6a35.91 35.91 0 000 50.9 35.91 35.91 0 0050.9 0L256 306.9l130.6 130.6a35.91 35.91 0 0050.9 0c14-14.1 14-36.9 0-50.9z"})))};b.Z=g},2333:function(){},30830:function(){},43839:function(){},76985:function(){},64515:function(){}}])
//# sourceMappingURL=90594-270081415260437e.js.map