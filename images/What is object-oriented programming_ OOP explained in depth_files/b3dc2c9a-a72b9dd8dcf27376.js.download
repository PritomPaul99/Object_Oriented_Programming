(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[23656],{84298:function(module,__unused_webpack_exports,__webpack_require__){var Buffer=__webpack_require__(38160).Buffer,process=__webpack_require__(42448);!function(a,b){module.exports=b()}(this,function(){return(()=>{var __webpack_modules__=[,(a,b,c)=>{"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}Object.defineProperty(b,"__esModule",{value:!0}),b.StatTimer=b.RenderingCancelledException=b.PixelsPerInch=b.PageViewport=b.PDFDateString=b.LinkTarget=b.DOMStandardFontDataFactory=b.DOMSVGFactory=b.DOMCanvasFactory=b.DOMCMapReaderFactory=void 0,b.addLinkAttributes=K,b.deprecated=S,b.getFilenameFromUrl=N,b.getPdfFilenameFromUrl=O,b.getXfaPageViewport=U,b.isDataScheme=L,b.isPdfFile=M,b.isValidFetchUrl=Q,b.loadScript=R;var e,f=i(c(2)),g=c(4),h=c(135);function i(a){return a&&a.__esModule?a:{default:a}}function j(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=k(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var d=0,e=function(){};return{s:e,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:e}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function(){c=c.call(a)},n:function(){var a=c.next();return g=a.done,a},e:function(a){h=!0,f=a},f:function(){try{g||null==c.return||c.return()}finally{if(h)throw f}}}}function k(a,b){if(a){if("string"==typeof a)return l(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return l(a,b)}}function l(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function m(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function n(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){m(f,d,e,g,h,"next",a)}function h(a){m(f,d,e,g,h,"throw",a)}g(void 0)})}}function o(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function p(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function q(a,b,c){return b&&p(a.prototype,b),c&&p(a,c),a}function r(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&s(a,b)}function s(a,b){return(s=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function t(a){var b=w();return function(){var c,d=x(a);if(b){var e=x(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return u(this,c)}}function u(a,b){if(b&&("object"===d(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");return v(a)}function v(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function w(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function x(a){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}var y="noopener noreferrer nofollow",z="http://www.w3.org/2000/svg",A={CSS:96,PDF:72,get PDF_TO_CSS_UNITS(){return(0,g.shadow)(this,"PDF_TO_CSS_UNITS",this.CSS/this.PDF)}};b.PixelsPerInch=A;var B=function(a){r(c,a);var b=t(c);function c(){var a,d=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{},e=d.ownerDocument,f=void 0===e?globalThis.document:e;return o(this,c),(a=b.call(this))._document=f,a}return q(c,[{key:"_createCanvas",value:function(a,b){var c=this._document.createElement("canvas");return c.width=a,c.height=b,c}}]),c}(h.BaseCanvasFactory);function C(a){return D.apply(this,arguments)}function D(){return(D=n(f.default.mark(function a(b){var c,d,e=arguments;return f.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(c=e.length>1&& void 0!==e[1]&&e[1],!Q(b,document.baseURI)){a.next=21;break}return a.next=4,fetch(b);case 4:if((d=a.sent).ok){a.next=7;break}throw Error(d.statusText);case 7:if(!c){a.next=15;break}return a.t1=Uint8Array,a.next=11,d.arrayBuffer();case 11:a.t2=a.sent,a.t0=new a.t1(a.t2),a.next=20;break;case 15:return a.t3=g.stringToBytes,a.next=18,d.text();case 18:a.t4=a.sent,a.t0=(0,a.t3)(a.t4);case 20:return a.abrupt("return",a.t0);case 21:return a.abrupt("return",new Promise(function(a,d){var e=new XMLHttpRequest;e.open("GET",b,!0),c&&(e.responseType="arraybuffer"),e.onreadystatechange=function(){if(e.readyState===XMLHttpRequest.DONE){if(200===e.status||0===e.status){var b;if(c&&e.response?b=new Uint8Array(e.response):!c&&e.responseText&&(b=(0,g.stringToBytes)(e.responseText)),b){a(b);return}}d(Error(e.statusText))}},e.send(null)}));case 22:case"end":return a.stop()}},a)}))).apply(this,arguments)}b.DOMCanvasFactory=B;var E=function(a){r(c,a);var b=t(c);function c(){return o(this,c),b.apply(this,arguments)}return q(c,[{key:"_fetchData",value:function(a,b){return C(a,this.isCompressed).then(function(a){return{cMapData:a,compressionType:b}})}}]),c}(h.BaseCMapReaderFactory);b.DOMCMapReaderFactory=E;var F=function(a){r(c,a);var b=t(c);function c(){return o(this,c),b.apply(this,arguments)}return q(c,[{key:"_fetchData",value:function(a){return C(a,!0)}}]),c}(h.BaseStandardFontDataFactory);b.DOMStandardFontDataFactory=F;var G=function(a){r(c,a);var b=t(c);function c(){return o(this,c),b.apply(this,arguments)}return q(c,[{key:"_createSVG",value:function(a){return document.createElementNS(z,a)}}]),c}(h.BaseSVGFactory);b.DOMSVGFactory=G;var H=function(){function a(b){var c,d,e,f,g,h,i,j,k=b.viewBox,l=b.scale,m=b.rotation,n=b.offsetX,p=void 0===n?0:n,q=b.offsetY,r=void 0===q?0:q,s=b.dontFlip,t=void 0!==s&&s;o(this,a),this.viewBox=k,this.scale=l,this.rotation=m,this.offsetX=p,this.offsetY=r;var u=(k[2]+k[0])/2,v=(k[3]+k[1])/2;switch((m%=360)<0&&(m+=360),m){case 180:c=-1,d=0,e=0,f=1;break;case 90:c=0,d=1,e=1,f=0;break;case 270:c=0,d=-1,e=-1,f=0;break;case 0:c=1,d=0,e=0,f=-1;break;default:throw Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}t&&(e=-e,f=-f),0===c?(g=Math.abs(v-k[1])*l+p,h=Math.abs(u-k[0])*l+r,i=Math.abs(k[3]-k[1])*l,j=Math.abs(k[2]-k[0])*l):(g=Math.abs(u-k[0])*l+p,h=Math.abs(v-k[1])*l+r,i=Math.abs(k[2]-k[0])*l,j=Math.abs(k[3]-k[1])*l),this.transform=[c*l,d*l,e*l,f*l,g-c*l*u-e*l*v,h-d*l*u-f*l*v],this.width=i,this.height=j}return q(a,[{key:"clone",value:function(){var b=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{},c=b.scale,d=void 0===c?this.scale:c,e=b.rotation,f=void 0===e?this.rotation:e,g=b.offsetX,h=void 0===g?this.offsetX:g,i=b.offsetY,j=void 0===i?this.offsetY:i,k=b.dontFlip,l=void 0!==k&&k;return new a({viewBox:this.viewBox.slice(),scale:d,rotation:f,offsetX:h,offsetY:j,dontFlip:l})}},{key:"convertToViewportPoint",value:function(a,b){return g.Util.applyTransform([a,b],this.transform)}},{key:"convertToViewportRectangle",value:function(a){var b=g.Util.applyTransform([a[0],a[1]],this.transform),c=g.Util.applyTransform([a[2],a[3]],this.transform);return[b[0],b[1],c[0],c[1]]}},{key:"convertToPdfPoint",value:function(a,b){return g.Util.applyInverseTransform([a,b],this.transform)}}]),a}();b.PageViewport=H;var I=function(a){r(c,a);var b=t(c);function c(a,d){var e;return o(this,c),(e=b.call(this,a,"RenderingCancelledException")).type=d,e}return c}(g.BaseException);b.RenderingCancelledException=I;var J={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function K(a){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{},c=b.url,d=b.target,e=b.rel,f=b.enabled,h=void 0===f||f;(0,g.assert)(c&&"string"==typeof c,'addLinkAttributes: A valid "url" parameter must provided.');var i=(0,g.removeNullCharacters)(c);h?a.href=a.title=i:(a.href="",a.title="Disabled: ".concat(i),a.onclick=function(){return!1});var j="";switch(d){case J.NONE:break;case J.SELF:j="_self";break;case J.BLANK:j="_blank";break;case J.PARENT:j="_parent";break;case J.TOP:j="_top"}a.target=j,a.rel="string"==typeof e?e:y}function L(a){for(var b=a.length,c=0;c<b&&""===a[c].trim();)c++;return"data:"===a.substring(c,c+5).toLowerCase()}function M(a){return"string"==typeof a&&/\.pdf$/i.test(a)}function N(a){var b=a.indexOf("#"),c=a.indexOf("?"),d=Math.min(b>0?b:a.length,c>0?c:a.length);return a.substring(a.lastIndexOf("/",d)+1,d)}function O(a){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!=typeof a)return b;if(L(a))return(0,g.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),b;var c=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,d=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(a),e=c.exec(d[1])||c.exec(d[2])||c.exec(d[3]);if(e&&(e=e[0]).includes("%"))try{e=c.exec(decodeURIComponent(e))[0]}catch(f){}return e||b}b.LinkTarget=J;var P=function(){function a(){o(this,a),this.started=Object.create(null),this.times=[]}return q(a,[{key:"time",value:function(a){a in this.started&&(0,g.warn)("Timer is already running for ".concat(a)),this.started[a]=Date.now()}},{key:"timeEnd",value:function(a){a in this.started||(0,g.warn)("Timer has not been started for ".concat(a)),this.times.push({name:a,start:this.started[a],end:Date.now()}),delete this.started[a]}},{key:"toString",value:function(){var a,b=[],c=0,d=j(this.times);try{for(d.s();!(a=d.n()).done;){var e=a.value.name;e.length>c&&(c=e.length)}}catch(f){d.e(f)}finally{d.f()}var g,h=j(this.times);try{for(h.s();!(g=h.n()).done;){var i=g.value,k=i.end-i.start;b.push("".concat(i.name.padEnd(c)," ").concat(k,"ms\n"))}}catch(l){h.e(l)}finally{h.f()}return b.join("")}}]),a}();function Q(a,b){try{var c=(b?new URL(a,b):new URL(a)).protocol;return"http:"===c||"https:"===c}catch(d){return!1}}function R(a){var b=arguments.length>1&& void 0!==arguments[1]&&arguments[1];return new Promise(function(c,d){var e=document.createElement("script");e.src=a,e.onload=function(a){b&&e.remove(),c(a)},e.onerror=function(){d(Error("Cannot load script at: ".concat(e.src)))},(document.head||document.documentElement).appendChild(e)})}function S(a){console.log("Deprecated API usage: "+a)}b.StatTimer=P;var T=function(){function a(){o(this,a)}return q(a,null,[{key:"toDateObject",value:function(a){if(!a||!(0,g.isString)(a))return null;e||(e=RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var b=e.exec(a);if(!b)return null;var c=parseInt(b[1],10),d=parseInt(b[2],10);d=d>=1&&d<=12?d-1:0;var f=parseInt(b[3],10);f=f>=1&&f<=31?f:1;var h=parseInt(b[4],10);h=h>=0&&h<=23?h:0;var i=parseInt(b[5],10);i=i>=0&&i<=59?i:0;var j=parseInt(b[6],10);j=j>=0&&j<=59?j:0;var k=b[7]||"Z",l=parseInt(b[8],10);l=l>=0&&l<=23?l:0;var m=parseInt(b[9],10)||0;return m=m>=0&&m<=59?m:0,"-"===k?(h+=l,i+=m):"+"===k&&(h-=l,i-=m),new Date(Date.UTC(c,d,f,h,i,j))}}]),a}();function U(a,b){var c=b.scale,d=void 0===c?1:c,e=b.rotation,f=void 0===e?0:e,g=a.attributes.style,h=g.width,i=g.height,j=[0,0,parseInt(h),parseInt(i)];return new H({viewBox:j,scale:d,rotation:f})}b.PDFDateString=T},(a,b,c)=>{"use strict";a.exports=c(3)},(a,b,c)=>{"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}a=c.nmd(a);var e=function(a){var b,c=Object.prototype,e=c.hasOwnProperty,f="function"==typeof Symbol?Symbol:{},g=f.iterator||"@@iterator",h=f.asyncIterator||"@@asyncIterator",i=f.toStringTag||"@@toStringTag";function j(a,b,c){return Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}),a[b]}try{j({},"")}catch(k){j=function(a,b,c){return a[b]=c}}function l(a,b,c,d){var e=Object.create((b&&b.prototype instanceof s?b:s).prototype),f=new F(d||[]);return e._invoke=B(a,c,f),e}function m(a,b,c){try{return{type:"normal",arg:a.call(b,c)}}catch(d){return{type:"throw",arg:d}}}a.wrap=l;var n="suspendedStart",o="suspendedYield",p="executing",q="completed",r={};function s(){}function t(){}function u(){}var v={};j(v,g,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(G([])));x&&x!==c&&e.call(x,g)&&(v=x);var y=u.prototype=s.prototype=Object.create(v);function z(a){["next","throw","return"].forEach(function(b){j(a,b,function(a){return this._invoke(b,a)})})}function A(a,b){var c;function f(c,g,h,i){var j=m(a[c],a,g);if("throw"===j.type)i(j.arg);else{var k=j.arg,l=k.value;return l&&"object"===d(l)&&e.call(l,"__await")?b.resolve(l.__await).then(function(a){f("next",a,h,i)},function(a){f("throw",a,h,i)}):b.resolve(l).then(function(a){k.value=a,h(k)},function(a){return f("throw",a,h,i)})}}function g(a,d){function e(){return new b(function(b,c){f(a,d,b,c)})}return c=c?c.then(e,e):e()}this._invoke=g}function B(a,b,c){var d=n;return function(e,f){if(d===p)throw Error("Generator is already running");if(d===q){if("throw"===e)throw f;return H()}for(c.method=e,c.arg=f;;){var g=c.delegate;if(g){var h=C(g,c);if(h){if(h===r)continue;return h}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(d===n)throw d=q,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);d=p;var i=m(a,b,c);if("normal"===i.type){if(d=c.done?q:o,i.arg===r)continue;return{value:i.arg,done:c.done}}"throw"===i.type&&(d=q,c.method="throw",c.arg=i.arg)}}}function C(a,c){var d=a.iterator[c.method];if(d===b){if(c.delegate=null,"throw"===c.method){if(a.iterator.return&&(c.method="return",c.arg=b,C(a,c),"throw"===c.method))return r;c.method="throw",c.arg=TypeError("The iterator does not provide a 'throw' method")}return r}var e=m(d,a.iterator,c.arg);if("throw"===e.type)return c.method="throw",c.arg=e.arg,c.delegate=null,r;var f=e.arg;return f?f.done?(c[a.resultName]=f.value,c.next=a.nextLoc,"return"!==c.method&&(c.method="next",c.arg=b),c.delegate=null,r):f:(c.method="throw",c.arg=TypeError("iterator result is not an object"),c.delegate=null,r)}function D(a){var b={tryLoc:a[0]};1 in a&&(b.catchLoc=a[1]),2 in a&&(b.finallyLoc=a[2],b.afterLoc=a[3]),this.tryEntries.push(b)}function E(a){var b=a.completion||{};b.type="normal",delete b.arg,a.completion=b}function F(a){this.tryEntries=[{tryLoc:"root"}],a.forEach(D,this),this.reset(!0)}function G(a){if(a){var c=a[g];if(c)return c.call(a);if("function"==typeof a.next)return a;if(!isNaN(a.length)){var d=-1,f=function c(){for(;++d<a.length;)if(e.call(a,d))return c.value=a[d],c.done=!1,c;return c.value=b,c.done=!0,c};return f.next=f}}return{next:H}}function H(){return{value:b,done:!0}}return t.prototype=u,j(y,"constructor",u),j(u,"constructor",t),t.displayName=j(u,i,"GeneratorFunction"),a.isGeneratorFunction=function(a){var b="function"==typeof a&&a.constructor;return!!b&&(b===t||"GeneratorFunction"===(b.displayName||b.name))},a.mark=function(a){return Object.setPrototypeOf?Object.setPrototypeOf(a,u):(a.__proto__=u,j(a,i,"GeneratorFunction")),a.prototype=Object.create(y),a},a.awrap=function(a){return{__await:a}},z(A.prototype),j(A.prototype,h,function(){return this}),a.AsyncIterator=A,a.async=function(b,c,d,e,f){void 0===f&&(f=Promise);var g=new A(l(b,c,d,e),f);return a.isGeneratorFunction(c)?g:g.next().then(function(a){return a.done?a.value:g.next()})},z(y),j(y,i,"Generator"),j(y,g,function(){return this}),j(y,"toString",function(){return"[object Generator]"}),a.keys=function(a){var b=[];for(var c in a)b.push(c);return b.reverse(),function c(){for(;b.length;){var d=b.pop();if(d in a)return c.value=d,c.done=!1,c}return c.done=!0,c}},a.values=G,F.prototype={constructor:F,reset:function(a){if(this.prev=0,this.next=0,this.sent=this._sent=b,this.done=!1,this.delegate=null,this.method="next",this.arg=b,this.tryEntries.forEach(E),!a)for(var c in this)"t"===c.charAt(0)&&e.call(this,c)&&!isNaN(+c.slice(1))&&(this[c]=b)},stop:function(){this.done=!0;var a=this.tryEntries[0].completion;if("throw"===a.type)throw a.arg;return this.rval},dispatchException:function(a){if(this.done)throw a;var c=this;function d(d,e){return h.type="throw",h.arg=a,c.next=d,e&&(c.method="next",c.arg=b),!!e}for(var f=this.tryEntries.length-1;f>=0;--f){var g=this.tryEntries[f],h=g.completion;if("root"===g.tryLoc)return d("end");if(g.tryLoc<=this.prev){var i=e.call(g,"catchLoc"),j=e.call(g,"finallyLoc");if(i&&j){if(this.prev<g.catchLoc)return d(g.catchLoc,!0);if(this.prev<g.finallyLoc)return d(g.finallyLoc)}else if(i){if(this.prev<g.catchLoc)return d(g.catchLoc,!0)}else if(j){if(this.prev<g.finallyLoc)return d(g.finallyLoc)}else throw Error("try statement without catch or finally")}}},abrupt:function(a,b){for(var c=this.tryEntries.length-1;c>=0;--c){var d=this.tryEntries[c];if(d.tryLoc<=this.prev&&e.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var f=d;break}}f&&("break"===a||"continue"===a)&&f.tryLoc<=b&&b<=f.finallyLoc&&(f=null);var g=f?f.completion:{};return(g.type=a,g.arg=b,f)?(this.method="next",this.next=f.finallyLoc,r):this.complete(g)},complete:function(a,b){if("throw"===a.type)throw a.arg;return"break"===a.type||"continue"===a.type?this.next=a.arg:"return"===a.type?(this.rval=this.arg=a.arg,this.method="return",this.next="end"):"normal"===a.type&&b&&(this.next=b),r},finish:function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.finallyLoc===a)return this.complete(c.completion,c.afterLoc),E(c),r}},catch:function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.tryLoc===a){var d=c.completion;if("throw"===d.type){var e=d.arg;E(c)}return e}}throw Error("illegal catch attempt")},delegateYield:function(a,c,d){return this.delegate={iterator:G(a),resultName:c,nextLoc:d},"next"===this.method&&(this.arg=b),r}},a}("object"===d(a)?a.exports:{});try{regeneratorRuntime=e}catch(f){("undefined"==typeof globalThis?"undefined":d(globalThis))==="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},(a,b,c)=>{"use strict";function d(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function e(a,b,c){return b&&d(a.prototype,b),c&&d(a,c),a}function f(a){return i(a)||h(a)||o(a)||g()}function g(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}function i(a){if(Array.isArray(a))return p(a)}function j(a,b){return m(a)||l(a,b)||o(a,b)||k()}function k(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}function m(a){if(Array.isArray(a))return a}function n(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=o(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var d=0,e=function(){};return{s:e,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:e}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function(){c=c.call(a)},n:function(){var a=c.next();return g=a.done,a},e:function(a){h=!0,f=a},f:function(){try{g||null==c.return||c.return()}finally{if(h)throw f}}}}function o(a,b){if(a){if("string"==typeof a)return p(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return p(a,b)}}function p(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function q(a){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function r(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function s(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&t(a,b)}function t(a,b){return(t=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function u(a){var b=x();return function(){var c,d=y(a);if(b){var e=y(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return v(this,c)}}function v(a,b){if(b&&("object"===q(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");return w(a)}function w(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function x(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function y(a){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}Object.defineProperty(b,"__esModule",{value:!0}),b.VerbosityLevel=b.Util=b.UnknownErrorException=b.UnexpectedResponseException=b.UNSUPPORTED_FEATURES=b.TextRenderingMode=b.StreamType=b.RenderingIntentFlag=b.PermissionFlag=b.PasswordResponses=b.PasswordException=b.PageActionEventType=b.OPS=b.MissingPDFException=b.IsLittleEndianCached=b.IsEvalSupportedCached=b.InvalidPDFException=b.ImageKind=b.IDENTITY_MATRIX=b.FormatError=b.FontType=b.FONT_IDENTITY_MATRIX=b.DocumentActionEventType=b.CMapCompressionType=b.BaseException=b.AnnotationType=b.AnnotationStateModelType=b.AnnotationReviewState=b.AnnotationReplyType=b.AnnotationMode=b.AnnotationMarkedState=b.AnnotationFlag=b.AnnotationFieldFlag=b.AnnotationBorderStyleType=b.AnnotationActionEventType=b.AbortException=void 0,b.arrayByteLength=au,b.arraysToBytes=av,b.assert=ac,b.bytesToString=as,b.createObjectURL=aT,b.createPromiseCapability=aS,b.createValidAbsoluteUrl=af,b.escapeString=aH,b.getModificationDate=aR,b.getVerbosityLevel=$,b.info=_,b.isArrayBuffer=aP,b.isArrayEqual=aQ,b.isAscii=aI,b.isBool=aM,b.isNum=aN,b.isSameOrigin=ad,b.isString=aO,b.objectFromMap=ay,b.objectSize=ax,b.removeNullCharacters=ar,b.setVerbosityLevel=Z,b.shadow=ag,b.string32=aw,b.stringToBytes=at,b.stringToPDFString=aG,b.stringToUTF16BEString=aJ,b.stringToUTF8String=aK,b.unreachable=ab,b.utf8StringToString=aL,b.warn=aa,c(5);var z=[1,0,0,1,0,0];b.IDENTITY_MATRIX=z;var A=[.001,0,0,.001,0,0];b.FONT_IDENTITY_MATRIX=A;var B={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};b.RenderingIntentFlag=B;var C={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};b.AnnotationMode=C;var D={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};b.PermissionFlag=D;var E={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};b.TextRenderingMode=E;var F={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};b.ImageKind=F;var G={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};b.AnnotationType=G;var H={MARKED:"Marked",REVIEW:"Review"};b.AnnotationStateModelType=H;var I={MARKED:"Marked",UNMARKED:"Unmarked"};b.AnnotationMarkedState=I;var J={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};b.AnnotationReviewState=J;var K={GROUP:"Group",REPLY:"R"};b.AnnotationReplyType=K;var L={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};b.AnnotationFlag=L;var M={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};b.AnnotationFieldFlag=M;var N={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};b.AnnotationBorderStyleType=N;var O={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};b.AnnotationActionEventType=O;var P={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};b.DocumentActionEventType=P;var Q={O:"PageOpen",C:"PageClose"};b.PageActionEventType=Q;var R={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};b.StreamType=R;var S={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};b.FontType=S;var T={ERRORS:0,WARNINGS:1,INFOS:5};b.VerbosityLevel=T;var U={NONE:0,BINARY:1,STREAM:2};b.CMapCompressionType=U;var V={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};b.OPS=V;var W={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};b.UNSUPPORTED_FEATURES=W;var X={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};b.PasswordResponses=X;var Y=T.WARNINGS;function Z(a){Number.isInteger(a)&&(Y=a)}function $(){return Y}function _(a){Y>=T.INFOS&&console.log("Info: ".concat(a))}function aa(a){Y>=T.WARNINGS&&console.log("Warning: ".concat(a))}function ab(a){throw Error(a)}function ac(a,b){a||ab(b)}function ad(a,b){try{if(!(d=new URL(a)).origin||"null"===d.origin)return!1}catch(c){return!1}var d,e=new URL(b,d);return d.origin===e.origin}function ae(a){if(!a)return!1;switch(a.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function af(a){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:null,c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:null;if(!a)return null;try{if(c&&"string"==typeof a){if(c.addDefaultProtocol&&a.startsWith("www.")){var d=a.match(/\./g);d&&d.length>=2&&(a="http://".concat(a))}if(c.tryConvertEncoding)try{a=aK(a)}catch(e){}}var f=b?new URL(a,b):new URL(a);if(ae(f))return f}catch(g){}return null}function ag(a,b,c){return Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!1}),c}var ah=function(){function a(b,c){this.constructor===a&&ab("Cannot initialize BaseException."),this.message=b,this.name=c}return a.prototype=Error(),a.constructor=a,a}();b.BaseException=ah;var ai=function(a){s(c,a);var b=u(c);function c(a,d){var e;return r(this,c),(e=b.call(this,a,"PasswordException")).code=d,e}return c}(ah);b.PasswordException=ai;var aj=function(a){s(c,a);var b=u(c);function c(a,d){var e;return r(this,c),(e=b.call(this,a,"UnknownErrorException")).details=d,e}return c}(ah);b.UnknownErrorException=aj;var ak=function(a){s(c,a);var b=u(c);function c(a){return r(this,c),b.call(this,a,"InvalidPDFException")}return c}(ah);b.InvalidPDFException=ak;var al=function(a){s(c,a);var b=u(c);function c(a){return r(this,c),b.call(this,a,"MissingPDFException")}return c}(ah);b.MissingPDFException=al;var am=function(a){s(c,a);var b=u(c);function c(a,d){var e;return r(this,c),(e=b.call(this,a,"UnexpectedResponseException")).status=d,e}return c}(ah);b.UnexpectedResponseException=am;var an=function(a){s(c,a);var b=u(c);function c(a){return r(this,c),b.call(this,a,"FormatError")}return c}(ah);b.FormatError=an;var ao=function(a){s(c,a);var b=u(c);function c(a){return r(this,c),b.call(this,a,"AbortException")}return c}(ah);b.AbortException=ao;var ap=/\x00+/g,aq=/[\x01-\x1F]/g;function ar(a){var b=arguments.length>1&& void 0!==arguments[1]&&arguments[1];return"string"!=typeof a?(aa("The argument for removeNullCharacters must be a string."),a):(b&&(a=a.replace(aq," ")),a.replace(ap,""))}function as(a){ac(null!==a&&"object"===q(a)&& void 0!==a.length,"Invalid argument for bytesToString");var b=a.length,c=8192;if(b<c)return String.fromCharCode.apply(null,a);for(var d=[],e=0;e<b;e+=c){var f=Math.min(e+c,b),g=a.subarray(e,f);d.push(String.fromCharCode.apply(null,g))}return d.join("")}function at(a){ac("string"==typeof a,"Invalid argument for stringToBytes");for(var b=a.length,c=new Uint8Array(b),d=0;d<b;++d)c[d]=255&a.charCodeAt(d);return c}function au(a){return void 0!==a.length?a.length:(ac(void 0!==a.byteLength,"arrayByteLength - invalid argument."),a.byteLength)}function av(a){var b=a.length;if(1===b&&a[0]instanceof Uint8Array)return a[0];for(var c=0,d=0;d<b;d++)c+=au(a[d]);for(var e=0,f=new Uint8Array(c),g=0;g<b;g++){var h=a[g];h instanceof Uint8Array||(h="string"==typeof h?at(h):new Uint8Array(h));var i=h.byteLength;f.set(h,e),e+=i}return f}function aw(a){return String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,255&a)}function ax(a){return Object.keys(a).length}function ay(a){var b,c=Object.create(null),d=n(a);try{for(d.s();!(b=d.n()).done;){var e=j(b.value,2),f=e[0],g=e[1];c[f]=g}}catch(h){d.e(h)}finally{d.f()}return c}function az(){var a=new Uint8Array(4);return a[0]=1,1===new Uint32Array(a.buffer,0,1)[0]}var aA={get value(){return ag(this,"value",az())}};function aB(){try{return Function(""),!0}catch(a){return!1}}b.IsLittleEndianCached=aA;var aC={get value(){return ag(this,"value",aB())}};b.IsEvalSupportedCached=aC;var aD=f(Array(256).keys()).map(function(a){return a.toString(16).padStart(2,"0")}),aE=function(){function a(){r(this,a)}return e(a,null,[{key:"makeHexColor",value:function(a,b,c){return"#".concat(aD[a]).concat(aD[b]).concat(aD[c])}},{key:"transform",value:function(a,b){return[a[0]*b[0]+a[2]*b[1],a[1]*b[0]+a[3]*b[1],a[0]*b[2]+a[2]*b[3],a[1]*b[2]+a[3]*b[3],a[0]*b[4]+a[2]*b[5]+a[4],a[1]*b[4]+a[3]*b[5]+a[5]]}},{key:"applyTransform",value:function(a,b){var c=a[0]*b[0]+a[1]*b[2]+b[4],d=a[0]*b[1]+a[1]*b[3]+b[5];return[c,d]}},{key:"applyInverseTransform",value:function(a,b){var c=b[0]*b[3]-b[1]*b[2],d=(a[0]*b[3]-a[1]*b[2]+b[2]*b[5]-b[4]*b[3])/c,e=(-a[0]*b[1]+a[1]*b[0]+b[4]*b[1]-b[5]*b[0])/c;return[d,e]}},{key:"getAxialAlignedBoundingBox",value:function(b,c){var d=a.applyTransform(b,c),e=a.applyTransform(b.slice(2,4),c),f=a.applyTransform([b[0],b[3]],c),g=a.applyTransform([b[2],b[1]],c);return[Math.min(d[0],e[0],f[0],g[0]),Math.min(d[1],e[1],f[1],g[1]),Math.max(d[0],e[0],f[0],g[0]),Math.max(d[1],e[1],f[1],g[1])]}},{key:"inverseTransform",value:function(a){var b=a[0]*a[3]-a[1]*a[2];return[a[3]/b,-a[1]/b,-a[2]/b,a[0]/b,(a[2]*a[5]-a[4]*a[3])/b,(a[4]*a[1]-a[5]*a[0])/b]}},{key:"apply3dTransform",value:function(a,b){return[a[0]*b[0]+a[1]*b[1]+a[2]*b[2],a[3]*b[0]+a[4]*b[1]+a[5]*b[2],a[6]*b[0]+a[7]*b[1]+a[8]*b[2]]}},{key:"singularValueDecompose2dScale",value:function(a){var b=[a[0],a[2],a[1],a[3]],c=a[0]*b[0]+a[1]*b[2],d=a[0]*b[1]+a[1]*b[3],e=a[2]*b[0]+a[3]*b[2],f=a[2]*b[1]+a[3]*b[3],g=(c+f)/2,h=Math.sqrt(Math.pow(c+f,2)-4*(c*f-e*d))/2,i=g+h||1,j=g-h||1;return[Math.sqrt(i),Math.sqrt(j)]}},{key:"normalizeRect",value:function(a){var b=a.slice(0);return a[0]>a[2]&&(b[0]=a[2],b[2]=a[0]),a[1]>a[3]&&(b[1]=a[3],b[3]=a[1]),b}},{key:"intersect",value:function(b,c){function d(a,b){return a-b}var e=[b[0],b[2],c[0],c[2]].sort(d),f=[b[1],b[3],c[1],c[3]].sort(d),g=[];return(b=a.normalizeRect(b),c=a.normalizeRect(c),(e[0]!==b[0]||e[1]!==c[0])&&(e[0]!==c[0]||e[1]!==b[0]))?null:(g[0]=e[1],g[2]=e[2],(f[0]!==b[1]||f[1]!==c[1])&&(f[0]!==c[1]||f[1]!==b[1]))?null:(g[1]=f[1],g[3]=f[2],g)}},{key:"bezierBoundingBox",value:function(a,b,c,d,e,g,h,i){for(var j=[],k=[[],[]],l=0;l<2;++l){if(0===l?(n=6*a-12*c+6*e,m=-3*a+9*c-9*e+3*h,o=3*c-3*a):(n=6*b-12*d+6*g,m=-3*b+9*d-9*g+3*i,o=3*d-3*b),1e-12>Math.abs(m)){if(1e-12>Math.abs(n))continue;0<(p=-o/n)&&p<1&&j.push(p);continue}t=Math.sqrt(s=n*n-4*o*m),!(s<0)&&(0<(q=(-n+t)/(2*m))&&q<1&&j.push(q),0<(r=(-n-t)/(2*m))&&r<1&&j.push(r))}for(var m,n,o,p,q,r,s,t,u,v=j.length,w=v;v--;)u=1-(p=j[v]),k[0][v]=u*u*u*a+3*u*u*p*c+3*u*p*p*e+p*p*p*h,k[1][v]=u*u*u*b+3*u*u*p*d+3*u*p*p*g+p*p*p*i;return k[0][w]=a,k[1][w]=b,k[0][w+1]=h,k[1][w+1]=i,k[0].length=k[1].length=w+2,[Math.min.apply(Math,f(k[0])),Math.min.apply(Math,f(k[1])),Math.max.apply(Math,f(k[0])),Math.max.apply(Math,f(k[1]))]}}]),a}();b.Util=aE;var aF=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function aG(a){var b=a.length,c=[];if("\xfe"===a[0]&&"\xff"===a[1])for(var d=2;d<b;d+=2)c.push(String.fromCharCode(a.charCodeAt(d)<<8|a.charCodeAt(d+1)));else if("\xff"===a[0]&&"\xfe"===a[1])for(var e=2;e<b;e+=2)c.push(String.fromCharCode(a.charCodeAt(e+1)<<8|a.charCodeAt(e)));else for(var f=0;f<b;++f){var g=aF[a.charCodeAt(f)];c.push(g?String.fromCharCode(g):a.charAt(f))}return c.join("")}function aH(a){return a.replace(/([()\\\n\r])/g,function(a){return"\n"===a?"\\n":"\r"===a?"\\r":"\\".concat(a)})}function aI(a){return/^[\x00-\x7F]*$/.test(a)}function aJ(a){for(var b=["\xfe\xff"],c=0,d=a.length;c<d;c++){var e=a.charCodeAt(c);b.push(String.fromCharCode(e>>8&255),String.fromCharCode(255&e))}return b.join("")}function aK(a){return decodeURIComponent(escape(a))}function aL(a){return unescape(encodeURIComponent(a))}function aM(a){return"boolean"==typeof a}function aN(a){return"number"==typeof a}function aO(a){return"string"==typeof a}function aP(a){return"object"===q(a)&&null!==a&& void 0!==a.byteLength}function aQ(a,b){if(a.length!==b.length)return!1;for(var c=0,d=a.length;c<d;c++)if(a[c]!==b[c])return!1;return!0}function aR(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:new Date;return[a.getUTCFullYear().toString(),(a.getUTCMonth()+1).toString().padStart(2,"0"),a.getUTCDate().toString().padStart(2,"0"),a.getUTCHours().toString().padStart(2,"0"),a.getUTCMinutes().toString().padStart(2,"0"),a.getUTCSeconds().toString().padStart(2,"0")].join("")}function aS(){var a=Object.create(null),b=!1;return Object.defineProperty(a,"settled",{get:function(){return b}}),a.promise=new Promise(function(c,d){a.resolve=function(a){b=!0,c(a)},a.reject=function(a){b=!0,d(a)}}),a}function aT(a){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:"",c=arguments.length>2&& void 0!==arguments[2]&&arguments[2];if(URL.createObjectURL&&"undefined"!=typeof Blob&&!c)return URL.createObjectURL(new Blob([a],{type:b}));for(var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e="data:".concat(b,";base64,"),f=0,g=a.length;f<g;f+=3){var h=255&a[f],i=255&a[f+1],j=255&a[f+2],k=h>>2,l=(3&h)<<4|i>>4,m=f+1<g?(15&i)<<2|j>>6:64,n=f+2<g?63&j:64;e+=d[k]+d[l]+d[m]+d[n]}return e}},(a,b,c)=>{"use strict";var d=c(6);"undefined"!=typeof globalThis&&globalThis._pdfjsCompatibilityChecked||(("undefined"==typeof globalThis||globalThis.Math!==Math)&&(globalThis=c(7)),globalThis._pdfjsCompatibilityChecked=!0,globalThis.btoa||!d.isNodeJS||(globalThis.btoa=function(a){return Buffer.from(a,"binary").toString("base64")}),globalThis.atob||!d.isNodeJS||(globalThis.atob=function(a){return Buffer.from(a,"base64").toString("binary")}),globalThis.DOMMatrix||!d.isNodeJS||(globalThis.DOMMatrix=c(69)),Object.fromEntries||c(70),globalThis.Promise.allSettled||(globalThis.Promise=c(97)),globalThis.ReadableStream||!d.isNodeJS||(globalThis.ReadableStream=c(134).ReadableStream))},(a,b)=>{"use strict";function c(a){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}Object.defineProperty(b,"__esModule",{value:!0}),b.isNodeJS=void 0;var d=(void 0===process?"undefined":c(process))==="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type);b.isNodeJS=d},(a,b,c)=>{c(8),a.exports=c(10)},(a,b,c)=>{var d=c(9),e=c(10);d({global:!0},{globalThis:e})},(a,b,c)=>{var d=c(10),e=c(11).f,f=c(47),g=c(50),h=c(41),i=c(57),j=c(68);a.exports=function(a,b){var c,k,l,m,n,o,p=a.target,q=a.global,r=a.stat;if(k=q?d:r?d[p]||h(p,{}):(d[p]||{}).prototype)for(l in b){if(n=b[l],m=a.noTargetGet?(o=e(k,l))&&o.value:k[l],!(c=j(q?l:p+(r?".":"#")+l,a.forced))&& void 0!==m){if(typeof n==typeof m)continue;i(n,m)}(a.sham||m&&m.sham)&&f(n,"sham",!0),g(k,l,n,a)}}},a=>{var b=function(a){return a&&a.Math==Math&&a};a.exports=b("object"==typeof globalThis&&globalThis)||b("object"==typeof window&&window)||b("object"==typeof self&&self)||b("object"==typeof __webpack_require__.g&&__webpack_require__.g)||function(){return this}()||Function("return this")()},(a,b,c)=>{var d=c(12),e=c(14),f=c(15),g=c(16),h=c(17),i=c(22),j=c(42),k=c(45),l=Object.getOwnPropertyDescriptor;b.f=d?l:function(a,b){if(a=h(a),b=i(b),k)try{return l(a,b)}catch(c){}if(j(a,b))return g(!e(f.f,a,b),a[b])}},(a,b,c)=>{var d=c(13);a.exports=!d(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},a=>{a.exports=function(a){try{return!!a()}catch(b){return!0}}},a=>{var b=Function.prototype.call;a.exports=b.bind?b.bind(b):function(){return b.apply(b,arguments)}},(a,b)=>{"use strict";var c={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,e=d&&!c.call({1:2},1);b.f=e?function(a){var b=d(this,a);return!!b&&b.enumerable}:c},a=>{a.exports=function(a,b){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:b}}},(a,b,c)=>{var d=c(18),e=c(21);a.exports=function(a){return d(e(a))}},(a,b,c)=>{var d=c(10),e=c(19),f=c(13),g=c(20),h=d.Object,i=e("".split);a.exports=f(function(){return!h("z").propertyIsEnumerable(0)})?function(a){return"String"==g(a)?i(a,""):h(a)}:h},a=>{var b=Function.prototype,c=b.bind,d=b.call,e=c&&c.bind(d);a.exports=c?function(a){return a&&e(d,a)}:function(a){return a&&function(){return d.apply(a,arguments)}}},(a,b,c)=>{var d=c(19),e=d({}.toString),f=d("".slice);a.exports=function(a){return f(e(a),8,-1)}},(a,b,c)=>{var d=c(10).TypeError;a.exports=function(a){if(void 0==a)throw d("Can't call method on "+a);return a}},(a,b,c)=>{var d=c(23),e=c(26);a.exports=function(a){var b=d(a,"string");return e(b)?b:b+""}},(a,b,c)=>{var d=c(10),e=c(14),f=c(24),g=c(26),h=c(33),i=c(36),j=c(37),k=d.TypeError,l=j("toPrimitive");a.exports=function(a,b){if(!f(a)||g(a))return a;var c,d=h(a,l);if(d){if(void 0===b&&(b="default"),c=e(d,a,b),!f(c)||g(c))return c;throw k("Can't convert object to primitive value")}return void 0===b&&(b="number"),i(a,b)}},(a,b,c)=>{var d=c(25);a.exports=function(a){return"object"==typeof a?null!==a:d(a)}},a=>{a.exports=function(a){return"function"==typeof a}},(a,b,c)=>{var d=c(10),e=c(27),f=c(25),g=c(28),h=c(29),i=d.Object;a.exports=h?function(a){return"symbol"==typeof a}:function(a){var b=e("Symbol");return f(b)&&g(b.prototype,i(a))}},(a,b,c)=>{var d=c(10),e=c(25),f=function(a){return e(a)?a:void 0};a.exports=function(a,b){return arguments.length<2?f(d[a]):d[a]&&d[a][b]}},(a,b,c)=>{var d=c(19);a.exports=d({}.isPrototypeOf)},(a,b,c)=>{var d=c(30);a.exports=d&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},(a,b,c)=>{var d=c(31),e=c(13);a.exports=!!Object.getOwnPropertySymbols&&!e(function(){var a=Symbol();return!String(a)||!(Object(a) instanceof Symbol)|| !Symbol.sham&&d&&d<41})},(a,b,c)=>{var d,e,f=c(10),g=c(32),h=f.process,i=f.Deno,j=h&&h.versions||i&&i.version,k=j&&j.v8;k&&(e=(d=k.split("."))[0]>0&&d[0]<4?1:+(d[0]+d[1])),!e&&g&&(!(d=g.match(/Edge\/(\d+)/))||d[1]>=74)&&(d=g.match(/Chrome\/(\d+)/))&&(e=+d[1]),a.exports=e},(a,b,c)=>{var d=c(27);a.exports=d("navigator","userAgent")||""},(a,b,c)=>{var d=c(34);a.exports=function(a,b){var c=a[b];return null==c?void 0:d(c)}},(a,b,c)=>{var d=c(10),e=c(25),f=c(35),g=d.TypeError;a.exports=function(a){if(e(a))return a;throw g(f(a)+" is not a function")}},(a,b,c)=>{var d=c(10).String;a.exports=function(a){try{return d(a)}catch(b){return"Object"}}},(a,b,c)=>{var d=c(10),e=c(14),f=c(25),g=c(24),h=d.TypeError;a.exports=function(a,b){var c,d;if("string"===b&&f(c=a.toString)&&!g(d=e(c,a))||f(c=a.valueOf)&&!g(d=e(c,a))||"string"!==b&&f(c=a.toString)&&!g(d=e(c,a)))return d;throw h("Can't convert object to primitive value")}},(a,b,c)=>{var d=c(10),e=c(38),f=c(42),g=c(44),h=c(30),i=c(29),j=e("wks"),k=d.Symbol,l=k&&k.for,m=i?k:k&&k.withoutSetter||g;a.exports=function(a){if(!f(j,a)||!(h||"string"==typeof j[a])){var b="Symbol."+a;h&&f(k,a)?j[a]=k[a]:i&&l?j[a]=l(b):j[a]=m(b)}return j[a]}},(a,b,c)=>{var d=c(39),e=c(40);(a.exports=function(a,b){return e[a]||(e[a]=void 0!==b?b:{})})("versions",[]).push({version:"3.19.3",mode:d?"pure":"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})},a=>{a.exports=!1},(a,b,c)=>{var d=c(10),e=c(41),f="__core-js_shared__",g=d[f]||e(f,{});a.exports=g},(a,b,c)=>{var d=c(10),e=Object.defineProperty;a.exports=function(a,b){try{e(d,a,{value:b,configurable:!0,writable:!0})}catch(c){d[a]=b}return b}},(a,b,c)=>{var d=c(19),e=c(43),f=d({}.hasOwnProperty);a.exports=Object.hasOwn||function(a,b){return f(e(a),b)}},(a,b,c)=>{var d=c(10),e=c(21),f=d.Object;a.exports=function(a){return f(e(a))}},(a,b,c)=>{var d=c(19),e=0,f=Math.random(),g=d(1..toString);a.exports=function(a){return"Symbol("+(void 0===a?"":a)+")_"+g(++e+f,36)}},(a,b,c)=>{var d=c(12),e=c(13),f=c(46);a.exports=!d&&!e(function(){return 7!=Object.defineProperty(f("div"),"a",{get:function(){return 7}}).a})},(a,b,c)=>{var d=c(10),e=c(24),f=d.document,g=e(f)&&e(f.createElement);a.exports=function(a){return g?f.createElement(a):{}}},(a,b,c)=>{var d=c(12),e=c(48),f=c(16);a.exports=d?function(a,b,c){return e.f(a,b,f(1,c))}:function(a,b,c){return a[b]=c,a}},(a,b,c)=>{var d=c(10),e=c(12),f=c(45),g=c(49),h=c(22),i=d.TypeError,j=Object.defineProperty;b.f=e?j:function(a,b,c){if(g(a),b=h(b),g(c),f)try{return j(a,b,c)}catch(d){}if("get"in c||"set"in c)throw i("Accessors not supported");return"value"in c&&(a[b]=c.value),a}},(a,b,c)=>{var d=c(10),e=c(24),f=d.String,g=d.TypeError;a.exports=function(a){if(e(a))return a;throw g(f(a)+" is not an object")}},(a,b,c)=>{var d=c(10),e=c(25),f=c(42),g=c(47),h=c(41),i=c(51),j=c(52),k=c(56).CONFIGURABLE,l=j.get,m=j.enforce,n=String(String).split("String");(a.exports=function(a,b,c,i){var j,l=!!i&&!!i.unsafe,o=!!i&&!!i.enumerable,p=!!i&&!!i.noTargetGet,q=i&& void 0!==i.name?i.name:b;if(e(c)&&("Symbol("===String(q).slice(0,7)&&(q="["+String(q).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!f(c,"name")||k&&c.name!==q)&&g(c,"name",q),(j=m(c)).source||(j.source=n.join("string"==typeof q?q:""))),a===d){o?a[b]=c:h(b,c);return}l?!p&&a[b]&&(o=!0):delete a[b],o?a[b]=c:g(a,b,c)})(Function.prototype,"toString",function(){return e(this)&&l(this).source||i(this)})},(a,b,c)=>{var d=c(19),e=c(25),f=c(40),g=d(Function.toString);e(f.inspectSource)||(f.inspectSource=function(a){return g(a)}),a.exports=f.inspectSource},(a,b,c)=>{var d,e,f,g=c(53),h=c(10),i=c(19),j=c(24),k=c(47),l=c(42),m=c(40),n=c(54),o=c(55),p="Object already initialized",q=h.TypeError,r=h.WeakMap,s=function(a){return f(a)?e(a):d(a,{})},t=function(a){return function(b){var c;if(!j(b)||(c=e(b)).type!==a)throw q("Incompatible receiver, "+a+" required");return c}};if(g||m.state){var u=m.state||(m.state=new r),v=i(u.get),w=i(u.has),x=i(u.set);d=function(a,b){if(w(u,a))throw new q(p);return b.facade=a,x(u,a,b),b},e=function(a){return v(u,a)||{}},f=function(a){return w(u,a)}}else{var y=n("state");o[y]=!0,d=function(a,b){if(l(a,y))throw new q(p);return b.facade=a,k(a,y,b),b},e=function(a){return l(a,y)?a[y]:{}},f=function(a){return l(a,y)}}a.exports={set:d,get:e,has:f,enforce:s,getterFor:t}},(a,b,c)=>{var d=c(10),e=c(25),f=c(51),g=d.WeakMap;a.exports=e(g)&&/native code/.test(f(g))},(a,b,c)=>{var d=c(38),e=c(44),f=d("keys");a.exports=function(a){return f[a]||(f[a]=e(a))}},a=>{a.exports={}},(a,b,c)=>{var d=c(12),e=c(42),f=Function.prototype,g=d&&Object.getOwnPropertyDescriptor,h=e(f,"name"),i=h&&"something"===(function(){}).name,j=h&&(!d||d&&g(f,"name").configurable);a.exports={EXISTS:h,PROPER:i,CONFIGURABLE:j}},(a,b,c)=>{var d=c(42),e=c(58),f=c(11),g=c(48);a.exports=function(a,b){for(var c=e(b),h=g.f,i=f.f,j=0;j<c.length;j++){var k=c[j];d(a,k)||h(a,k,i(b,k))}}},(a,b,c)=>{var d=c(27),e=c(19),f=c(59),g=c(67),h=c(49),i=e([].concat);a.exports=d("Reflect","ownKeys")||function(a){var b=f.f(h(a)),c=g.f;return c?i(b,c(a)):b}},(a,b,c)=>{var d=c(60),e=c(66).concat("length","prototype");b.f=Object.getOwnPropertyNames||function(a){return d(a,e)}},(a,b,c)=>{var d=c(19),e=c(42),f=c(17),g=c(61).indexOf,h=c(55),i=d([].push);a.exports=function(a,b){var c,d=f(a),j=0,k=[];for(c in d)!e(h,c)&&e(d,c)&&i(k,c);for(;b.length>j;)e(d,c=b[j++])&&(~g(k,c)||i(k,c));return k}},(a,b,c)=>{var d=c(17),e=c(62),f=c(64),g=function(a){return function(b,c,g){var h,i=d(b),j=f(i),k=e(g,j);if(a&&c!=c){for(;j>k;)if((h=i[k++])!=h)return!0}else for(;j>k;k++)if((a||k in i)&&i[k]===c)return a||k||0;return!a&& -1}};a.exports={includes:g(!0),indexOf:g(!1)}},(a,b,c)=>{var d=c(63),e=Math.max,f=Math.min;a.exports=function(a,b){var c=d(a);return c<0?e(c+b,0):f(c,b)}},a=>{var b=Math.ceil,c=Math.floor;a.exports=function(a){var d=+a;return d!=d||0===d?0:(d>0?c:b)(d)}},(a,b,c)=>{var d=c(65);a.exports=function(a){return d(a.length)}},(a,b,c)=>{var d=c(63),e=Math.min;a.exports=function(a){return a>0?e(d(a),9007199254740991):0}},a=>{a.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(a,b)=>{b.f=Object.getOwnPropertySymbols},(a,b,c)=>{var d=c(13),e=c(25),f=/#|\.prototype\./,g=function(a,b){var c=i[h(a)];return c==k||c!=j&&(e(b)?d(b):!!b)},h=g.normalize=function(a){return String(a).replace(f,".").toLowerCase()},i=g.data={},j=g.NATIVE="N",k=g.POLYFILL="P";a.exports=g},(a,b,c)=>{"use strict";var d,e;function f(a){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}!function(g,h){"object"===f(b)?a.exports=h():void 0!==(e="function"==typeof(d=h)?d.call(b,c,b,a):d)&&(a.exports=e)}(void 0,function(){function a(a){var b=new l,c=Array.from(a);if(!c.every(function(a){return!Number.isNaN(a)}))throw TypeError('CSSMatrix: "'+a+'" must only have numbers.');if(16===c.length){var d=c[0],e=c[1],f=c[2],g=c[3],h=c[4],i=c[5],j=c[6],k=c[7],m=c[8],n=c[9],o=c[10],p=c[11],q=c[12],r=c[13],s=c[14],t=c[15];b.m11=d,b.a=d,b.m21=h,b.c=h,b.m31=m,b.m41=q,b.e=q,b.m12=e,b.b=e,b.m22=i,b.d=i,b.m32=n,b.m42=r,b.f=r,b.m13=f,b.m23=j,b.m33=o,b.m43=s,b.m14=g,b.m24=k,b.m34=p,b.m44=t}else if(6===c.length){var u=c[0],v=c[1],w=c[2],x=c[3],y=c[4],z=c[5];b.m11=u,b.a=u,b.m12=v,b.b=v,b.m21=w,b.c=w,b.m22=x,b.d=x,b.m41=y,b.e=y,b.m42=z,b.f=z}else throw TypeError("CSSMatrix: expecting an Array of 6/16 values.");return b}function b(b){var c=Object.keys(new l);if("object"===f(b)&&c.every(function(a){return a in b}))return a([b.m11,b.m12,b.m13,b.m14,b.m21,b.m22,b.m23,b.m24,b.m31,b.m32,b.m33,b.m34,b.m41,b.m42,b.m43,b.m44]);throw TypeError('CSSMatrix: "'+b+'" is not a DOMMatrix / CSSMatrix / JSON compatible object.')}function c(b){if("string"!=typeof b)throw TypeError('CSSMatrix: "'+b+'" is not a string.');var c=String(b).replace(/\s/g,""),d=new l,e='CSSMatrix: invalid transform string "'+b+'"';return c.split(")").filter(function(a){return a}).forEach(function(b){var c=b.split("("),f=c[0],g=c[1];if(!g)throw TypeError(e);var h=g.split(",").map(function(a){return a.includes("rad")?parseFloat(a)*(180/Math.PI):parseFloat(a)}),i=h[0],j=h[1],k=h[2],l=h[3],m=[i,j,k],n=[i,j,k,l];if("perspective"===f&&i&&[j,k].every(function(a){return void 0===a}))d.m34=-1/i;else if(f.includes("matrix")&&[6,16].includes(h.length)&&h.every(function(a){return!Number.isNaN(+a)})){var o=h.map(function(a){return 1e-6>Math.abs(a)?0:a});d=d.multiply(a(o))}else if("translate3d"===f&&m.every(function(a){return!Number.isNaN(+a)}))d=d.translate(i,j,k);else if("translate"===f&&i&& void 0===k)d=d.translate(i,j||0,0);else if("rotate3d"===f&&n.every(function(a){return!Number.isNaN(+a)})&&l)d=d.rotateAxisAngle(i,j,k,l);else if("rotate"===f&&i&&[j,k].every(function(a){return void 0===a}))d=d.rotate(0,0,i);else if("scale3d"===f&&m.every(function(a){return!Number.isNaN(+a)})&&m.some(function(a){return 1!==a}))d=d.scale(i,j,k);else if("scale"!==f||Number.isNaN(i)||1===i|| void 0!==k){if("skew"===f&&i&& void 0===k)d=d.skewX(i),d=j?d.skewY(j):d;else if(/[XYZ]/.test(f)&&i&&[j,k].every(function(a){return void 0===a})&&["translate","rotate","scale","skew"].some(function(a){return f.includes(a)})){if(["skewX","skewY"].includes(f))d=d[f](i);else{var p=f.replace(/[XYZ]/,""),q=["X","Y","Z"].indexOf(f.replace(p,"")),r=[0===q?i:0,1===q?i:0,2===q?i:0];d=d[p].apply(d,r)}}else throw TypeError(e)}else{var s=Number.isNaN(+j)?i:j;d=d.scale(i,s,1)}}),d}function d(a,b,c){var d=new l;return d.m41=a,d.e=a,d.m42=b,d.f=b,d.m43=c,d}function e(a,b,c){var d=new l,e=Math.PI/180,f=a*e,g=b*e,h=c*e,i=Math.cos(f),j=-Math.sin(f),k=Math.cos(g),m=-Math.sin(g),n=Math.cos(h),o=-Math.sin(h),p=k*n,q=-k*o;d.m11=p,d.a=p,d.m12=q,d.b=q,d.m13=m;var r=j*m*n+i*o;d.m21=r,d.c=r;var s=i*n-j*m*o;return d.m22=s,d.d=s,d.m23=-j*k,d.m31=j*o-i*m*n,d.m32=j*n+i*m*o,d.m33=i*k,d}function g(a,b,c,d){var e=new l,f=d*(Math.PI/360),g=Math.sin(f),h=Math.cos(f),i=g*g,j=Math.sqrt(a*a+b*b+c*c),k=a,m=b,n=c;0===j?(k=0,m=0,n=1):(k/=j,m/=j,n/=j);var o=k*k,p=m*m,q=n*n,r=1-2*(p+q)*i;e.m11=r,e.a=r;var s=2*(k*m*i+n*g*h);e.m12=s,e.b=s,e.m13=2*(k*n*i-m*g*h);var t=2*(m*k*i-n*g*h);e.m21=t,e.c=t;var u=1-2*(q+o)*i;return e.m22=u,e.d=u,e.m23=2*(m*n*i+k*g*h),e.m31=2*(n*k*i+m*g*h),e.m32=2*(n*m*i-k*g*h),e.m33=1-2*(o+p)*i,e}function h(a,b,c){var d=new l;return d.m11=a,d.a=a,d.m22=b,d.d=b,d.m33=c,d}function i(a){var b=new l,c=a*Math.PI/180,d=Math.tan(c);return b.m21=d,b.c=d,b}function j(a){var b=new l,c=a*Math.PI/180,d=Math.tan(c);return b.m12=d,b.b=d,b}function k(b,c){var d=c.m11*b.m11+c.m12*b.m21+c.m13*b.m31+c.m14*b.m41,e=c.m11*b.m12+c.m12*b.m22+c.m13*b.m32+c.m14*b.m42,f=c.m11*b.m13+c.m12*b.m23+c.m13*b.m33+c.m14*b.m43,g=c.m11*b.m14+c.m12*b.m24+c.m13*b.m34+c.m14*b.m44,h=c.m21*b.m11+c.m22*b.m21+c.m23*b.m31+c.m24*b.m41,i=c.m21*b.m12+c.m22*b.m22+c.m23*b.m32+c.m24*b.m42,j=c.m21*b.m13+c.m22*b.m23+c.m23*b.m33+c.m24*b.m43,k=c.m21*b.m14+c.m22*b.m24+c.m23*b.m34+c.m24*b.m44,l=c.m31*b.m11+c.m32*b.m21+c.m33*b.m31+c.m34*b.m41,m=c.m31*b.m12+c.m32*b.m22+c.m33*b.m32+c.m34*b.m42,n=c.m31*b.m13+c.m32*b.m23+c.m33*b.m33+c.m34*b.m43,o=c.m31*b.m14+c.m32*b.m24+c.m33*b.m34+c.m34*b.m44,p=c.m41*b.m11+c.m42*b.m21+c.m43*b.m31+c.m44*b.m41,q=c.m41*b.m12+c.m42*b.m22+c.m43*b.m32+c.m44*b.m42,r=c.m41*b.m13+c.m42*b.m23+c.m43*b.m33+c.m44*b.m43,s=c.m41*b.m14+c.m42*b.m24+c.m43*b.m34+c.m44*b.m44;return a([d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s])}var l=function(){for(var a=[],b=arguments.length;b--;)a[b]=arguments[b];var c=this;if(c.a=1,c.b=0,c.c=0,c.d=1,c.e=0,c.f=0,c.m11=1,c.m12=0,c.m13=0,c.m14=0,c.m21=0,c.m22=1,c.m23=0,c.m24=0,c.m31=0,c.m32=0,c.m33=1,c.m34=0,c.m41=0,c.m42=0,c.m43=0,c.m44=1,a&&a.length){var d=[16,6].some(function(b){return b===a.length})?a:a[0];return c.setMatrixValue(d)}return c},m={isIdentity:{configurable:!0},is2D:{configurable:!0}};return m.isIdentity.set=function(a){this.isIdentity=a},m.isIdentity.get=function(){var a=this;return 1===a.m11&&0===a.m12&&0===a.m13&&0===a.m14&&0===a.m21&&1===a.m22&&0===a.m23&&0===a.m24&&0===a.m31&&0===a.m32&&1===a.m33&&0===a.m34&&0===a.m41&&0===a.m42&&0===a.m43&&1===a.m44},m.is2D.get=function(){var a=this;return 0===a.m31&&0===a.m32&&1===a.m33&&0===a.m34&&0===a.m43&&1===a.m44},m.is2D.set=function(a){this.is2D=a},l.prototype.setMatrixValue=function(d){var e=this;return[Array,Float64Array,Float32Array].some(function(a){return d instanceof a})?a(d):"string"==typeof d&&d.length&&"none"!==d?c(d):"object"===f(d)?b(d):e},l.prototype.toArray=function(){var a,b=this,c=1e6;return(a=b.is2D?[b.a,b.b,b.c,b.d,b.e,b.f]:[b.m11,b.m12,b.m13,b.m14,b.m21,b.m22,b.m23,b.m24,b.m31,b.m32,b.m33,b.m34,b.m41,b.m42,b.m43,b.m44]).map(function(a){return 1e-6>Math.abs(a)?0:(a*c>>0)/c})},l.prototype.toString=function(){var a=this,b=a.toArray(),c=a.is2D?"matrix":"matrix3d";return c+"("+b+")"},l.prototype.toJSON=function(){var a=this,b=a.is2D,c=a.isIdentity;return Object.assign({},a,{is2D:b,isIdentity:c})},l.prototype.multiply=function(a){return k(this,a)},l.prototype.translate=function(a,b,c){var e=b,f=c;return void 0===f&&(f=0),void 0===e&&(e=0),k(this,d(a,e,f))},l.prototype.scale=function(a,b,c){var d=a,e=b,f=c;return void 0===e&&(e=a),void 0===f&&(f=1),k(this,h(d,e,f))},l.prototype.rotate=function(a,b,c){var d=a,f=b,g=c;return void 0===f&&(f=0),void 0===g&&(g=d,d=0),k(this,e(d,f,g))},l.prototype.rotateAxisAngle=function(a,b,c,d){if([a,b,c,d].some(function(a){return Number.isNaN(a)}))throw TypeError("CSSMatrix: expecting 4 values");return k(this,g(a,b,c,d))},l.prototype.skewX=function(a){return k(this,i(a))},l.prototype.skewY=function(a){return k(this,j(a))},l.prototype.transformPoint=function(a){var b=this,c=d(a.x,a.y,a.z);return c.m44=a.w||1,{x:(c=b.multiply(c)).m41,y:c.m42,z:c.m43,w:c.m44}},l.prototype.transform=function(a){var b=this,c=b.m11*a.x+b.m12*a.y+b.m13*a.z+b.m14*a.w,d=b.m21*a.x+b.m22*a.y+b.m23*a.z+b.m24*a.w,e=b.m31*a.x+b.m32*a.y+b.m33*a.z+b.m34*a.w,f=b.m41*a.x+b.m42*a.y+b.m43*a.z+b.m44*a.w;return{x:c/f,y:d/f,z:e/f,w:f}},Object.defineProperties(l.prototype,m),Object.assign(l,{Translate:d,Rotate:e,RotateAxisAngle:g,Scale:h,SkewX:i,SkewY:j,Multiply:k,fromArray:a,fromMatrix:b,fromString:c}),Object.assign(l,{Version:"0.0.24"}),l})},(a,b,c)=>{c(71),c(86);var d=c(96);a.exports=d.Object.fromEntries},(a,b,c)=>{"use strict";var d=c(17),e=c(72),f=c(77),g=c(52),h=c(78),i="Array Iterator",j=g.set,k=g.getterFor(i);a.exports=h(Array,"Array",function(a,b){j(this,{type:i,target:d(a),index:0,kind:b})},function(){var a=k(this),b=a.target,c=a.kind,d=a.index++;return!b||d>=b.length?(a.target=void 0,{value:void 0,done:!0}):"keys"==c?{value:d,done:!1}:"values"==c?{value:b[d],done:!1}:{value:[d,b[d]],done:!1}},"values"),f.Arguments=f.Array,e("keys"),e("values"),e("entries")},(a,b,c)=>{var d=c(37),e=c(73),f=c(48),g=d("unscopables"),h=Array.prototype;void 0==h[g]&&f.f(h,g,{configurable:!0,value:e(null)}),a.exports=function(a){h[g][a]=!0}},(a,b,c)=>{var d,e=c(49),f=c(74),g=c(66),h=c(55),i=c(76),j=c(46),k=c(54),l=">",m="<",n="prototype",o="script",p=k("IE_PROTO"),q=function(){},r=function(a){return m+o+l+a+m+"/"+o+l},s=function(a){a.write(r("")),a.close();var b=a.parentWindow.Object;return a=null,b},t=function(){var a,b=j("iframe"),c="java"+o+":";return b.style.display="none",i.appendChild(b),b.src=String(c),(a=b.contentWindow.document).open(),a.write(r("document.F=Object")),a.close(),a.F},u=function(){try{d=new ActiveXObject("htmlfile")}catch(a){}u="undefined"!=typeof document?document.domain&&d?s(d):t():s(d);for(var b=g.length;b--;)delete u[n][g[b]];return u()};h[p]=!0,a.exports=Object.create||function(a,b){var c;return null!==a?(q[n]=e(a),c=new q,q[n]=null,c[p]=a):c=u(),void 0===b?c:f(c,b)}},(a,b,c)=>{var d=c(12),e=c(48),f=c(49),g=c(17),h=c(75);a.exports=d?Object.defineProperties:function(a,b){f(a);for(var c,d=g(b),i=h(b),j=i.length,k=0;j>k;)e.f(a,c=i[k++],d[c]);return a}},(a,b,c)=>{var d=c(60),e=c(66);a.exports=Object.keys||function(a){return d(a,e)}},(a,b,c)=>{var d=c(27);a.exports=d("document","documentElement")},a=>{a.exports={}},(a,b,c)=>{"use strict";var d=c(9),e=c(14),f=c(39),g=c(56),h=c(25),i=c(79),j=c(81),k=c(84),l=c(83),m=c(47),n=c(50),o=c(37),p=c(77),q=c(80),r=g.PROPER,s=g.CONFIGURABLE,t=q.IteratorPrototype,u=q.BUGGY_SAFARI_ITERATORS,v=o("iterator"),w="keys",x="values",y="entries",z=function(){return this};a.exports=function(a,b,c,g,o,q,A){i(c,b,g);var B,C,D,E=function(a){if(a===o&&J)return J;if(!u&&a in H)return H[a];switch(a){case w:case x:case y:return function(){return new c(this,a)}}return function(){return new c(this)}},F=b+" Iterator",G=!1,H=a.prototype,I=H[v]||H["@@iterator"]||o&&H[o],J=!u&&I||E(o),K="Array"==b&&H.entries||I;if(K&&(B=j(K.call(new a)))!==Object.prototype&&B.next&&(f||j(B)===t||(k?k(B,t):h(B[v])||n(B,v,z)),l(B,F,!0,!0),f&&(p[F]=z)),r&&o==x&&I&&I.name!==x&&(!f&&s?m(H,"name",x):(G=!0,J=function(){return e(I,this)})),o){if(C={values:E(x),keys:q?J:E(w),entries:E(y)},A)for(D in C)!u&&!G&&D in H||n(H,D,C[D]);else d({target:b,proto:!0,forced:u||G},C)}return(!f||A)&&H[v]!==J&&n(H,v,J,{name:o}),p[b]=J,C}},(a,b,c)=>{"use strict";var d=c(80).IteratorPrototype,e=c(73),f=c(16),g=c(83),h=c(77),i=function(){return this};a.exports=function(a,b,c,j){var k=b+" Iterator";return a.prototype=e(d,{next:f(+!j,c)}),g(a,k,!1,!0),h[k]=i,a}},(a,b,c)=>{"use strict";var d,e,f,g=c(13),h=c(25),i=c(73),j=c(81),k=c(50),l=c(37),m=c(39),n=l("iterator"),o=!1;[].keys&&("next"in(f=[].keys())?(e=j(j(f)))!==Object.prototype&&(d=e):o=!0);var p=void 0==d||g(function(){var a={};return d[n].call(a)!==a});p?d={}:m&&(d=i(d)),h(d[n])||k(d,n,function(){return this}),a.exports={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:o}},(a,b,c)=>{var d=c(10),e=c(42),f=c(25),g=c(43),h=c(54),i=c(82),j=h("IE_PROTO"),k=d.Object,l=k.prototype;a.exports=i?k.getPrototypeOf:function(a){var b=g(a);if(e(b,j))return b[j];var c=b.constructor;return f(c)&&b instanceof c?c.prototype:b instanceof k?l:null}},(a,b,c)=>{var d=c(13);a.exports=!d(function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype})},(a,b,c)=>{var d=c(48).f,e=c(42),f=c(37)("toStringTag");a.exports=function(a,b,c){a&&!e(a=c?a:a.prototype,f)&&d(a,f,{configurable:!0,value:b})}},(a,b,c)=>{var d=c(19),e=c(49),f=c(85);a.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var a,b=!1,c={};try{(a=d(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(c,[]),b=c instanceof Array}catch(g){}return function(c,d){return e(c),f(d),b?a(c,d):c.__proto__=d,c}}():void 0)},(a,b,c)=>{var d=c(10),e=c(25),f=d.String,g=d.TypeError;a.exports=function(a){if("object"==typeof a||e(a))return a;throw g("Can't set "+f(a)+" as a prototype")}},(a,b,c)=>{var d=c(9),e=c(87),f=c(95);d({target:"Object",stat:!0},{fromEntries:function(a){var b={};return e(a,function(a,c){f(b,a,c)},{AS_ENTRIES:!0}),b}})},(a,b,c)=>{var d=c(10),e=c(88),f=c(14),g=c(49),h=c(35),i=c(89),j=c(64),k=c(28),l=c(90),m=c(91),n=c(94),o=d.TypeError,p=function(a,b){this.stopped=a,this.result=b},q=p.prototype;a.exports=function(a,b,c){var d,r,s,t,u,v,w,x=c&&c.that,y=!!(c&&c.AS_ENTRIES),z=!!(c&&c.IS_ITERATOR),A=!!(c&&c.INTERRUPTED),B=e(b,x),C=function(a){return d&&n(d,"normal",a),new p(!0,a)},D=function(a){return y?(g(a),A?B(a[0],a[1],C):B(a[0],a[1])):A?B(a,C):B(a)};if(z)d=a;else{if(!(r=m(a)))throw o(h(a)+" is not iterable");if(i(r)){for(s=0,t=j(a);t>s;s++)if((u=D(a[s]))&&k(q,u))return u;return new p(!1)}d=l(a,r)}for(v=d.next;!(w=f(v,d)).done;){try{u=D(w.value)}catch(E){n(d,"throw",E)}if("object"==typeof u&&u&&k(q,u))return u}return new p(!1)}},(a,b,c)=>{var d=c(19),e=c(34),f=d(d.bind);a.exports=function(a,b){return e(a),void 0===b?a:f?f(a,b):function(){return a.apply(b,arguments)}}},(a,b,c)=>{var d=c(37),e=c(77),f=d("iterator"),g=Array.prototype;a.exports=function(a){return void 0!==a&&(e.Array===a||g[f]===a)}},(a,b,c)=>{var d=c(10),e=c(14),f=c(34),g=c(49),h=c(35),i=c(91),j=d.TypeError;a.exports=function(a,b){var c=arguments.length<2?i(a):b;if(f(c))return g(e(c,a));throw j(h(a)+" is not iterable")}},(a,b,c)=>{var d=c(92),e=c(33),f=c(77),g=c(37)("iterator");a.exports=function(a){if(void 0!=a)return e(a,g)||e(a,"@@iterator")||f[d(a)]}},(a,b,c)=>{var d=c(10),e=c(93),f=c(25),g=c(20),h=c(37),i=h("toStringTag"),j=d.Object,k="Arguments"==g(function(){return arguments}()),l=function(a,b){try{return a[b]}catch(c){}};a.exports=e?g:function(a){var b,c,d;return void 0===a?"Undefined":null===a?"Null":"string"==typeof(c=l(b=j(a),i))?c:k?g(b):"Object"==(d=g(b))&&f(b.callee)?"Arguments":d}},(a,b,c)=>{var d=c(37)("toStringTag"),e={};e[d]="z",a.exports="[object z]"===String(e)},(a,b,c)=>{var d=c(14),e=c(49),f=c(33);a.exports=function(a,b,c){var g,h;e(a);try{if(!(g=f(a,"return"))){if("throw"===b)throw c;return c}g=d(g,a)}catch(i){h=!0,g=i}if("throw"===b)throw c;if(h)throw g;return e(g),c}},(a,b,c)=>{"use strict";var d=c(22),e=c(48),f=c(16);a.exports=function(a,b,c){var g=d(b);g in a?e.f(a,g,f(0,c)):a[g]=c}},(a,b,c)=>{var d=c(10);a.exports=d},(a,b,c)=>{c(98),c(71),c(105),c(107),c(129),c(130),c(131),c(132);var d=c(96);a.exports=d.Promise},(a,b,c)=>{"use strict";var d=c(9),e=c(10),f=c(28),g=c(81),h=c(84),i=c(57),j=c(73),k=c(47),l=c(16),m=c(99),n=c(101),o=c(87),p=c(102),q=c(37),r=c(104),s=q("toStringTag"),t=e.Error,u=[].push,v=function(a,b){var c,d=arguments.length>2?arguments[2]:void 0,e=f(w,this);h?c=h(new t(void 0),e?g(this):w):(c=e?this:j(w),k(c,s,"Error")),k(c,"message",p(b,"")),r&&k(c,"stack",m(c.stack,1)),n(c,d);var i=[];return o(a,u,{that:i}),k(c,"errors",i),c};h?h(v,t):i(v,t);var w=v.prototype=j(t.prototype,{constructor:l(1,v),message:l(1,""),name:l(1,"AggregateError")});d({global:!0},{AggregateError:v})},(a,b,c)=>{var d,e=c(19),f=c(100),g=e("".replace),h=e("".split),i=e([].join),j=String(Error(d="zxcasd").stack),k=/\n\s*at [^:]*:[^\n]*/,l=k.test(j),m=/@[^\n]*\n/.test(j)&&!/zxcasd/.test(j);a.exports=function(a,b){if("string"!=typeof a)return a;if(l)for(;b--;)a=g(a,k,"");else if(m)return i(f(h(a,"\n"),b),"\n");return a}},(a,b,c)=>{var d=c(10),e=c(62),f=c(64),g=c(95),h=d.Array,i=Math.max;a.exports=function(a,b,c){for(var d=f(a),j=e(b,d),k=e(void 0===c?d:c,d),l=h(i(k-j,0)),m=0;j<k;j++,m++)g(l,m,a[j]);return l.length=m,l}},(a,b,c)=>{var d=c(24),e=c(47);a.exports=function(a,b){d(b)&&"cause"in b&&e(a,"cause",b.cause)}},(a,b,c)=>{var d=c(103);a.exports=function(a,b){return void 0===a?arguments.length<2?"":b:d(a)}},(a,b,c)=>{var d=c(10),e=c(92),f=d.String;a.exports=function(a){if("Symbol"===e(a))throw TypeError("Cannot convert a Symbol value to a string");return f(a)}},(a,b,c)=>{var d=c(13),e=c(16);a.exports=!d(function(){var a=Error("a");return!("stack"in a)||(Object.defineProperty(a,"stack",e(1,7)),7!==a.stack)})},(a,b,c)=>{var d=c(93),e=c(50),f=c(106);d||e(Object.prototype,"toString",f,{unsafe:!0})},(a,b,c)=>{"use strict";var d=c(93),e=c(92);a.exports=d?({}).toString:function(){return"[object "+e(this)+"]"}},(a,b,c)=>{"use strict";var d,e,f,g,h=c(9),i=c(39),j=c(10),k=c(27),l=c(14),m=c(108),n=c(50),o=c(109),p=c(84),q=c(83),r=c(110),s=c(34),t=c(25),u=c(24),v=c(111),w=c(51),x=c(87),y=c(112),z=c(113),A=c(116).set,B=c(121),C=c(124),D=c(126),E=c(125),F=c(127),G=c(52),H=c(68),I=c(37),J=c(128),K=c(120),L=c(31),M=I("species"),N="Promise",O=G.getterFor(N),P=G.set,Q=G.getterFor(N),R=m&&m.prototype,S=m,T=R,U=j.TypeError,V=j.document,W=j.process,X=E.f,Y=X,Z=!!(V&&V.createEvent&&j.dispatchEvent),$=t(j.PromiseRejectionEvent),_="unhandledrejection",aa="rejectionhandled",ab=0,ac=1,ad=2,ae=1,af=2,ag=!1,ah=H(N,function(){var a=w(S),b=a!==String(S);if(!b&&66===L||i&&!T.finally)return!0;if(L>=51&&/native code/.test(a))return!1;var c=new S(function(a){a(1)}),d=function(a){a(function(){},function(){})};return(c.constructor={})[M]=d,!(ag=c.then(function(){}) instanceof d)|| !b&&J&&!$}),ai=ah||!y(function(a){S.all(a).catch(function(){})}),aj=function(a){var b;return!!(u(a)&&t(b=a.then))&&b},ak=function(a,b){if(!a.notified){a.notified=!0;var c=a.reactions;B(function(){for(var d=a.value,e=a.state==ac,f=0;c.length>f;){var g,h,i,j=c[f++],k=e?j.ok:j.fail,m=j.resolve,n=j.reject,o=j.domain;try{k?(e||(a.rejection===af&&ao(a),a.rejection=ae),!0===k?g=d:(o&&o.enter(),g=k(d),o&&(o.exit(),i=!0)),g===j.promise?n(U("Promise-chain cycle")):(h=aj(g))?l(h,g,m,n):m(g)):n(d)}catch(p){o&&!i&&o.exit(),n(p)}}a.reactions=[],a.notified=!1,b&&!a.rejection&&am(a)})}},al=function(a,b,c){var d,e;Z?((d=V.createEvent("Event")).promise=b,d.reason=c,d.initEvent(a,!1,!0),j.dispatchEvent(d)):d={promise:b,reason:c},!$&&(e=j["on"+a])?e(d):a===_&&D("Unhandled promise rejection",c)},am=function(a){l(A,j,function(){var b,c=a.facade,d=a.value;if(an(a)&&(b=F(function(){K?W.emit("unhandledRejection",d,c):al(_,c,d)}),a.rejection=K||an(a)?af:ae,b.error))throw b.value})},an=function(a){return a.rejection!==ae&&!a.parent},ao=function(a){l(A,j,function(){var b=a.facade;K?W.emit("rejectionHandled",b):al(aa,b,a.value)})},ap=function(a,b,c){return function(d){a(b,d,c)}},aq=function(a,b,c){a.done||(a.done=!0,c&&(a=c),a.value=b,a.state=ad,ak(a,!0))},ar=function(a,b,c){if(!a.done){a.done=!0,c&&(a=c);try{if(a.facade===b)throw U("Promise can't be resolved itself");var d=aj(b);d?B(function(){var c={done:!1};try{l(d,b,ap(ar,c,a),ap(aq,c,a))}catch(e){aq(c,e,a)}}):(a.value=b,a.state=ac,ak(a,!1))}catch(e){aq({done:!1},e,a)}}};if(ah&&(T=(S=function(a){v(this,T),s(a),l(d,this);var b=O(this);try{a(ap(ar,b),ap(aq,b))}catch(c){aq(b,c)}}).prototype,(d=function(a){P(this,{type:N,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:ab,value:void 0})}).prototype=o(T,{then:function(a,b){var c=Q(this),d=c.reactions,e=X(z(this,S));return e.ok=!t(a)||a,e.fail=t(b)&&b,e.domain=K?W.domain:void 0,c.parent=!0,d[d.length]=e,c.state!=ab&&ak(c,!1),e.promise},catch:function(a){return this.then(void 0,a)}}),e=function(){var a=new d,b=O(a);this.promise=a,this.resolve=ap(ar,b),this.reject=ap(aq,b)},E.f=X=function(a){return a===S||a===f?new e(a):Y(a)},!i&&t(m)&&R!==Object.prototype)){g=R.then,ag||(n(R,"then",function(a,b){var c=this;return new S(function(a,b){l(g,c,a,b)}).then(a,b)},{unsafe:!0}),n(R,"catch",T.catch,{unsafe:!0}));try{delete R.constructor}catch(as){}p&&p(R,T)}h({global:!0,wrap:!0,forced:ah},{Promise:S}),q(S,N,!1,!0),r(N),f=k(N),h({target:N,stat:!0,forced:ah},{reject:function(a){var b=X(this);return l(b.reject,void 0,a),b.promise}}),h({target:N,stat:!0,forced:i||ah},{resolve:function(a){return C(i&&this===f?S:this,a)}}),h({target:N,stat:!0,forced:ai},{all:function(a){var b=this,c=X(b),d=c.resolve,e=c.reject,f=F(function(){var c=s(b.resolve),f=[],g=0,h=1;x(a,function(a){var i=g++,j=!1;h++,l(c,b,a).then(function(a){!j&&(j=!0,f[i]=a,--h||d(f))},e)}),--h||d(f)});return f.error&&e(f.value),c.promise},race:function(a){var b=this,c=X(b),d=c.reject,e=F(function(){var e=s(b.resolve);x(a,function(a){l(e,b,a).then(c.resolve,d)})});return e.error&&d(e.value),c.promise}})},(a,b,c)=>{var d=c(10);a.exports=d.Promise},(a,b,c)=>{var d=c(50);a.exports=function(a,b,c){for(var e in b)d(a,e,b[e],c);return a}},(a,b,c)=>{"use strict";var d=c(27),e=c(48),f=c(37),g=c(12),h=f("species");a.exports=function(a){var b=d(a),c=e.f;g&&b&&!b[h]&&c(b,h,{configurable:!0,get:function(){return this}})}},(a,b,c)=>{var d=c(10),e=c(28),f=d.TypeError;a.exports=function(a,b){if(e(b,a))return a;throw f("Incorrect invocation")}},(a,b,c)=>{var d=c(37)("iterator"),e=!1;try{var f=0,g={next:function(){return{done:!!f++}},return:function(){e=!0}};g[d]=function(){return this},Array.from(g,function(){throw 2})}catch(h){}a.exports=function(a,b){if(!b&&!e)return!1;var c=!1;try{var f={};f[d]=function(){return{next:function(){return{done:c=!0}}}},a(f)}catch(g){}return c}},(a,b,c)=>{var d=c(49),e=c(114),f=c(37)("species");a.exports=function(a,b){var c,g=d(a).constructor;return void 0===g|| void 0==(c=d(g)[f])?b:e(c)}},(a,b,c)=>{var d=c(10),e=c(115),f=c(35),g=d.TypeError;a.exports=function(a){if(e(a))return a;throw g(f(a)+" is not a constructor")}},(a,b,c)=>{var d=c(19),e=c(13),f=c(25),g=c(92),h=c(27),i=c(51),j=function(){},k=[],l=h("Reflect","construct"),m=/^\s*(?:class|function)\b/,n=d(m.exec),o=!m.exec(j),p=function(a){if(!f(a))return!1;try{return l(j,k,a),!0}catch(b){return!1}},q=function(a){if(!f(a))return!1;switch(g(a)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return o||!!n(m,i(a))};a.exports=!l||e(function(){var a;return p(p.call)||!p(Object)||!p(function(){a=!0})||a})?q:p},(a,b,c)=>{var d,e,f,g,h=c(10),i=c(117),j=c(88),k=c(25),l=c(42),m=c(13),n=c(76),o=c(118),p=c(46),q=c(119),r=c(120),s=h.setImmediate,t=h.clearImmediate,u=h.process,v=h.Dispatch,w=h.Function,x=h.MessageChannel,y=h.String,z=0,A={},B="onreadystatechange";try{d=h.location}catch(C){}var D=function(a){if(l(A,a)){var b=A[a];delete A[a],b()}},E=function(a){return function(){D(a)}},F=function(a){D(a.data)},G=function(a){h.postMessage(y(a),d.protocol+"//"+d.host)};s&&t||(s=function(a){var b=o(arguments,1);return A[++z]=function(){i(k(a)?a:w(a),void 0,b)},e(z),z},t=function(a){delete A[a]},r?e=function(a){u.nextTick(E(a))}:v&&v.now?e=function(a){v.now(E(a))}:x&&!q?(g=(f=new x).port2,f.port1.onmessage=F,e=j(g.postMessage,g)):h.addEventListener&&k(h.postMessage)&&!h.importScripts&&d&&"file:"!==d.protocol&&!m(G)?(e=G,h.addEventListener("message",F,!1)):e=B in p("script")?function(a){n.appendChild(p("script"))[B]=function(){n.removeChild(this),D(a)}}:function(a){setTimeout(E(a),0)}),a.exports={set:s,clear:t}},a=>{var b=Function.prototype,c=b.apply,d=b.bind,e=b.call;a.exports="object"==typeof Reflect&&Reflect.apply||(d?e.bind(c):function(){return e.apply(c,arguments)})},(a,b,c)=>{var d=c(19);a.exports=d([].slice)},(a,b,c)=>{var d=c(32);a.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(d)},(a,b,c)=>{var d=c(20),e=c(10);a.exports="process"==d(e.process)},(a,b,c)=>{var d,e,f,g,h,i,j,k,l=c(10),m=c(88),n=c(11).f,o=c(116).set,p=c(119),q=c(122),r=c(123),s=c(120),t=l.MutationObserver||l.WebKitMutationObserver,u=l.document,v=l.process,w=l.Promise,x=n(l,"queueMicrotask"),y=x&&x.value;y||(d=function(){var a,b;for(s&&(a=v.domain)&&a.exit();e;){b=e.fn,e=e.next;try{b()}catch(c){throw e?g():f=void 0,c}}f=void 0,a&&a.enter()},p||s||r||!t||!u?!q&&w&&w.resolve?((j=w.resolve(void 0)).constructor=w,k=m(j.then,j),g=function(){k(d)}):s?g=function(){v.nextTick(d)}:(o=m(o,l),g=function(){o(d)}):(h=!0,i=u.createTextNode(""),new t(d).observe(i,{characterData:!0}),g=function(){i.data=h=!h})),a.exports=y||function(a){var b={fn:a,next:void 0};f&&(f.next=b),e||(e=b,g()),f=b}},(a,b,c)=>{var d=c(32),e=c(10);a.exports=/ipad|iphone|ipod/i.test(d)&& void 0!==e.Pebble},(a,b,c)=>{var d=c(32);a.exports=/web0s(?!.*chrome)/i.test(d)},(a,b,c)=>{var d=c(49),e=c(24),f=c(125);a.exports=function(a,b){if(d(a),e(b)&&b.constructor===a)return b;var c=f.f(a);return(0,c.resolve)(b),c.promise}},(a,b,c)=>{"use strict";var d=c(34),e=function(a){var b,c;this.promise=new a(function(a,d){if(void 0!==b|| void 0!==c)throw TypeError("Bad Promise constructor");b=a,c=d}),this.resolve=d(b),this.reject=d(c)};a.exports.f=function(a){return new e(a)}},(a,b,c)=>{var d=c(10);a.exports=function(a,b){var c=d.console;c&&c.error&&(1==arguments.length?c.error(a):c.error(a,b))}},a=>{a.exports=function(a){try{return{error:!1,value:a()}}catch(b){return{error:!0,value:b}}}},a=>{a.exports="object"==typeof window},(a,b,c)=>{"use strict";var d=c(9),e=c(14),f=c(34),g=c(125),h=c(127),i=c(87);d({target:"Promise",stat:!0},{allSettled:function(a){var b=this,c=g.f(b),d=c.resolve,j=c.reject,k=h(function(){var c=f(b.resolve),g=[],h=0,j=1;i(a,function(a){var f=h++,i=!1;j++,e(c,b,a).then(function(a){!i&&(i=!0,g[f]={status:"fulfilled",value:a},--j||d(g))},function(a){!i&&(i=!0,g[f]={status:"rejected",reason:a},--j||d(g))})}),--j||d(g)});return k.error&&j(k.value),c.promise}})},(a,b,c)=>{"use strict";var d=c(9),e=c(34),f=c(27),g=c(14),h=c(125),i=c(127),j=c(87),k="No one promise resolved";d({target:"Promise",stat:!0},{any:function(a){var b=this,c=f("AggregateError"),d=h.f(b),l=d.resolve,m=d.reject,n=i(function(){var d=e(b.resolve),f=[],h=0,i=1,n=!1;j(a,function(a){var e=h++,j=!1;i++,g(d,b,a).then(function(a){j||n||(n=!0,l(a))},function(a){!j&&!n&&(j=!0,f[e]=a,--i||m(new c(f,k)))})}),--i||m(new c(f,k))});return n.error&&m(n.value),d.promise}})},(a,b,c)=>{"use strict";var d=c(9),e=c(39),f=c(108),g=c(13),h=c(27),i=c(25),j=c(113),k=c(124),l=c(50),m=!!f&&g(function(){f.prototype.finally.call({then:function(){}},function(){})});if(d({target:"Promise",proto:!0,real:!0,forced:m},{finally:function(a){var b=j(this,h("Promise")),c=i(a);return this.then(c?function(c){return k(b,a()).then(function(){return c})}:a,c?function(c){return k(b,a()).then(function(){throw c})}:a)}}),!e&&i(f)){var n=h("Promise").prototype.finally;f.prototype.finally!==n&&l(f.prototype,"finally",n,{unsafe:!0})}},(a,b,c)=>{"use strict";var d=c(133).charAt,e=c(103),f=c(52),g=c(78),h="String Iterator",i=f.set,j=f.getterFor(h);g(String,"String",function(a){i(this,{type:h,string:e(a),index:0})},function(){var a,b=j(this),c=b.string,e=b.index;return e>=c.length?{value:void 0,done:!0}:(a=d(c,e),b.index+=a.length,{value:a,done:!1})})},(a,b,c)=>{var d=c(19),e=c(63),f=c(103),g=c(21),h=d("".charAt),i=d("".charCodeAt),j=d("".slice),k=function(a){return function(b,c){var d,k,l=f(g(b)),m=e(c),n=l.length;return m<0||m>=n?a?"":void 0:(d=i(l,m))<55296||d>56319||m+1===n||(k=i(l,m+1))<56320||k>57343?a?h(l,m):d:a?j(l,m,m+2):(d-55296<<10)+(k-56320)+65536}};a.exports={codeAt:k(!1),charAt:k(!0)}},function(a,b){!function(a,c){c(b)}(this,function(a){"use strict";var b,c,d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(a){return"Symbol("+a+")"};function e(){}function f(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:void 0}var g=f();function h(a){return"object"==typeof a&&null!==a||"function"==typeof a}var i=e,j=Promise,k=Promise.prototype.then,l=Promise.resolve.bind(j),m=Promise.reject.bind(j);function n(a){return new j(a)}function o(a){return l(a)}function p(a){return m(a)}function q(a,b,c){return k.call(a,b,c)}function r(a,b,c){q(q(a,b,c),void 0,i)}function s(a,b){r(a,b)}function t(a,b){r(a,void 0,b)}function u(a,b,c){return q(a,b,c)}function v(a){q(a,void 0,i)}var w=function(){var a=g&&g.queueMicrotask;if("function"==typeof a)return a;var b=o(void 0);return function(a){return q(b,a)}}();function x(a,b,c){if("function"!=typeof a)throw TypeError("Argument is not a function");return Function.prototype.apply.call(a,b,c)}function y(a,b,c){try{return o(x(a,b,c))}catch(d){return p(d)}}var z=16384,A=function(){function a(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(a.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0}),a.prototype.push=function(a){var b=this._back,c=b;b._elements.length===z-1&&(c={_elements:[],_next:void 0}),b._elements.push(a),c!==b&&(this._back=c,b._next=c),++this._size},a.prototype.shift=function(){var a=this._front,b=a,c=this._cursor,d=c+1,e=a._elements,f=e[c];return d===z&&(b=a._next,d=0),--this._size,this._cursor=d,a!==b&&(this._front=b),e[c]=void 0,f},a.prototype.forEach=function(a){for(var b=this._cursor,c=this._front,d=c._elements;(b!==d.length|| void 0!==c._next)&&(b!==d.length||(d=(c=c._next)._elements,b=0,0!==d.length));)a(d[b]),++b},a.prototype.peek=function(){var a=this._front,b=this._cursor;return a._elements[b]},a}();function B(a,b){a._ownerReadableStream=b,b._reader=a,"readable"===b._state?F(a):"closed"===b._state?H(a):G(a,b._storedError)}function C(a,b){return c4(a._ownerReadableStream,b)}function D(a){"readable"===a._ownerReadableStream._state?I(a,TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):J(a,TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),a._ownerReadableStream._reader=void 0,a._ownerReadableStream=void 0}function E(a){return TypeError("Cannot "+a+" a stream using a released reader")}function F(a){a._closedPromise=n(function(b,c){a._closedPromise_resolve=b,a._closedPromise_reject=c})}function G(a,b){F(a),I(a,b)}function H(a){F(a),K(a)}function I(a,b){void 0!==a._closedPromise_reject&&(v(a._closedPromise),a._closedPromise_reject(b),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0)}function J(a,b){G(a,b)}function K(a){void 0!==a._closedPromise_resolve&&(a._closedPromise_resolve(void 0),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0)}var L=d("[[AbortSteps]]"),M=d("[[ErrorSteps]]"),N=d("[[CancelSteps]]"),O=d("[[PullSteps]]"),P=Number.isFinite||function(a){return"number"==typeof a&&isFinite(a)},Q=Math.trunc||function(a){return a<0?Math.ceil(a):Math.floor(a)};function R(a){return"object"==typeof a||"function"==typeof a}function S(a,b){if(void 0!==a&&!R(a))throw TypeError(b+" is not an object.")}function T(a,b){if("function"!=typeof a)throw TypeError(b+" is not a function.")}function U(a){return"object"==typeof a&&null!==a||"function"==typeof a}function V(a,b){if(!U(a))throw TypeError(b+" is not an object.")}function W(a,b,c){if(void 0===a)throw TypeError("Parameter "+b+" is required in '"+c+"'.")}function X(a,b,c){if(void 0===a)throw TypeError(b+" is required in '"+c+"'.")}function Y(a){return Number(a)}function Z(a){return 0===a?0:a}function $(a){return Z(Q(a))}function _(a,b){var c=0,d=Number.MAX_SAFE_INTEGER,e=Number(a);if(e=Z(e),!P(e))throw TypeError(b+" is not a finite number");if((e=$(e))<c||e>d)throw TypeError(b+" is outside the accepted range of "+c+" to "+d+", inclusive");return P(e)&&0!==e?e:0}function aa(a,b){if(!c2(a))throw TypeError(b+" is not a ReadableStream.")}function ab(a){return new ag(a)}function ac(a,b){a._reader._readRequests.push(b)}function ad(a,b,c){var d=a._reader._readRequests.shift();c?d._closeSteps():d._chunkSteps(b)}function ae(a){return a._reader._readRequests.length}function af(a){var b=a._reader;return!!(void 0!==b&&ah(b))}var ag=function(){function a(a){if(W(a,1,"ReadableStreamDefaultReader"),aa(a,"First parameter"),c3(a))throw TypeError("This stream has already been locked for exclusive reading by another reader");B(this,a),this._readRequests=new A}return Object.defineProperty(a.prototype,"closed",{get:function(){return ah(this)?this._closedPromise:p(aj("closed"))},enumerable:!1,configurable:!0}),a.prototype.cancel=function(a){return(void 0===a&&(a=void 0),ah(this))?void 0===this._ownerReadableStream?p(E("cancel")):C(this,a):p(aj("cancel"))},a.prototype.read=function(){if(!ah(this))return p(aj("read"));if(void 0===this._ownerReadableStream)return p(E("read from"));var a,b,c=n(function(c,d){a=c,b=d}),d={_chunkSteps:function(b){return a({value:b,done:!1})},_closeSteps:function(){return a({value:void 0,done:!0})},_errorSteps:function(a){return b(a)}};return ai(this,d),c},a.prototype.releaseLock=function(){if(!ah(this))throw aj("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");D(this)}},a}();function ah(a){return!!(h(a)&&Object.prototype.hasOwnProperty.call(a,"_readRequests"))&&a instanceof ag}function ai(a,b){var c=a._ownerReadableStream;c._disturbed=!0,"closed"===c._state?b._closeSteps():"errored"===c._state?b._errorSteps(c._storedError):c._readableStreamController[O](b)}function aj(a){return TypeError("ReadableStreamDefaultReader.prototype."+a+" can only be used on a ReadableStreamDefaultReader")}Object.defineProperties(ag.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof d.toStringTag&&Object.defineProperty(ag.prototype,d.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),"symbol"==typeof d.asyncIterator&&Object.defineProperty(c=((b={})[d.asyncIterator]=function(){return this},b),d.asyncIterator,{enumerable:!1});var ak=function(){function a(a,b){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=a,this._preventCancel=b}return a.prototype.next=function(){var a=this,b=function(){return a._nextSteps()};return this._ongoingPromise=this._ongoingPromise?u(this._ongoingPromise,b,b):b(),this._ongoingPromise},a.prototype.return=function(a){var b=this,c=function(){return b._returnSteps(a)};return this._ongoingPromise?u(this._ongoingPromise,c,c):c()},a.prototype._nextSteps=function(){var a,b,c=this;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});var d=this._reader;if(void 0===d._ownerReadableStream)return p(E("iterate"));var e=n(function(c,d){a=c,b=d}),f={_chunkSteps:function(b){c._ongoingPromise=void 0,w(function(){return a({value:b,done:!1})})},_closeSteps:function(){c._ongoingPromise=void 0,c._isFinished=!0,D(d),a({value:void 0,done:!0})},_errorSteps:function(a){c._ongoingPromise=void 0,c._isFinished=!0,D(d),b(a)}};return ai(d,f),e},a.prototype._returnSteps=function(a){if(this._isFinished)return Promise.resolve({value:a,done:!0});this._isFinished=!0;var b=this._reader;if(void 0===b._ownerReadableStream)return p(E("finish iterating"));if(!this._preventCancel){var c=C(b,a);return D(b),u(c,function(){return{value:a,done:!0}})}return D(b),o({value:a,done:!0})},a}(),al={next:function(){return an(this)?this._asyncIteratorImpl.next():p(ao("next"))},return:function(a){return an(this)?this._asyncIteratorImpl.return(a):p(ao("return"))}};function am(a,b){var c=ab(a),d=new ak(c,b),e=Object.create(al);return e._asyncIteratorImpl=d,e}function an(a){if(!h(a)||!Object.prototype.hasOwnProperty.call(a,"_asyncIteratorImpl"))return!1;try{return a._asyncIteratorImpl instanceof ak}catch(b){return!1}}function ao(a){return TypeError("ReadableStreamAsyncIterator."+a+" can only be used on a ReadableSteamAsyncIterator")}void 0!==c&&Object.setPrototypeOf(al,c);var ap=Number.isNaN||function(a){return a!=a};function aq(a){return a.slice()}function ar(a,b,c,d,e){new Uint8Array(a).set(new Uint8Array(c,d,e),b)}function as(a){return a}function at(a){return!1}function au(a,b,c){if(a.slice)return a.slice(b,c);var d=c-b,e=new ArrayBuffer(d);return ar(e,0,a,b,d),e}function av(a){return!("number"!=typeof a||ap(a))&&!(a<0)}function aw(a){var b=au(a.buffer,a.byteOffset,a.byteOffset+a.byteLength);return new Uint8Array(b)}function ax(a){var b=a._queue.shift();return a._queueTotalSize-=b.size,a._queueTotalSize<0&&(a._queueTotalSize=0),b.value}function ay(a,b,c){if(!av(c)||c===1/0)throw RangeError("Size must be a finite, non-NaN, non-negative number.");a._queue.push({value:b,size:c}),a._queueTotalSize+=c}function az(a){return a._queue.peek().value}function aA(a){a._queue=new A,a._queueTotalSize=0}var aB=function(){function a(){throw TypeError("Illegal constructor")}return Object.defineProperty(a.prototype,"view",{get:function(){if(!aE(this))throw a4("view");return this._view},enumerable:!1,configurable:!0}),a.prototype.respond=function(a){if(!aE(this))throw a4("respond");if(W(a,1,"respond"),a=_(a,"First parameter"),void 0===this._associatedReadableByteStreamController)throw TypeError("This BYOB request has been invalidated");at(this._view.buffer),a_(this._associatedReadableByteStreamController,a)},a.prototype.respondWithNewView=function(a){if(!aE(this))throw a4("respondWithNewView");if(W(a,1,"respondWithNewView"),!ArrayBuffer.isView(a))throw TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw TypeError("This BYOB request has been invalidated");at(a.buffer),a0(this._associatedReadableByteStreamController,a)},a}();Object.defineProperties(aB.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof d.toStringTag&&Object.defineProperty(aB.prototype,d.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var aC=function(){function a(){throw TypeError("Illegal constructor")}return Object.defineProperty(a.prototype,"byobRequest",{get:function(){if(!aD(this))throw a5("byobRequest");return aZ(this)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"desiredSize",{get:function(){if(!aD(this))throw a5("desiredSize");return a$(this)},enumerable:!1,configurable:!0}),a.prototype.close=function(){if(!aD(this))throw a5("close");if(this._closeRequested)throw TypeError("The stream has already been closed; do not close it again!");var a=this._controlledReadableByteStream._state;if("readable"!==a)throw TypeError("The stream (in "+a+" state) is not in the readable state and cannot be closed");aW(this)},a.prototype.enqueue=function(a){if(!aD(this))throw a5("enqueue");if(W(a,1,"enqueue"),!ArrayBuffer.isView(a))throw TypeError("chunk must be an array buffer view");if(0===a.byteLength)throw TypeError("chunk must have non-zero byteLength");if(0===a.buffer.byteLength)throw TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw TypeError("stream is closed or draining");var b=this._controlledReadableByteStream._state;if("readable"!==b)throw TypeError("The stream (in "+b+" state) is not in the readable state and cannot be enqueued to");aX(this,a)},a.prototype.error=function(a){if(void 0===a&&(a=void 0),!aD(this))throw a5("error");aY(this,a)},a.prototype[N]=function(a){aG(this),aA(this);var b=this._cancelAlgorithm(a);return aV(this),b},a.prototype[O]=function(a){var b=this._controlledReadableByteStream;if(this._queueTotalSize>0){var c=this._queue.shift();this._queueTotalSize-=c.byteLength,aM(this);var d=new Uint8Array(c.buffer,c.byteOffset,c.byteLength);a._chunkSteps(d);return}var e=this._autoAllocateChunkSize;if(void 0!==e){var f=void 0;try{f=new ArrayBuffer(e)}catch(g){a._errorSteps(g);return}var h={buffer:f,bufferByteLength:e,byteOffset:0,byteLength:e,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(h)}ac(b,a),aF(this)},a}();function aD(a){return!!(h(a)&&Object.prototype.hasOwnProperty.call(a,"_controlledReadableByteStream"))&&a instanceof aC}function aE(a){return!!(h(a)&&Object.prototype.hasOwnProperty.call(a,"_associatedReadableByteStreamController"))&&a instanceof aB}function aF(a){if(aU(a)){if(a._pulling){a._pullAgain=!0;return}a._pulling=!0,r(a._pullAlgorithm(),function(){a._pulling=!1,a._pullAgain&&(a._pullAgain=!1,aF(a))},function(b){aY(a,b)})}}function aG(a){aN(a),a._pendingPullIntos=new A}function aH(a,b){var c=!1;"closed"===a._state&&(c=!0);var d=aI(b);"default"===b.readerType?ad(a,d,c):a8(a,d,c)}function aI(a){var b=a.bytesFilled,c=a.elementSize;return new a.viewConstructor(a.buffer,a.byteOffset,b/c)}function aJ(a,b,c,d){a._queue.push({buffer:b,byteOffset:c,byteLength:d}),a._queueTotalSize+=d}function aK(a,b){var c=b.elementSize,d=b.bytesFilled-b.bytesFilled%c,e=Math.min(a._queueTotalSize,b.byteLength-b.bytesFilled),f=b.bytesFilled+e,g=f-f%c,h=e,i=!1;g>d&&(h=g-b.bytesFilled,i=!0);for(var j=a._queue;h>0;){var k=j.peek(),l=Math.min(h,k.byteLength),m=b.byteOffset+b.bytesFilled;ar(b.buffer,m,k.buffer,k.byteOffset,l),k.byteLength===l?j.shift():(k.byteOffset+=l,k.byteLength-=l),a._queueTotalSize-=l,aL(a,l,b),h-=l}return i}function aL(a,b,c){c.bytesFilled+=b}function aM(a){0===a._queueTotalSize&&a._closeRequested?(aV(a),c5(a._controlledReadableByteStream)):aF(a)}function aN(a){null!==a._byobRequest&&(a._byobRequest._associatedReadableByteStreamController=void 0,a._byobRequest._view=null,a._byobRequest=null)}function aO(a){for(;a._pendingPullIntos.length>0;){if(0===a._queueTotalSize)return;var b=a._pendingPullIntos.peek();aK(a,b)&&(aT(a),aH(a._controlledReadableByteStream,b))}}function aP(a,b,c){var d=a._controlledReadableByteStream,e=1;b.constructor!==DataView&&(e=b.constructor.BYTES_PER_ELEMENT);var f=b.constructor,g=as(b.buffer),h={buffer:g,bufferByteLength:g.byteLength,byteOffset:b.byteOffset,byteLength:b.byteLength,bytesFilled:0,elementSize:e,viewConstructor:f,readerType:"byob"};if(a._pendingPullIntos.length>0){a._pendingPullIntos.push(h),a7(d,c);return}if("closed"===d._state){var i=new f(h.buffer,h.byteOffset,0);c._closeSteps(i);return}if(a._queueTotalSize>0){if(aK(a,h)){var j=aI(h);aM(a),c._chunkSteps(j);return}if(a._closeRequested){var k=TypeError("Insufficient bytes to fill elements in the given buffer");aY(a,k),c._errorSteps(k);return}}a._pendingPullIntos.push(h),a7(d,c),aF(a)}function aQ(a,b){var c=a._controlledReadableByteStream;if(ba(c))for(;a9(c)>0;){var d=aT(a);aH(c,d)}}function aR(a,b,c){if(aL(a,b,c),!(c.bytesFilled<c.elementSize)){aT(a);var d=c.bytesFilled%c.elementSize;if(d>0){var e=c.byteOffset+c.bytesFilled,f=au(c.buffer,e-d,e);aJ(a,f,0,f.byteLength)}c.bytesFilled-=d,aH(a._controlledReadableByteStream,c),aO(a)}}function aS(a,b){var c=a._pendingPullIntos.peek();aN(a);var d=a._controlledReadableByteStream._state;"closed"===d?aQ(a):aR(a,b,c),aF(a)}function aT(a){return a._pendingPullIntos.shift()}function aU(a){var b=a._controlledReadableByteStream;return"readable"===b._state&&!a._closeRequested&&!!a._started&&(!!(af(b)&&ae(b)>0||ba(b)&&a9(b)>0)||a$(a)>0)}function aV(a){a._pullAlgorithm=void 0,a._cancelAlgorithm=void 0}function aW(a){var b=a._controlledReadableByteStream;if(!a._closeRequested&&"readable"===b._state){if(a._queueTotalSize>0){a._closeRequested=!0;return}if(a._pendingPullIntos.length>0&&a._pendingPullIntos.peek().bytesFilled>0){var c=TypeError("Insufficient bytes to fill elements in the given buffer");throw aY(a,c),c}aV(a),c5(b)}}function aX(a,b){var c=a._controlledReadableByteStream;if(!a._closeRequested&&"readable"===c._state){var d=b.buffer,e=b.byteOffset,f=b.byteLength,g=as(d);if(a._pendingPullIntos.length>0){var h=a._pendingPullIntos.peek();at(h.buffer),h.buffer=as(h.buffer)}if(aN(a),af(c)){if(0===ae(c))aJ(a,g,e,f);else{a._pendingPullIntos.length>0&&aT(a);var i=new Uint8Array(g,e,f);ad(c,i,!1)}}else ba(c)?(aJ(a,g,e,f),aO(a)):aJ(a,g,e,f);aF(a)}}function aY(a,b){var c=a._controlledReadableByteStream;"readable"===c._state&&(aG(a),aA(a),aV(a),c6(c,b))}function aZ(a){if(null===a._byobRequest&&a._pendingPullIntos.length>0){var b=a._pendingPullIntos.peek(),c=new Uint8Array(b.buffer,b.byteOffset+b.bytesFilled,b.byteLength-b.bytesFilled),d=Object.create(aB.prototype);a3(d,a,c),a._byobRequest=d}return a._byobRequest}function a$(a){var b=a._controlledReadableByteStream._state;return"errored"===b?null:"closed"===b?0:a._strategyHWM-a._queueTotalSize}function a_(a,b){var c=a._pendingPullIntos.peek();if("closed"===a._controlledReadableByteStream._state){if(0!==b)throw TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===b)throw TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(c.bytesFilled+b>c.byteLength)throw RangeError("bytesWritten out of range")}c.buffer=as(c.buffer),aS(a,b)}function a0(a,b){var c=a._pendingPullIntos.peek();if("closed"===a._controlledReadableByteStream._state){if(0!==b.byteLength)throw TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===b.byteLength)throw TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(c.byteOffset+c.bytesFilled!==b.byteOffset)throw RangeError("The region specified by view does not match byobRequest");if(c.bufferByteLength!==b.buffer.byteLength)throw RangeError("The buffer of view has different capacity than byobRequest");if(c.bytesFilled+b.byteLength>c.byteLength)throw RangeError("The region specified by view is larger than byobRequest");var d=b.byteLength;c.buffer=as(b.buffer),aS(a,d)}function a1(a,b,c,d,e,f,g){b._controlledReadableByteStream=a,b._pullAgain=!1,b._pulling=!1,b._byobRequest=null,b._queue=b._queueTotalSize=void 0,aA(b),b._closeRequested=!1,b._started=!1,b._strategyHWM=f,b._pullAlgorithm=d,b._cancelAlgorithm=e,b._autoAllocateChunkSize=g,b._pendingPullIntos=new A,a._readableStreamController=b,r(o(c()),function(){b._started=!0,aF(b)},function(a){aY(b,a)})}function a2(a,b,c){var d=Object.create(aC.prototype),e=function(){},f=function(){return o(void 0)},g=function(){return o(void 0)};void 0!==b.start&&(e=function(){return b.start(d)}),void 0!==b.pull&&(f=function(){return b.pull(d)}),void 0!==b.cancel&&(g=function(a){return b.cancel(a)});var h=b.autoAllocateChunkSize;if(0===h)throw TypeError("autoAllocateChunkSize must be greater than 0");a1(a,d,e,f,g,c,h)}function a3(a,b,c){a._associatedReadableByteStreamController=b,a._view=c}function a4(a){return TypeError("ReadableStreamBYOBRequest.prototype."+a+" can only be used on a ReadableStreamBYOBRequest")}function a5(a){return TypeError("ReadableByteStreamController.prototype."+a+" can only be used on a ReadableByteStreamController")}function a6(a){return new bb(a)}function a7(a,b){a._reader._readIntoRequests.push(b)}function a8(a,b,c){var d=a._reader._readIntoRequests.shift();c?d._closeSteps(b):d._chunkSteps(b)}function a9(a){return a._reader._readIntoRequests.length}function ba(a){var b=a._reader;return!!(void 0!==b&&bc(b))}Object.defineProperties(aC.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof d.toStringTag&&Object.defineProperty(aC.prototype,d.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var bb=function(){function a(a){if(W(a,1,"ReadableStreamBYOBReader"),aa(a,"First parameter"),c3(a))throw TypeError("This stream has already been locked for exclusive reading by another reader");if(!aD(a._readableStreamController))throw TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");B(this,a),this._readIntoRequests=new A}return Object.defineProperty(a.prototype,"closed",{get:function(){return bc(this)?this._closedPromise:p(be("closed"))},enumerable:!1,configurable:!0}),a.prototype.cancel=function(a){return(void 0===a&&(a=void 0),bc(this))?void 0===this._ownerReadableStream?p(E("cancel")):C(this,a):p(be("cancel"))},a.prototype.read=function(a){if(!bc(this))return p(be("read"));if(!ArrayBuffer.isView(a))return p(TypeError("view must be an array buffer view"));if(0===a.byteLength)return p(TypeError("view must have non-zero byteLength"));if(0===a.buffer.byteLength)return p(TypeError("view's buffer must have non-zero byteLength"));if(at(a.buffer),void 0===this._ownerReadableStream)return p(E("read from"));var b,c,d=n(function(a,d){b=a,c=d}),e={_chunkSteps:function(a){return b({value:a,done:!1})},_closeSteps:function(a){return b({value:a,done:!0})},_errorSteps:function(a){return c(a)}};return bd(this,a,e),d},a.prototype.releaseLock=function(){if(!bc(this))throw be("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");D(this)}},a}();function bc(a){return!!(h(a)&&Object.prototype.hasOwnProperty.call(a,"_readIntoRequests"))&&a instanceof bb}function bd(a,b,c){var d=a._ownerReadableStream;d._disturbed=!0,"errored"===d._state?c._errorSteps(d._storedError):aP(d._readableStreamController,b,c)}function be(a){return TypeError("ReadableStreamBYOBReader.prototype."+a+" can only be used on a ReadableStreamBYOBReader")}function bf(a,b){var c=a.highWaterMark;if(void 0===c)return b;if(ap(c)||c<0)throw RangeError("Invalid highWaterMark");return c}function bg(a){var b=a.size;return b||function(){return 1}}function bh(a,b){S(a,b);var c=null==a?void 0:a.highWaterMark,d=null==a?void 0:a.size;return{highWaterMark:void 0===c?void 0:Y(c),size:void 0===d?void 0:bi(d,b+" has member 'size' that")}}function bi(a,b){return T(a,b),function(b){return Y(a(b))}}function bj(a,b){S(a,b);var c=null==a?void 0:a.abort,d=null==a?void 0:a.close,e=null==a?void 0:a.start,f=null==a?void 0:a.type,g=null==a?void 0:a.write;return{abort:void 0===c?void 0:bk(c,a,b+" has member 'abort' that"),close:void 0===d?void 0:bl(d,a,b+" has member 'close' that"),start:void 0===e?void 0:bm(e,a,b+" has member 'start' that"),write:void 0===g?void 0:bn(g,a,b+" has member 'write' that"),type:f}}function bk(a,b,c){return T(a,c),function(c){return y(a,b,[c])}}function bl(a,b,c){return T(a,c),function(){return y(a,b,[])}}function bm(a,b,c){return T(a,c),function(c){return x(a,b,[c])}}function bn(a,b,c){return T(a,c),function(c,d){return y(a,b,[c,d])}}function bo(a,b){if(!bw(a))throw TypeError(b+" is not a WritableStream.")}function bp(a){if("object"!=typeof a||null===a)return!1;try{return"boolean"==typeof a.aborted}catch(b){return!1}}Object.defineProperties(bb.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof d.toStringTag&&Object.defineProperty(bb.prototype,d.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var bq="function"==typeof AbortController;function br(){if(bq)return new AbortController}var bs=function(){function a(a,b){void 0===a&&(a={}),void 0===b&&(b={}),void 0===a?a=null:V(a,"First parameter");var c=bh(b,"Second parameter"),d=bj(a,"First parameter");if(bv(this),void 0!==d.type)throw RangeError("Invalid type is specified");var e=bg(c),f=bf(c,1);b0(this,d,f,e)}return Object.defineProperty(a.prototype,"locked",{get:function(){if(!bw(this))throw cc("locked");return bx(this)},enumerable:!1,configurable:!0}),a.prototype.abort=function(a){return(void 0===a&&(a=void 0),bw(this))?bx(this)?p(TypeError("Cannot abort a stream that already has a writer")):by(this,a):p(cc("abort"))},a.prototype.close=function(){return bw(this)?bx(this)?p(TypeError("Cannot close a stream that already has a writer")):bI(this)?p(TypeError("Cannot close an already-closing stream")):bz(this):p(cc("close"))},a.prototype.getWriter=function(){if(!bw(this))throw cc("getWriter");return bt(this)},a}();function bt(a){return new bO(a)}function bu(a,b,c,d,e,f){void 0===e&&(e=1),void 0===f&&(f=function(){return 1});var g=Object.create(bs.prototype);return bv(g),b_(g,Object.create(bZ.prototype),a,b,c,d,e,f),g}function bv(a){a._state="writable",a._storedError=void 0,a._writer=void 0,a._writableStreamController=void 0,a._writeRequests=new A,a._inFlightWriteRequest=void 0,a._closeRequest=void 0,a._inFlightCloseRequest=void 0,a._pendingAbortRequest=void 0,a._backpressure=!1}function bw(a){return!!(h(a)&&Object.prototype.hasOwnProperty.call(a,"_writableStreamController"))&&a instanceof bs}function bx(a){return void 0!==a._writer}function by(a,b){if("closed"===a._state||"errored"===a._state)return o(void 0);a._writableStreamController._abortReason=b,null===(c=a._writableStreamController._abortController)|| void 0===c||c.abort();var c,d=a._state;if("closed"===d||"errored"===d)return o(void 0);if(void 0!==a._pendingAbortRequest)return a._pendingAbortRequest._promise;var e=!1;"erroring"===d&&(e=!0,b=void 0);var f=n(function(c,d){a._pendingAbortRequest={_promise:void 0,_resolve:c,_reject:d,_reason:b,_wasAlreadyErroring:e}});return a._pendingAbortRequest._promise=f,e||bC(a,b),f}function bz(a){var b=a._state;if("closed"===b||"errored"===b)return p(TypeError("The stream (in "+b+" state) is not in the writable state and cannot be closed"));var c=n(function(b,c){var d={_resolve:b,_reject:c};a._closeRequest=d}),d=a._writer;return void 0!==d&&a._backpressure&&"writable"===b&&cs(d),b2(a._writableStreamController),c}function bA(a){return n(function(b,c){var d={_resolve:b,_reject:c};a._writeRequests.push(d)})}function bB(a,b){if("writable"===a._state){bC(a,b);return}bD(a)}function bC(a,b){var c=a._writableStreamController;a._state="erroring",a._storedError=b;var d=a._writer;void 0!==d&&bU(d,b),!bJ(a)&&c._started&&bD(a)}function bD(a){a._state="errored",a._writableStreamController[M]();var b=a._storedError;if(a._writeRequests.forEach(function(a){a._reject(b)}),a._writeRequests=new A,void 0===a._pendingAbortRequest){bM(a);return}var c=a._pendingAbortRequest;if(a._pendingAbortRequest=void 0,c._wasAlreadyErroring){c._reject(b),bM(a);return}r(a._writableStreamController[L](c._reason),function(){c._resolve(),bM(a)},function(b){c._reject(b),bM(a)})}function bE(a){a._inFlightWriteRequest._resolve(void 0),a._inFlightWriteRequest=void 0}function bF(a,b){a._inFlightWriteRequest._reject(b),a._inFlightWriteRequest=void 0,bB(a,b)}function bG(a){a._inFlightCloseRequest._resolve(void 0),a._inFlightCloseRequest=void 0,"erroring"===a._state&&(a._storedError=void 0,void 0!==a._pendingAbortRequest&&(a._pendingAbortRequest._resolve(),a._pendingAbortRequest=void 0)),a._state="closed";var b=a._writer;void 0!==b&&cl(b)}function bH(a,b){a._inFlightCloseRequest._reject(b),a._inFlightCloseRequest=void 0,void 0!==a._pendingAbortRequest&&(a._pendingAbortRequest._reject(b),a._pendingAbortRequest=void 0),bB(a,b)}function bI(a){return void 0!==a._closeRequest|| void 0!==a._inFlightCloseRequest}function bJ(a){return void 0!==a._inFlightWriteRequest|| void 0!==a._inFlightCloseRequest}function bK(a){a._inFlightCloseRequest=a._closeRequest,a._closeRequest=void 0}function bL(a){a._inFlightWriteRequest=a._writeRequests.shift()}function bM(a){void 0!==a._closeRequest&&(a._closeRequest._reject(a._storedError),a._closeRequest=void 0);var b=a._writer;void 0!==b&&cj(b,a._storedError)}function bN(a,b){var c=a._writer;void 0!==c&&b!==a._backpressure&&(b?cq(c):cs(c)),a._backpressure=b}Object.defineProperties(bs.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof d.toStringTag&&Object.defineProperty(bs.prototype,d.toStringTag,{value:"WritableStream",configurable:!0});var bO=function(){function a(a){if(W(a,1,"WritableStreamDefaultWriter"),bo(a,"First parameter"),bx(a))throw TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=a,a._writer=this;var b=a._state;if("writable"===b)!bI(a)&&a._backpressure?cm(this):co(this),cg(this);else if("erroring"===b)cn(this,a._storedError),cg(this);else if("closed"===b)co(this),ci(this);else{var c=a._storedError;cn(this,c),ch(this,c)}}return Object.defineProperty(a.prototype,"closed",{get:function(){return bP(this)?this._closedPromise:p(ce("closed"))},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"desiredSize",{get:function(){if(!bP(this))throw ce("desiredSize");if(void 0===this._ownerWritableStream)throw cf("desiredSize");return bV(this)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"ready",{get:function(){return bP(this)?this._readyPromise:p(ce("ready"))},enumerable:!1,configurable:!0}),a.prototype.abort=function(a){return(void 0===a&&(a=void 0),bP(this))?void 0===this._ownerWritableStream?p(cf("abort")):bQ(this,a):p(ce("abort"))},a.prototype.close=function(){if(!bP(this))return p(ce("close"));var a=this._ownerWritableStream;return void 0===a?p(cf("close")):bI(a)?p(TypeError("Cannot close an already-closing stream")):bR(this)},a.prototype.releaseLock=function(){if(!bP(this))throw ce("releaseLock");void 0!==this._ownerWritableStream&&bW(this)},a.prototype.write=function(a){return(void 0===a&&(a=void 0),bP(this))?void 0===this._ownerWritableStream?p(cf("write to")):bX(this,a):p(ce("write"))},a}();function bP(a){return!!(h(a)&&Object.prototype.hasOwnProperty.call(a,"_ownerWritableStream"))&&a instanceof bO}function bQ(a,b){return by(a._ownerWritableStream,b)}function bR(a){return bz(a._ownerWritableStream)}function bS(a){var b=a._ownerWritableStream,c=b._state;return bI(b)||"closed"===c?o(void 0):"errored"===c?p(b._storedError):bR(a)}function bT(a,b){"pending"===a._closedPromiseState?cj(a,b):ck(a,b)}function bU(a,b){"pending"===a._readyPromiseState?cp(a,b):cr(a,b)}function bV(a){var b=a._ownerWritableStream,c=b._state;return"errored"===c||"erroring"===c?null:"closed"===c?0:b4(b._writableStreamController)}function bW(a){var b=a._ownerWritableStream,c=TypeError("Writer was released and can no longer be used to monitor the stream's closedness");bU(a,c),bT(a,c),b._writer=void 0,a._ownerWritableStream=void 0}function bX(a,b){var c=a._ownerWritableStream,d=c._writableStreamController,e=b3(d,b);if(c!==a._ownerWritableStream)return p(cf("write to"));var f=c._state;if("errored"===f)return p(c._storedError);if(bI(c)||"closed"===f)return p(TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===f)return p(c._storedError);var g=bA(c);return b5(d,b,e),g}Object.defineProperties(bO.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof d.toStringTag&&Object.defineProperty(bO.prototype,d.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var bY={},bZ=function(){function a(){throw TypeError("Illegal constructor")}return Object.defineProperty(a.prototype,"abortReason",{get:function(){if(!b$(this))throw cd("abortReason");return this._abortReason},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"signal",{get:function(){if(!b$(this))throw cd("signal");if(void 0===this._abortController)throw TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal},enumerable:!1,configurable:!0}),a.prototype.error=function(a){if(void 0===a&&(a=void 0),!b$(this))throw cd("error");"writable"===this._controlledWritableStream._state&&cb(this,a)},a.prototype[L]=function(a){var b=this._abortAlgorithm(a);return b1(this),b},a.prototype[M]=function(){aA(this)},a}();function b$(a){return!!(h(a)&&Object.prototype.hasOwnProperty.call(a,"_controlledWritableStream"))&&a instanceof bZ}function b_(a,b,c,d,e,f,g,h){b._controlledWritableStream=a,a._writableStreamController=b,b._queue=void 0,b._queueTotalSize=void 0,aA(b),b._abortReason=void 0,b._abortController=br(),b._started=!1,b._strategySizeAlgorithm=h,b._strategyHWM=g,b._writeAlgorithm=d,b._closeAlgorithm=e,b._abortAlgorithm=f,bN(a,ca(b));var i=c(),j=o(i);r(j,function(){b._started=!0,b6(b)},function(c){b._started=!0,bB(a,c)})}function b0(a,b,c,d){var e=Object.create(bZ.prototype),f=function(){},g=function(){return o(void 0)},h=function(){return o(void 0)},i=function(){return o(void 0)};void 0!==b.start&&(f=function(){return b.start(e)}),void 0!==b.write&&(g=function(a){return b.write(a,e)}),void 0!==b.close&&(h=function(){return b.close()}),void 0!==b.abort&&(i=function(a){return b.abort(a)}),b_(a,e,f,g,h,i,c,d)}function b1(a){a._writeAlgorithm=void 0,a._closeAlgorithm=void 0,a._abortAlgorithm=void 0,a._strategySizeAlgorithm=void 0}function b2(a){ay(a,bY,0),b6(a)}function b3(a,b){try{return a._strategySizeAlgorithm(b)}catch(c){return b7(a,c),1}}function b4(a){return a._strategyHWM-a._queueTotalSize}function b5(a,b,c){try{ay(a,b,c)}catch(d){b7(a,d);return}var e=a._controlledWritableStream;if(!bI(e)&&"writable"===e._state){var f=ca(a);bN(e,f)}b6(a)}function b6(a){var b=a._controlledWritableStream;if(a._started&& void 0===b._inFlightWriteRequest){if("erroring"===b._state){bD(b);return}if(0!==a._queue.length){var c=az(a);c===bY?b8(a):b9(a,c)}}}function b7(a,b){"writable"===a._controlledWritableStream._state&&cb(a,b)}function b8(a){var b=a._controlledWritableStream;bK(b),ax(a);var c=a._closeAlgorithm();b1(a),r(c,function(){bG(b)},function(a){bH(b,a)})}function b9(a,b){var c=a._controlledWritableStream;bL(c),r(a._writeAlgorithm(b),function(){bE(c);var b=c._state;if(ax(a),!bI(c)&&"writable"===b){var d=ca(a);bN(c,d)}b6(a)},function(b){"writable"===c._state&&b1(a),bF(c,b)})}function ca(a){return 0>=b4(a)}function cb(a,b){var c=a._controlledWritableStream;b1(a),bC(c,b)}function cc(a){return TypeError("WritableStream.prototype."+a+" can only be used on a WritableStream")}function cd(a){return TypeError("WritableStreamDefaultController.prototype."+a+" can only be used on a WritableStreamDefaultController")}function ce(a){return TypeError("WritableStreamDefaultWriter.prototype."+a+" can only be used on a WritableStreamDefaultWriter")}function cf(a){return TypeError("Cannot "+a+" a stream using a released writer")}function cg(a){a._closedPromise=n(function(b,c){a._closedPromise_resolve=b,a._closedPromise_reject=c,a._closedPromiseState="pending"})}function ch(a,b){cg(a),cj(a,b)}function ci(a){cg(a),cl(a)}function cj(a,b){void 0!==a._closedPromise_reject&&(v(a._closedPromise),a._closedPromise_reject(b),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0,a._closedPromiseState="rejected")}function ck(a,b){ch(a,b)}function cl(a){void 0!==a._closedPromise_resolve&&(a._closedPromise_resolve(void 0),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0,a._closedPromiseState="resolved")}function cm(a){a._readyPromise=n(function(b,c){a._readyPromise_resolve=b,a._readyPromise_reject=c}),a._readyPromiseState="pending"}function cn(a,b){cm(a),cp(a,b)}function co(a){cm(a),cs(a)}function cp(a,b){void 0!==a._readyPromise_reject&&(v(a._readyPromise),a._readyPromise_reject(b),a._readyPromise_resolve=void 0,a._readyPromise_reject=void 0,a._readyPromiseState="rejected")}function cq(a){cm(a)}function cr(a,b){cn(a,b)}function cs(a){void 0!==a._readyPromise_resolve&&(a._readyPromise_resolve(void 0),a._readyPromise_resolve=void 0,a._readyPromise_reject=void 0,a._readyPromiseState="fulfilled")}Object.defineProperties(bZ.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof d.toStringTag&&Object.defineProperty(bZ.prototype,d.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var ct="undefined"!=typeof DOMException?DOMException:void 0;function cu(a){if(!("function"==typeof a||"object"==typeof a))return!1;try{return new a,!0}catch(b){return!1}}function cv(){var a=function(a,b){this.message=a||"",this.name=b||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return a.prototype=Object.create(Error.prototype),Object.defineProperty(a.prototype,"constructor",{value:a,writable:!0,configurable:!0}),a}var cw=cu(ct)?ct:cv();function cx(a,b,c,d,f,g){var h=ab(a),i=bt(b);a._disturbed=!0;var j=!1,k=o(void 0);return n(function(l,m){var p;if(void 0!==g){if(p=function(){var c=new cw("Aborted","AbortError"),e=[];d||e.push(function(){return"writable"===b._state?by(b,c):o(void 0)}),f||e.push(function(){return"readable"===a._state?c4(a,c):o(void 0)}),B(function(){return Promise.all(e.map(function(a){return a()}))},!0,c)},g.aborted){p();return}g.addEventListener("abort",p)}function u(){return n(function(a,b){function c(d){d?a():q(w(),c,b)}c(!1)})}function w(){return j?o(!0):q(i._readyPromise,function(){return n(function(a,b){ai(h,{_chunkSteps:function(b){k=q(bX(i,b),void 0,e),a(!1)},_closeSteps:function(){return a(!0)},_errorSteps:b})})})}if(z(a,h._closedPromise,function(a){d?C(!0,a):B(function(){return by(b,a)},!0,a)}),z(b,i._closedPromise,function(b){f?C(!0,b):B(function(){return c4(a,b)},!0,b)}),A(a,h._closedPromise,function(){c?C():B(function(){return bS(i)})}),bI(b)||"closed"===b._state){var x=TypeError("the destination writable stream closed before all data could be piped to it");f?C(!0,x):B(function(){return c4(a,x)},!0,x)}function y(){var a=k;return q(k,function(){return a!==k?y():void 0})}function z(a,b,c){"errored"===a._state?c(a._storedError):t(b,c)}function A(a,b,c){"closed"===a._state?c():s(b,c)}function B(a,c,d){!j&&(j=!0,"writable"!==b._state||bI(b)?e():s(y(),e));function e(){r(a(),function(){return E(c,d)},function(a){return E(!0,a)})}}function C(a,c){!j&&(j=!0,"writable"!==b._state||bI(b)?E(a,c):s(y(),function(){return E(a,c)}))}function E(a,b){bW(i),D(h),void 0!==g&&g.removeEventListener("abort",p),a?m(b):l(void 0)}v(u())})}var cy=function(){function a(){throw TypeError("Illegal constructor")}return Object.defineProperty(a.prototype,"desiredSize",{get:function(){if(!cz(this))throw cL("desiredSize");return cG(this)},enumerable:!1,configurable:!0}),a.prototype.close=function(){if(!cz(this))throw cL("close");if(!cI(this))throw TypeError("The stream is not in a state that permits close");cD(this)},a.prototype.enqueue=function(a){if(void 0===a&&(a=void 0),!cz(this))throw cL("enqueue");if(!cI(this))throw TypeError("The stream is not in a state that permits enqueue");return cE(this,a)},a.prototype.error=function(a){if(void 0===a&&(a=void 0),!cz(this))throw cL("error");cF(this,a)},a.prototype[N]=function(a){aA(this);var b=this._cancelAlgorithm(a);return cC(this),b},a.prototype[O]=function(a){var b=this._controlledReadableStream;if(this._queue.length>0){var c=ax(this);this._closeRequested&&0===this._queue.length?(cC(this),c5(b)):cA(this),a._chunkSteps(c)}else ac(b,a),cA(this)},a}();function cz(a){return!!(h(a)&&Object.prototype.hasOwnProperty.call(a,"_controlledReadableStream"))&&a instanceof cy}function cA(a){if(cB(a)){if(a._pulling){a._pullAgain=!0;return}a._pulling=!0,r(a._pullAlgorithm(),function(){a._pulling=!1,a._pullAgain&&(a._pullAgain=!1,cA(a))},function(b){cF(a,b)})}}function cB(a){var b=a._controlledReadableStream;return!!cI(a)&&!!a._started&&(!!(c3(b)&&ae(b)>0)||cG(a)>0)}function cC(a){a._pullAlgorithm=void 0,a._cancelAlgorithm=void 0,a._strategySizeAlgorithm=void 0}function cD(a){if(cI(a)){var b=a._controlledReadableStream;a._closeRequested=!0,0===a._queue.length&&(cC(a),c5(b))}}function cE(a,b){if(cI(a)){var c=a._controlledReadableStream;if(c3(c)&&ae(c)>0)ad(c,b,!1);else{var d=void 0;try{d=a._strategySizeAlgorithm(b)}catch(e){throw cF(a,e),e}try{ay(a,b,d)}catch(f){throw cF(a,f),f}}cA(a)}}function cF(a,b){var c=a._controlledReadableStream;"readable"===c._state&&(aA(a),cC(a),c6(c,b))}function cG(a){var b=a._controlledReadableStream._state;return"errored"===b?null:"closed"===b?0:a._strategyHWM-a._queueTotalSize}function cH(a){return!cB(a)}function cI(a){var b=a._controlledReadableStream._state;return!a._closeRequested&&"readable"===b}function cJ(a,b,c,d,e,f,g){b._controlledReadableStream=a,b._queue=void 0,b._queueTotalSize=void 0,aA(b),b._started=!1,b._closeRequested=!1,b._pullAgain=!1,b._pulling=!1,b._strategySizeAlgorithm=g,b._strategyHWM=f,b._pullAlgorithm=d,b._cancelAlgorithm=e,a._readableStreamController=b,r(o(c()),function(){b._started=!0,cA(b)},function(a){cF(b,a)})}function cK(a,b,c,d){var e=Object.create(cy.prototype),f=function(){},g=function(){return o(void 0)},h=function(){return o(void 0)};void 0!==b.start&&(f=function(){return b.start(e)}),void 0!==b.pull&&(g=function(){return b.pull(e)}),void 0!==b.cancel&&(h=function(a){return b.cancel(a)}),cJ(a,e,f,g,h,c,d)}function cL(a){return TypeError("ReadableStreamDefaultController.prototype."+a+" can only be used on a ReadableStreamDefaultController")}function cM(a,b){return aD(a._readableStreamController)?cO(a):cN(a)}function cN(a,b){var c,d,e,f,g,h=ab(a),i=!1,j=!1,k=!1,l=!1,m=n(function(a){g=a});function p(){if(i)return j=!0,o(void 0);i=!0;var a={_chunkSteps:function(a){w(function(){j=!1;var b=a,c=a;k||cE(e._readableStreamController,b),l||cE(f._readableStreamController,c),i=!1,j&&p()})},_closeSteps:function(){i=!1,k||cD(e._readableStreamController),l||cD(f._readableStreamController),k&&l||g(void 0)},_errorSteps:function(){i=!1}};return ai(h,a),o(void 0)}function q(b){if(k=!0,c=b,l){var e=aq([c,d]),f=c4(a,e);g(f)}return m}function r(b){if(l=!0,d=b,k){var e=aq([c,d]),f=c4(a,e);g(f)}return m}function s(){}return e=c_(s,p,q),f=c_(s,p,r),t(h._closedPromise,function(a){cF(e._readableStreamController,a),cF(f._readableStreamController,a),k&&l||g(void 0)}),[e,f]}function cO(a){var b,c,d,e,f,g=ab(a),h=!1,i=!1,j=!1,k=!1,l=!1,m=n(function(a){f=a});function p(a){t(a._closedPromise,function(b){a===g&&(aY(d._readableStreamController,b),aY(e._readableStreamController,b),k&&l||f(void 0))})}function q(){bc(g)&&(D(g),g=ab(a),p(g));var b={_chunkSteps:function(b){w(function(){i=!1,j=!1;var c=b,g=b;if(!k&&!l)try{g=aw(b)}catch(m){aY(d._readableStreamController,m),aY(e._readableStreamController,m),f(c4(a,m));return}k||aX(d._readableStreamController,c),l||aX(e._readableStreamController,g),h=!1,i?s():j&&u()})},_closeSteps:function(){h=!1,k||aW(d._readableStreamController),l||aW(e._readableStreamController),d._readableStreamController._pendingPullIntos.length>0&&a_(d._readableStreamController,0),e._readableStreamController._pendingPullIntos.length>0&&a_(e._readableStreamController,0),k&&l||f(void 0)},_errorSteps:function(){h=!1}};ai(g,b)}function r(b,c){ah(g)&&(D(g),g=a6(a),p(g));var m=c?e:d,n=c?d:e,o={_chunkSteps:function(b){w(function(){i=!1,j=!1;var d=c?l:k;if(c?k:l)d||a0(m._readableStreamController,b);else{var e=void 0;try{e=aw(b)}catch(g){aY(m._readableStreamController,g),aY(n._readableStreamController,g),f(c4(a,g));return}d||a0(m._readableStreamController,b),aX(n._readableStreamController,e)}h=!1,i?s():j&&u()})},_closeSteps:function(a){h=!1;var b=c?l:k,d=c?k:l;b||aW(m._readableStreamController),d||aW(n._readableStreamController),void 0!==a&&(b||a0(m._readableStreamController,a),!d&&n._readableStreamController._pendingPullIntos.length>0&&a_(n._readableStreamController,0)),b&&d||f(void 0)},_errorSteps:function(){h=!1}};bd(g,b,o)}function s(){if(h)return i=!0,o(void 0);h=!0;var a=aZ(d._readableStreamController);return null===a?q():r(a._view,!1),o(void 0)}function u(){if(h)return j=!0,o(void 0);h=!0;var a=aZ(e._readableStreamController);return null===a?q():r(a._view,!0),o(void 0)}function v(d){if(k=!0,b=d,l){var e=aq([b,c]),g=c4(a,e);f(g)}return m}function x(d){if(l=!0,c=d,k){var e=aq([b,c]),g=c4(a,e);f(g)}return m}function y(){}return d=c0(y,s,v),e=c0(y,u,x),p(g),[d,e]}function cP(a,b){S(a,b);var c=a,d=null==c?void 0:c.autoAllocateChunkSize,e=null==c?void 0:c.cancel,f=null==c?void 0:c.pull,g=null==c?void 0:c.start,h=null==c?void 0:c.type;return{autoAllocateChunkSize:void 0===d?void 0:_(d,b+" has member 'autoAllocateChunkSize' that"),cancel:void 0===e?void 0:cQ(e,c,b+" has member 'cancel' that"),pull:void 0===f?void 0:cR(f,c,b+" has member 'pull' that"),start:void 0===g?void 0:cS(g,c,b+" has member 'start' that"),type:void 0===h?void 0:cT(h,b+" has member 'type' that")}}function cQ(a,b,c){return T(a,c),function(c){return y(a,b,[c])}}function cR(a,b,c){return T(a,c),function(c){return y(a,b,[c])}}function cS(a,b,c){return T(a,c),function(c){return x(a,b,[c])}}function cT(a,b){if("bytes"!=(a=""+a))throw TypeError(b+" '"+a+"' is not a valid enumeration value for ReadableStreamType");return a}function cU(a,b){S(a,b);var c=null==a?void 0:a.mode;return{mode:void 0===c?void 0:cV(c,b+" has member 'mode' that")}}function cV(a,b){if("byob"!=(a=""+a))throw TypeError(b+" '"+a+"' is not a valid enumeration value for ReadableStreamReaderMode");return a}function cW(a,b){return S(a,b),{preventCancel:Boolean(null==a?void 0:a.preventCancel)}}function cX(a,b){S(a,b);var c=null==a?void 0:a.preventAbort,d=null==a?void 0:a.preventCancel,e=null==a?void 0:a.preventClose,f=null==a?void 0:a.signal;return void 0!==f&&cY(f,b+" has member 'signal' that"),{preventAbort:Boolean(c),preventCancel:Boolean(d),preventClose:Boolean(e),signal:f}}function cY(a,b){if(!bp(a))throw TypeError(b+" is not an AbortSignal.")}function cZ(a,b){S(a,b);var c=null==a?void 0:a.readable;X(c,"readable","ReadableWritablePair"),aa(c,b+" has member 'readable' that");var d=null==a?void 0:a.writable;return X(d,"writable","ReadableWritablePair"),bo(d,b+" has member 'writable' that"),{readable:c,writable:d}}Object.defineProperties(cy.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof d.toStringTag&&Object.defineProperty(cy.prototype,d.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var c$=function(){function a(a,b){void 0===a&&(a={}),void 0===b&&(b={}),void 0===a?a=null:V(a,"First parameter");var c=bh(b,"Second parameter"),d=cP(a,"First parameter");if(c1(this),"bytes"===d.type){if(void 0!==c.size)throw RangeError("The strategy for a byte stream cannot have a size function");var e=bf(c,0);a2(this,d,e)}else{var f=bg(c),e=bf(c,1);cK(this,d,e,f)}}return Object.defineProperty(a.prototype,"locked",{get:function(){if(!c2(this))throw c7("locked");return c3(this)},enumerable:!1,configurable:!0}),a.prototype.cancel=function(a){return(void 0===a&&(a=void 0),c2(this))?c3(this)?p(TypeError("Cannot cancel a stream that already has a reader")):c4(this,a):p(c7("cancel"))},a.prototype.getReader=function(a){if(void 0===a&&(a=void 0),!c2(this))throw c7("getReader");return void 0===cU(a,"First parameter").mode?ab(this):a6(this)},a.prototype.pipeThrough=function(a,b){if(void 0===b&&(b={}),!c2(this))throw c7("pipeThrough");W(a,1,"pipeThrough");var c=cZ(a,"First parameter"),d=cX(b,"Second parameter");if(c3(this))throw TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(bx(c.writable))throw TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");var e=cx(this,c.writable,d.preventClose,d.preventAbort,d.preventCancel,d.signal);return v(e),c.readable},a.prototype.pipeTo=function(a,b){var c;if(void 0===b&&(b={}),!c2(this))return p(c7("pipeTo"));if(void 0===a)return p("Parameter 1 is required in 'pipeTo'.");if(!bw(a))return p(TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));try{c=cX(b,"Second parameter")}catch(d){return p(d)}return c3(this)?p(TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):bx(a)?p(TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):cx(this,a,c.preventClose,c.preventAbort,c.preventCancel,c.signal)},a.prototype.tee=function(){if(!c2(this))throw c7("tee");var a=cM(this);return aq(a)},a.prototype.values=function(a){if(void 0===a&&(a=void 0),!c2(this))throw c7("values");var b=cW(a,"First parameter");return am(this,b.preventCancel)},a}();function c_(a,b,c,d,e){void 0===d&&(d=1),void 0===e&&(e=function(){return 1});var f=Object.create(c$.prototype);return c1(f),cJ(f,Object.create(cy.prototype),a,b,c,d,e),f}function c0(a,b,c){var d=Object.create(c$.prototype);return c1(d),a1(d,Object.create(aC.prototype),a,b,c,0,void 0),d}function c1(a){a._state="readable",a._reader=void 0,a._storedError=void 0,a._disturbed=!1}function c2(a){return!!(h(a)&&Object.prototype.hasOwnProperty.call(a,"_readableStreamController"))&&a instanceof c$}function c3(a){return void 0!==a._reader}function c4(a,b){if(a._disturbed=!0,"closed"===a._state)return o(void 0);if("errored"===a._state)return p(a._storedError);c5(a);var c=a._reader;void 0!==c&&bc(c)&&(c._readIntoRequests.forEach(function(a){a._closeSteps(void 0)}),c._readIntoRequests=new A);var d=a._readableStreamController[N](b);return u(d,e)}function c5(a){a._state="closed";var b=a._reader;void 0!==b&&(K(b),ah(b)&&(b._readRequests.forEach(function(a){a._closeSteps()}),b._readRequests=new A))}function c6(a,b){a._state="errored",a._storedError=b;var c=a._reader;void 0!==c&&(I(c,b),ah(c)?(c._readRequests.forEach(function(a){a._errorSteps(b)}),c._readRequests=new A):(c._readIntoRequests.forEach(function(a){a._errorSteps(b)}),c._readIntoRequests=new A))}function c7(a){return TypeError("ReadableStream.prototype."+a+" can only be used on a ReadableStream")}function c8(a,b){S(a,b);var c=null==a?void 0:a.highWaterMark;return X(c,"highWaterMark","QueuingStrategyInit"),{highWaterMark:Y(c)}}Object.defineProperties(c$.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof d.toStringTag&&Object.defineProperty(c$.prototype,d.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof d.asyncIterator&&Object.defineProperty(c$.prototype,d.asyncIterator,{value:c$.prototype.values,writable:!0,configurable:!0});var c9=function(a){return a.byteLength};Object.defineProperty(c9,"name",{value:"size",configurable:!0});var da=function(){function a(a){W(a,1,"ByteLengthQueuingStrategy"),a=c8(a,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=a.highWaterMark}return Object.defineProperty(a.prototype,"highWaterMark",{get:function(){if(!dc(this))throw db("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"size",{get:function(){if(!dc(this))throw db("size");return c9},enumerable:!1,configurable:!0}),a}();function db(a){return TypeError("ByteLengthQueuingStrategy.prototype."+a+" can only be used on a ByteLengthQueuingStrategy")}function dc(a){return!!(h(a)&&Object.prototype.hasOwnProperty.call(a,"_byteLengthQueuingStrategyHighWaterMark"))&&a instanceof da}Object.defineProperties(da.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof d.toStringTag&&Object.defineProperty(da.prototype,d.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var dd=function(){return 1};Object.defineProperty(dd,"name",{value:"size",configurable:!0});var de=function(){function a(a){W(a,1,"CountQueuingStrategy"),a=c8(a,"First parameter"),this._countQueuingStrategyHighWaterMark=a.highWaterMark}return Object.defineProperty(a.prototype,"highWaterMark",{get:function(){if(!dg(this))throw df("highWaterMark");return this._countQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"size",{get:function(){if(!dg(this))throw df("size");return dd},enumerable:!1,configurable:!0}),a}();function df(a){return TypeError("CountQueuingStrategy.prototype."+a+" can only be used on a CountQueuingStrategy")}function dg(a){return!!(h(a)&&Object.prototype.hasOwnProperty.call(a,"_countQueuingStrategyHighWaterMark"))&&a instanceof de}function dh(a,b){S(a,b);var c=null==a?void 0:a.flush,d=null==a?void 0:a.readableType,e=null==a?void 0:a.start,f=null==a?void 0:a.transform,g=null==a?void 0:a.writableType;return{flush:void 0===c?void 0:di(c,a,b+" has member 'flush' that"),readableType:d,start:void 0===e?void 0:dj(e,a,b+" has member 'start' that"),transform:void 0===f?void 0:dk(f,a,b+" has member 'transform' that"),writableType:g}}function di(a,b,c){return T(a,c),function(c){return y(a,b,[c])}}function dj(a,b,c){return T(a,c),function(c){return x(a,b,[c])}}function dk(a,b,c){return T(a,c),function(c,d){return y(a,b,[c,d])}}Object.defineProperties(de.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof d.toStringTag&&Object.defineProperty(de.prototype,d.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var dl=function(){function a(a,b,c){void 0===a&&(a={}),void 0===b&&(b={}),void 0===c&&(c={}),void 0===a&&(a=null);var d,e=bh(b,"Second parameter"),f=bh(c,"Third parameter"),g=dh(a,"First parameter");if(void 0!==g.readableType)throw RangeError("Invalid readableType specified");if(void 0!==g.writableType)throw RangeError("Invalid writableType specified");var h=bf(f,0),i=bg(f),j=bf(e,1),k=bg(e),l=n(function(a){d=a});dm(this,l,j,k,h,i),dv(this,g),void 0!==g.start?d(g.start(this._transformStreamController)):d(void 0)}return Object.defineProperty(a.prototype,"readable",{get:function(){if(!dn(this))throw dG("readable");return this._readable},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"writable",{get:function(){if(!dn(this))throw dG("writable");return this._writable},enumerable:!1,configurable:!0}),a}();function dm(a,b,c,d,e,f){function g(){return b}function h(b){return dB(a,b)}function i(b){return dC(a,b)}function j(){return dD(a)}function k(){return dE(a)}function l(b){return dq(a,b),o(void 0)}a._writable=bu(g,h,j,i,c,d),a._readable=c_(g,k,l,e,f),a._backpressure=void 0,a._backpressureChangePromise=void 0,a._backpressureChangePromise_resolve=void 0,dr(a,!0),a._transformStreamController=void 0}function dn(a){return!!(h(a)&&Object.prototype.hasOwnProperty.call(a,"_transformStreamController"))&&a instanceof dl}function dp(a,b){cF(a._readable._readableStreamController,b),dq(a,b)}function dq(a,b){dw(a._transformStreamController),b7(a._writable._writableStreamController,b),a._backpressure&&dr(a,!1)}function dr(a,b){void 0!==a._backpressureChangePromise&&a._backpressureChangePromise_resolve(),a._backpressureChangePromise=n(function(b){a._backpressureChangePromise_resolve=b}),a._backpressure=b}Object.defineProperties(dl.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof d.toStringTag&&Object.defineProperty(dl.prototype,d.toStringTag,{value:"TransformStream",configurable:!0});var ds=function(){function a(){throw TypeError("Illegal constructor")}return Object.defineProperty(a.prototype,"desiredSize",{get:function(){if(!dt(this))throw dF("desiredSize");return cG(this._controlledTransformStream._readable._readableStreamController)},enumerable:!1,configurable:!0}),a.prototype.enqueue=function(a){if(void 0===a&&(a=void 0),!dt(this))throw dF("enqueue");dx(this,a)},a.prototype.error=function(a){if(void 0===a&&(a=void 0),!dt(this))throw dF("error");dy(this,a)},a.prototype.terminate=function(){if(!dt(this))throw dF("terminate");dA(this)},a}();function dt(a){return!!(h(a)&&Object.prototype.hasOwnProperty.call(a,"_controlledTransformStream"))&&a instanceof ds}function du(a,b,c,d){b._controlledTransformStream=a,a._transformStreamController=b,b._transformAlgorithm=c,b._flushAlgorithm=d}function dv(a,b){var c=Object.create(ds.prototype),d=function(a){try{return dx(c,a),o(void 0)}catch(b){return p(b)}},e=function(){return o(void 0)};void 0!==b.transform&&(d=function(a){return b.transform(a,c)}),void 0!==b.flush&&(e=function(){return b.flush(c)}),du(a,c,d,e)}function dw(a){a._transformAlgorithm=void 0,a._flushAlgorithm=void 0}function dx(a,b){var c=a._controlledTransformStream,d=c._readable._readableStreamController;if(!cI(d))throw TypeError("Readable side is not in a state that permits enqueue");try{cE(d,b)}catch(e){throw dq(c,e),c._readable._storedError}cH(d)!==c._backpressure&&dr(c,!0)}function dy(a,b){dp(a._controlledTransformStream,b)}function dz(a,b){return u(a._transformAlgorithm(b),void 0,function(b){throw dp(a._controlledTransformStream,b),b})}function dA(a){var b=a._controlledTransformStream;cD(b._readable._readableStreamController);var c=TypeError("TransformStream terminated");dq(b,c)}function dB(a,b){var c=a._transformStreamController;return a._backpressure?u(a._backpressureChangePromise,function(){var d=a._writable;if("erroring"===d._state)throw d._storedError;return dz(c,b)}):dz(c,b)}function dC(a,b){return dp(a,b),o(void 0)}function dD(a){var b=a._readable,c=a._transformStreamController,d=c._flushAlgorithm();return dw(c),u(d,function(){if("errored"===b._state)throw b._storedError;cD(b._readableStreamController)},function(c){throw dp(a,c),b._storedError})}function dE(a){return dr(a,!1),a._backpressureChangePromise}function dF(a){return TypeError("TransformStreamDefaultController.prototype."+a+" can only be used on a TransformStreamDefaultController")}function dG(a){return TypeError("TransformStream.prototype."+a+" can only be used on a TransformStream")}Object.defineProperties(ds.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof d.toStringTag&&Object.defineProperty(ds.prototype,d.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),a.ByteLengthQueuingStrategy=da,a.CountQueuingStrategy=de,a.ReadableByteStreamController=aC,a.ReadableStream=c$,a.ReadableStreamBYOBReader=bb,a.ReadableStreamBYOBRequest=aB,a.ReadableStreamDefaultController=cy,a.ReadableStreamDefaultReader=ag,a.TransformStream=dl,a.TransformStreamDefaultController=ds,a.WritableStream=bs,a.WritableStreamDefaultController=bZ,a.WritableStreamDefaultWriter=bO,Object.defineProperty(a,"__esModule",{value:!0})})},(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.BaseStandardFontDataFactory=b.BaseSVGFactory=b.BaseCanvasFactory=b.BaseCMapReaderFactory=void 0;var d=f(c(2)),e=c(4);function f(a){return a&&a.__esModule?a:{default:a}}function g(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function h(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function h(a){g(f,d,e,h,i,"next",a)}function i(a){g(f,d,e,h,i,"throw",a)}h(void 0)})}}function i(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function j(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function k(a,b,c){return b&&j(a.prototype,b),c&&j(a,c),a}var l=function(){function a(){i(this,a),this.constructor===a&&(0,e.unreachable)("Cannot initialize BaseCanvasFactory.")}return k(a,[{key:"create",value:function(a,b){if(a<=0||b<=0)throw Error("Invalid canvas size");var c=this._createCanvas(a,b);return{canvas:c,context:c.getContext("2d")}}},{key:"reset",value:function(a,b,c){if(!a.canvas)throw Error("Canvas is not specified");if(b<=0||c<=0)throw Error("Invalid canvas size");a.canvas.width=b,a.canvas.height=c}},{key:"destroy",value:function(a){if(!a.canvas)throw Error("Canvas is not specified");a.canvas.width=0,a.canvas.height=0,a.canvas=null,a.context=null}},{key:"_createCanvas",value:function(a,b){(0,e.unreachable)("Abstract method `_createCanvas` called.")}}]),a}();b.BaseCanvasFactory=l;var m=function(){function a(b){var c=b.baseUrl,d=void 0===c?null:c,f=b.isCompressed,g=void 0!==f&&f;i(this,a),this.constructor===a&&(0,e.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=d,this.isCompressed=g}return k(a,[{key:"fetch",value:function(){var a=h(d.default.mark(function a(b){var c,f,g,h=this;return d.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(c=b.name,this.baseUrl){a.next=3;break}throw Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(c){a.next=5;break}throw Error("CMap name must be specified.");case 5:return f=this.baseUrl+c+(this.isCompressed?".bcmap":""),g=this.isCompressed?e.CMapCompressionType.BINARY:e.CMapCompressionType.NONE,a.abrupt("return",this._fetchData(f,g).catch(function(a){throw Error("Unable to load ".concat(h.isCompressed?"binary ":"","CMap at: ").concat(f))}));case 8:case"end":return a.stop()}},a,this)}));function b(b){return a.apply(this,arguments)}return b}()},{key:"_fetchData",value:function(a,b){(0,e.unreachable)("Abstract method `_fetchData` called.")}}]),a}();b.BaseCMapReaderFactory=m;var n=function(){function a(b){var c=b.baseUrl,d=void 0===c?null:c;i(this,a),this.constructor===a&&(0,e.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=d}return k(a,[{key:"fetch",value:function(){var a=h(d.default.mark(function a(b){var c,e;return d.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(c=b.filename,this.baseUrl){a.next=3;break}throw Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');case 3:if(c){a.next=5;break}throw Error("Font filename must be specified.");case 5:return e="".concat(this.baseUrl).concat(c),a.abrupt("return",this._fetchData(e).catch(function(a){throw Error("Unable to load font data at: ".concat(e))}));case 7:case"end":return a.stop()}},a,this)}));function b(b){return a.apply(this,arguments)}return b}()},{key:"_fetchData",value:function(a){(0,e.unreachable)("Abstract method `_fetchData` called.")}}]),a}();b.BaseStandardFontDataFactory=n;var o=function(){function a(){i(this,a),this.constructor===a&&(0,e.unreachable)("Cannot initialize BaseSVGFactory.")}return k(a,[{key:"create",value:function(a,b){if(a<=0||b<=0)throw Error("Invalid SVG dimensions");var c=this._createSVG("svg:svg");return c.setAttribute("version","1.1"),c.setAttribute("width","".concat(a,"px")),c.setAttribute("height","".concat(b,"px")),c.setAttribute("preserveAspectRatio","none"),c.setAttribute("viewBox","0 0 ".concat(a," ").concat(b)),c}},{key:"createElement",value:function(a){if("string"!=typeof a)throw Error("Invalid SVG element type");return this._createSVG(a)}},{key:"_createSVG",value:function(a){(0,e.unreachable)("Abstract method `_createSVG` called.")}}]),a}();b.BaseSVGFactory=o},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _regenerator=_interopRequireDefault(__w_pdfjs_require__(2)),_util=__w_pdfjs_require__(4),_display_utils=__w_pdfjs_require__(1),_font_loader=__w_pdfjs_require__(137),_node_utils=__w_pdfjs_require__(138),_annotation_storage=__w_pdfjs_require__(139),_canvas=__w_pdfjs_require__(140),_worker_options=__w_pdfjs_require__(142),_is_node=__w_pdfjs_require__(6),_message_handler=__w_pdfjs_require__(143),_metadata=__w_pdfjs_require__(144),_optional_content_config=__w_pdfjs_require__(145),_transport_stream=__w_pdfjs_require__(146),_xfa_text=__w_pdfjs_require__(147);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _classPrivateFieldInitSpec(a,b,c){_checkPrivateRedeclaration(a,b),b.set(a,c)}function _checkPrivateRedeclaration(a,b){if(b.has(a))throw TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldSet(a,b,c){var d=_classExtractFieldDescriptor(a,b,"set");return _classApplyDescriptorSet(a,d,c),c}function _classApplyDescriptorSet(a,b,c){if(b.set)b.set.call(a,c);else{if(!b.writable)throw TypeError("attempted to set read only private field");b.value=c}}function _classPrivateFieldGet(a,b){var c=_classExtractFieldDescriptor(a,b,"get");return _classApplyDescriptorGet(a,c)}function _classExtractFieldDescriptor(a,b,c){if(!b.has(a))throw TypeError("attempted to "+c+" private field on non-instance");return b.get(a)}function _classApplyDescriptorGet(a,b){return b.get?b.get.call(a):b.value}function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_unsupportedIterableToArray(a)||_nonIterableSpread()}function _nonIterableSpread(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}function _arrayWithoutHoles(a){if(Array.isArray(a))return _arrayLikeToArray(a)}function _createForOfIteratorHelper(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=_unsupportedIterableToArray(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var d=0,e=function(){};return{s:e,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:e}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function(){c=c.call(a)},n:function(){var a=c.next();return g=a.done,a},e:function(a){h=!0,f=a},f:function(){try{g||null==c.return||c.return()}finally{if(h)throw f}}}}function _classCallCheck(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),a}function asyncGeneratorStep(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function _asyncToGenerator(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){asyncGeneratorStep(f,d,e,g,h,"next",a)}function h(a){asyncGeneratorStep(f,d,e,g,h,"throw",a)}g(void 0)})}}function _slicedToArray(a,b){return _arrayWithHoles(a)||_iterableToArrayLimit(a,b)||_unsupportedIterableToArray(a,b)||_nonIterableRest()}function _nonIterableRest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(a,b){if(a){if("string"==typeof a)return _arrayLikeToArray(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return _arrayLikeToArray(a,b)}}function _arrayLikeToArray(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function _iterableToArrayLimit(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}function _arrayWithHoles(a){if(Array.isArray(a))return a}function _typeof(a){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}var DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;var DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;var DefaultStandardFontDataFactory=_is_node.isNodeJS?_node_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;function setPDFNetworkStreamFactory(a){createPDFNetworkStream=a}function getDocument(a){var b,c=new PDFDocumentLoadingTask;if("string"==typeof a||a instanceof URL)b={url:a};else if((0,_util.isArrayBuffer)(a))b={data:a};else if(a instanceof PDFDataRangeTransport)b={range:a};else{if("object"!==_typeof(a))throw Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!a.url&&!a.data&&!a.range)throw Error("Invalid parameter object: need either .data, .range or .url");b=a}var d=Object.create(null),e=null,f=null;for(var g in b){var h=b[g];switch(g){case"url":if("undefined"!=typeof window)try{d[g]=new URL(h,window.location).href;continue}catch(i){(0,_util.warn)('Cannot create valid URL: "'.concat(i,'".'))}else if("string"==typeof h||h instanceof URL){d[g]=h.toString();continue}throw Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":e=h;continue;case"worker":f=h;continue;case"data":if(_is_node.isNodeJS&& void 0!==Buffer&&h instanceof Buffer)d[g]=new Uint8Array(h);else if(h instanceof Uint8Array)break;else if("string"==typeof h)d[g]=(0,_util.stringToBytes)(h);else if("object"!==_typeof(h)||null===h||isNaN(h.length)){if((0,_util.isArrayBuffer)(h))d[g]=new Uint8Array(h);else throw Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.")}else d[g]=new Uint8Array(h);continue}d[g]=h}if(d.rangeChunkSize=d.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,d.CMapReaderFactory=d.CMapReaderFactory||DefaultCMapReaderFactory,d.StandardFontDataFactory=d.StandardFontDataFactory||DefaultStandardFontDataFactory,d.ignoreErrors=!0!==d.stopAtErrors,d.fontExtraProperties=!0===d.fontExtraProperties,d.pdfBug=!0===d.pdfBug,d.enableXfa=!0===d.enableXfa,("string"!=typeof d.docBaseUrl||(0,_display_utils.isDataScheme)(d.docBaseUrl))&&(d.docBaseUrl=null),Number.isInteger(d.maxImageSize)||(d.maxImageSize=-1),"boolean"!=typeof d.useWorkerFetch&&(d.useWorkerFetch=d.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&d.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof d.isEvalSupported&&(d.isEvalSupported=!0),"boolean"!=typeof d.disableFontFace&&(d.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof d.useSystemFonts&&(d.useSystemFonts=!_is_node.isNodeJS&&!d.disableFontFace),void 0===d.ownerDocument&&(d.ownerDocument=globalThis.document),"boolean"!=typeof d.disableRange&&(d.disableRange=!1),"boolean"!=typeof d.disableStream&&(d.disableStream=!1),"boolean"!=typeof d.disableAutoFetch&&(d.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(d.verbosity),!f){var j={verbosity:d.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};f=j.port?PDFWorker.fromPort(j):new PDFWorker(j),c._worker=f}var k=c.docId;return f.promise.then(function(){if(c.destroyed)throw Error("Loading aborted");var a=_fetchDocument(f,d,e,k),b=new Promise(function(a){var b;e?b=new _transport_stream.PDFDataTransportStream({length:d.length,initialData:d.initialData,progressiveDone:d.progressiveDone,contentDispositionFilename:d.contentDispositionFilename,disableRange:d.disableRange,disableStream:d.disableStream},e):d.data||(b=createPDFNetworkStream({url:d.url,length:d.length,httpHeaders:d.httpHeaders,withCredentials:d.withCredentials,rangeChunkSize:d.rangeChunkSize,disableRange:d.disableRange,disableStream:d.disableStream})),a(b)});return Promise.all([a,b]).then(function(a){var b=_slicedToArray(a,2),e=b[0],g=b[1];if(c.destroyed)throw Error("Loading aborted");var h=new _message_handler.MessageHandler(k,e,f.port),i=new WorkerTransport(h,c,g,d);c._transport=i,h.send("Ready",null)})}).catch(c._capability.reject),c}function _fetchDocument(a,b,c,d){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(_regenerator.default.mark(function a(b,c,d,e){var f;return _regenerator.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!b.destroyed){a.next=2;break}throw Error("Worker was destroyed");case 2:return d&&(c.length=d.length,c.initialData=d.initialData,c.progressiveDone=d.progressiveDone,c.contentDispositionFilename=d.contentDispositionFilename),a.next=5,b.messageHandler.sendWithPromise("GetDocRequest",{docId:e,apiVersion:"2.12.313",source:{data:c.data,url:c.url,password:c.password,disableAutoFetch:c.disableAutoFetch,rangeChunkSize:c.rangeChunkSize,length:c.length},maxImageSize:c.maxImageSize,disableFontFace:c.disableFontFace,docBaseUrl:c.docBaseUrl,ignoreErrors:c.ignoreErrors,isEvalSupported:c.isEvalSupported,fontExtraProperties:c.fontExtraProperties,enableXfa:c.enableXfa,useSystemFonts:c.useSystemFonts,cMapUrl:c.useWorkerFetch?c.cMapUrl:null,standardFontDataUrl:c.useWorkerFetch?c.standardFontDataUrl:null});case 5:if(f=a.sent,!b.destroyed){a.next=8;break}throw Error("Worker was destroyed");case 8:return a.abrupt("return",f);case 9:case"end":return a.stop()}},a)}))).apply(this,arguments)}exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;var PDFDocumentLoadingTask=function(){function a(){_classCallCheck(this,a),this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d".concat(a.idCounters.doc++),this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return _createClass(a,[{key:"promise",get:function(){return this._capability.promise}},{key:"destroy",value:function(){var a=_asyncToGenerator(_regenerator.default.mark(function a(){var b;return _regenerator.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return this.destroyed=!0,a.next=3,null===(b=this._transport)|| void 0===b?void 0:b.destroy();case 3:this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null);case 5:case"end":return a.stop()}},a,this)}));function b(){return a.apply(this,arguments)}return b}()}],[{key:"idCounters",get:function(){return(0,_util.shadow)(this,"idCounters",{doc:0})}}]),a}();exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;var PDFDataRangeTransport=function(){function a(b,c){var d=arguments.length>2&& void 0!==arguments[2]&&arguments[2],e=arguments.length>3&& void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,a),this.length=b,this.initialData=c,this.progressiveDone=d,this.contentDispositionFilename=e,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}return _createClass(a,[{key:"addRangeListener",value:function(a){this._rangeListeners.push(a)}},{key:"addProgressListener",value:function(a){this._progressListeners.push(a)}},{key:"addProgressiveReadListener",value:function(a){this._progressiveReadListeners.push(a)}},{key:"addProgressiveDoneListener",value:function(a){this._progressiveDoneListeners.push(a)}},{key:"onDataRange",value:function(a,b){var c,d=_createForOfIteratorHelper(this._rangeListeners);try{for(d.s();!(c=d.n()).done;)(0,c.value)(a,b)}catch(e){d.e(e)}finally{d.f()}}},{key:"onDataProgress",value:function(a,b){var c=this;this._readyCapability.promise.then(function(){var d,e=_createForOfIteratorHelper(c._progressListeners);try{for(e.s();!(d=e.n()).done;)(0,d.value)(a,b)}catch(f){e.e(f)}finally{e.f()}})}},{key:"onDataProgressiveRead",value:function(a){var b=this;this._readyCapability.promise.then(function(){var c,d=_createForOfIteratorHelper(b._progressiveReadListeners);try{for(d.s();!(c=d.n()).done;)(0,c.value)(a)}catch(e){d.e(e)}finally{d.f()}})}},{key:"onDataProgressiveDone",value:function(){var a=this;this._readyCapability.promise.then(function(){var b,c=_createForOfIteratorHelper(a._progressiveDoneListeners);try{for(c.s();!(b=c.n()).done;)(0,b.value)()}catch(d){c.e(d)}finally{c.f()}})}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(a,b){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),a}();exports.PDFDataRangeTransport=PDFDataRangeTransport;var PDFDocumentProxy=function(){function a(b,c){var d=this;_classCallCheck(this,a),this._pdfInfo=b,this._transport=c,Object.defineProperty(this,"fingerprint",{get:function(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:function(){var a=_asyncToGenerator(_regenerator.default.mark(function a(){return _regenerator.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),a.abrupt("return",d.stats||{streamTypes:{},fontTypes:{}});case 2:case"end":return a.stop()}},a)}));function b(){return a.apply(this,arguments)}return b}()})}return _createClass(a,[{key:"annotationStorage",get:function(){return this._transport.annotationStorage}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprints",get:function(){return this._pdfInfo.fingerprints}},{key:"stats",get:function(){return this._transport.stats}},{key:"isPureXfa",get:function(){return!!this._transport._htmlForXfa}},{key:"allXfaHtml",get:function(){return this._transport._htmlForXfa}},{key:"getPage",value:function(a){return this._transport.getPage(a)}},{key:"getPageIndex",value:function(a){return this._transport.getPageIndex(a)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(a){return this._transport.getDestination(a)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function(){return this._transport.getOpenAction()}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getJSActions",value:function(){return this._transport.getDocJSActions()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getOptionalContentConfig",value:function(){return this._transport.getOptionalContentConfig()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getMarkInfo",value:function(){return this._transport.getMarkInfo()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"cleanup",value:function(){var a=arguments.length>0&& void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(a||this.isPureXfa)}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}},{key:"saveDocument",value:function(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}},{key:"getFieldObjects",value:function(){return this._transport.getFieldObjects()}},{key:"hasJSActions",value:function(){return this._transport.hasJSActions()}},{key:"getCalculationOrderIds",value:function(){return this._transport.getCalculationOrderIds()}}]),a}();exports.PDFDocumentProxy=PDFDocumentProxy;var PDFPageProxy=function(){function a(b,c,d,e){var f=arguments.length>4&& void 0!==arguments[4]&&arguments[4];_classCallCheck(this,a),this._pageIndex=b,this._pageInfo=c,this._ownerDocument=e,this._transport=d,this._stats=f?new _display_utils.StatTimer:null,this._pdfBug=f,this.commonObjs=d.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}return _createClass(a,[{key:"pageNumber",get:function(){return this._pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"getViewport",value:function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{},b=a.scale,c=a.rotation,d=void 0===c?this.rotate:c,e=a.offsetX,f=void 0===e?0:e,g=a.offsetY,h=void 0===g?0:g,i=a.dontFlip,j=void 0!==i&&i;return new _display_utils.PageViewport({viewBox:this.view,scale:b,rotation:d,offsetX:f,offsetY:h,dontFlip:j})}},{key:"getAnnotations",value:function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{},b=a.intent,c=void 0===b?"display":b,d=this._transport.getRenderingIntent(c),e=this._annotationPromises.get(d.cacheKey);return e||(e=this._transport.getAnnotations(this._pageIndex,d.renderingIntent),this._annotationPromises.set(d.cacheKey,e),e=e.then(function(a){var b,c=_createForOfIteratorHelper(a);try{var d=function(){var a=b.value;void 0!==a.titleObj&&Object.defineProperty(a,"title",{get:function(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),a.titleObj.str}}),void 0!==a.contentsObj&&Object.defineProperty(a,"contents",{get:function(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),a.contentsObj.str}})};for(c.s();!(b=c.n()).done;)d()}catch(e){c.e(e)}finally{c.f()}return a})),e}},{key:"getJSActions",value:function(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}},{key:"getXfa",value:function(){var a=_asyncToGenerator(_regenerator.default.mark(function a(){var b;return _regenerator.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(null===(b=this._transport._htmlForXfa)|| void 0===b?void 0:b.children[this._pageIndex])||null);case 1:case"end":return a.stop()}},a,this)}));function b(){return a.apply(this,arguments)}return b}()},{key:"render",value:function(a){var b,c,d,e=this,f=a.canvasContext,g=a.viewport,h=a.intent,i=void 0===h?"display":h,j=a.annotationMode,k=void 0===j?_util.AnnotationMode.ENABLE:j,l=a.transform,m=void 0===l?null:l,n=a.imageLayer,o=void 0===n?null:n,p=a.canvasFactory,q=void 0===p?null:p,r=a.background,s=void 0===r?null:r,t=a.optionalContentConfigPromise,u=void 0===t?null:t,v=a.annotationCanvasMap,w=void 0===v?null:v;(null===(b=arguments[0])|| void 0===b?void 0:b.renderInteractiveForms)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&k===_util.AnnotationMode.ENABLE&&(k=_util.AnnotationMode.ENABLE_FORMS)),(null===(c=arguments[0])|| void 0===c?void 0:c.includeAnnotationStorage)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&k===_util.AnnotationMode.ENABLE&&(k=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");var x=this._transport.getRenderingIntent(i,k);this.pendingCleanup=!1,u||(u=this._transport.getOptionalContentConfig());var y=this._intentStates.get(x.cacheKey);y||(y=Object.create(null),this._intentStates.set(x.cacheKey,y)),y.streamReaderCancelTimeout&&(clearTimeout(y.streamReaderCancelTimeout),y.streamReaderCancelTimeout=null);var z=q||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),A=!!(x.renderingIntent&_util.RenderingIntentFlag.PRINT);y.displayReadyCapability||(y.displayReadyCapability=(0,_util.createPromiseCapability)(),y.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(x));var B=function(a){y.renderTasks.delete(C),(e.cleanupAfterRender||A)&&(e.pendingCleanup=!0),e._tryCleanup(),a?(C.capability.reject(a),e._abortOperatorList({intentState:y,reason:a instanceof Error?a:Error(a)})):C.capability.resolve(),e._stats&&(e._stats.timeEnd("Rendering"),e._stats.timeEnd("Overall"))},C=new InternalRenderTask({callback:B,params:{canvasContext:f,viewport:g,transform:m,imageLayer:o,background:s},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:w,operatorList:y.operatorList,pageIndex:this._pageIndex,canvasFactory:z,useRequestAnimationFrame:!A,pdfBug:this._pdfBug});((d=y).renderTasks||(d.renderTasks=new Set)).add(C);var D=C.task;return Promise.all([y.displayReadyCapability.promise,u]).then(function(a){var b=_slicedToArray(a,2),c=b[0],d=b[1];if(e.pendingCleanup){B();return}e._stats&&e._stats.time("Rendering"),C.initializeGraphics({transparency:c,optionalContentConfig:d}),C.operatorListChanged()}).catch(B),D}},{key:"getOperatorList",value:function(){var a,b,c=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{},d=c.intent,e=void 0===d?"display":d,f=c.annotationMode,g=void 0===f?_util.AnnotationMode.ENABLE:f;function h(){j.operatorList.lastChunk&&(j.opListReadCapability.resolve(j.operatorList),j.renderTasks.delete(a))}var i=this._transport.getRenderingIntent(e,g,!0),j=this._intentStates.get(i.cacheKey);return j||(j=Object.create(null),this._intentStates.set(i.cacheKey,j)),j.opListReadCapability||((a=Object.create(null)).operatorListChanged=h,j.opListReadCapability=(0,_util.createPromiseCapability)(),((b=j).renderTasks||(b.renderTasks=new Set)).add(a),j.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(i)),j.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{},b=a.normalizeWhitespace,c=void 0!==b&&b,d=a.disableCombineTextItems,e=void 0!==d&&d,f=a.includeMarkedContent,g=void 0!==f&&f,h=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:!0===c,combineTextItems:!0!==e,includeMarkedContent:!0===g},{highWaterMark:h,size:function(a){return a.items.length}})}},{key:"getTextContent",value:function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then(function(a){return _xfa_text.XfaText.textContent(a)});var b=this.streamTextContent(a);return new Promise(function(a,c){function d(){e.read().then(function(b){var c,e=b.value;if(b.done){a(f);return}Object.assign(f.styles,e.styles),(c=f.items).push.apply(c,_toConsumableArray(e.items)),d()},c)}var e=b.getReader(),f={items:[],styles:Object.create(null)};d()})}},{key:"getStructTree",value:function(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}},{key:"_destroy",value:function(){this.destroyed=!0;var a,b=[],c=_createForOfIteratorHelper(this._intentStates.values());try{for(c.s();!(a=c.n()).done;){var d=a.value;if(this._abortOperatorList({intentState:d,reason:Error("Page was destroyed."),force:!0}),!d.opListReadCapability){var e,f=_createForOfIteratorHelper(d.renderTasks);try{for(f.s();!(e=f.n()).done;){var g=e.value;b.push(g.completed),g.cancel()}}catch(h){f.e(h)}finally{f.f()}}}}catch(i){c.e(i)}finally{c.f()}return this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(b)}},{key:"cleanup",value:function(){var a=arguments.length>0&& void 0!==arguments[0]&&arguments[0];return this.pendingCleanup=!0,this._tryCleanup(a)}},{key:"_tryCleanup",value:function(){var a=arguments.length>0&& void 0!==arguments[0]&&arguments[0];if(!this.pendingCleanup)return!1;var b,c=_createForOfIteratorHelper(this._intentStates.values());try{for(c.s();!(b=c.n()).done;){var d=b.value,e=d.renderTasks,f=d.operatorList;if(e.size>0||!f.lastChunk)return!1}}catch(g){c.e(g)}finally{c.f()}return this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,a&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}},{key:"_startRenderPage",value:function(a,b){var c=this._intentStates.get(b);c&&(this._stats&&this._stats.timeEnd("Page Request"),c.displayReadyCapability&&c.displayReadyCapability.resolve(a))}},{key:"_renderPageChunk",value:function(a,b){for(var c=0,d=a.length;c<d;c++)b.operatorList.fnArray.push(a.fnArray[c]),b.operatorList.argsArray.push(a.argsArray[c]);b.operatorList.lastChunk=a.lastChunk;var e,f=_createForOfIteratorHelper(b.renderTasks);try{for(f.s();!(e=f.n()).done;)e.value.operatorListChanged()}catch(g){f.e(g)}finally{f.f()}a.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function(a){var b=this,c=a.renderingIntent,d=a.cacheKey,e=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:c,cacheKey:d,annotationStorage:c&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),f=this._intentStates.get(d);f.streamReader=e,function a(){e.read().then(function(c){var d=c.value,e=c.done;if(e){f.streamReader=null;return}!b._transport.destroyed&&(b._renderPageChunk(d,f),a())},function(a){if(f.streamReader=null,!b._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;var c,d=_createForOfIteratorHelper(f.renderTasks);try{for(d.s();!(c=d.n()).done;)c.value.operatorListChanged()}catch(e){d.e(e)}finally{d.f()}b._tryCleanup()}if(f.displayReadyCapability)f.displayReadyCapability.reject(a);else if(f.opListReadCapability)f.opListReadCapability.reject(a);else throw a}})}()}},{key:"_abortOperatorList",value:function(a){var b=this,c=a.intentState,d=a.reason,e=a.force,f=void 0!==e&&e;if(c.streamReader){if(!f){if(c.renderTasks.size>0)return;if(d instanceof _display_utils.RenderingCancelledException){c.streamReaderCancelTimeout=setTimeout(function(){b._abortOperatorList({intentState:c,reason:d,force:!0}),c.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(c.streamReader.cancel(new _util.AbortException(d.message)).catch(function(){}),c.streamReader=null,!this._transport.destroyed){var g,h=_createForOfIteratorHelper(this._intentStates);try{for(h.s();!(g=h.n()).done;){var i=_slicedToArray(g.value,2),j=i[0],k=i[1];if(k===c){this._intentStates.delete(j);break}}}catch(l){h.e(l)}finally{h.f()}this.cleanup()}}}},{key:"stats",get:function(){return this._stats}}]),a}();exports.PDFPageProxy=PDFPageProxy;var LoopbackPort=function(){function a(){_classCallCheck(this,a),this._listeners=[],this._deferred=Promise.resolve()}return _createClass(a,[{key:"postMessage",value:function(a,b){var c=this;function d(a){if(globalThis.structuredClone)return globalThis.structuredClone(a,b);function c(a){if("function"==typeof a||"symbol"===_typeof(a)||a instanceof URL)throw Error("LoopbackPort.postMessage - cannot clone: ".concat(null==a?void 0:a.toString()));if("object"!==_typeof(a)||null===a)return a;if(d.has(a))return d.get(a);if((e=a.buffer)&&(0,_util.isArrayBuffer)(e))return f=null!=b&&b.includes(e)?new a.constructor(e,a.byteOffset,a.byteLength):new a.constructor(a),d.set(a,f),f;if(a instanceof Map){f=new Map,d.set(a,f);var e,f,g,h=_createForOfIteratorHelper(a);try{for(h.s();!(g=h.n()).done;){var i=_slicedToArray(g.value,2),j=i[0],k=i[1];f.set(j,c(k))}}catch(l){h.e(l)}finally{h.f()}return f}if(a instanceof Set){f=new Set,d.set(a,f);var m,n=_createForOfIteratorHelper(a);try{for(n.s();!(m=n.n()).done;){var o=m.value;f.add(c(o))}}catch(p){n.e(p)}finally{n.f()}return f}for(var q in f=Array.isArray(a)?[]:Object.create(null),d.set(a,f),a){for(var r,s=void 0,t=a;!(s=Object.getOwnPropertyDescriptor(t,q));)t=Object.getPrototypeOf(t);void 0!==s.value&&("function"!=typeof s.value||null!==(r=a.hasOwnProperty)&& void 0!==r&&r.call(a,q))&&(f[q]=c(s.value))}return f}var d=new WeakMap;return c(a)}var e={data:d(a)};this._deferred.then(function(){var a,b=_createForOfIteratorHelper(c._listeners);try{for(b.s();!(a=b.n()).done;)a.value.call(c,e)}catch(d){b.e(d)}finally{b.f()}})}},{key:"addEventListener",value:function(a,b){this._listeners.push(b)}},{key:"removeEventListener",value:function(a,b){var c=this._listeners.indexOf(b);this._listeners.splice(c,1)}},{key:"terminate",value:function(){this._listeners.length=0}}]),a}();exports.LoopbackPort=LoopbackPort;var PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(("undefined"==typeof document?"undefined":_typeof(document))==="object"){var createPDFNetworkStream,_document,_document$currentScri,pdfjsFilePath=null===(_document=document)|| void 0===_document?void 0:null===(_document$currentScri=_document.currentScript)|| void 0===_document$currentScri?void 0:_document$currentScri.src;pdfjsFilePath&&(PDFWorkerUtil.fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.createCDNWrapper=function(a){var b='importScripts("'.concat(a,'");');return URL.createObjectURL(new Blob([b]))};var PDFWorker=function(){function PDFWorker(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{},b=a.name,c=void 0===b?null:b,d=a.port,e=void 0===d?null:d,f=a.verbosity,g=void 0===f?(0,_util.getVerbosityLevel)():f;if(_classCallCheck(this,PDFWorker),e&&PDFWorker._workerPorts.has(e))throw Error("Cannot use more than one PDFWorker per port.");if(this.name=c,this.destroyed=!1,this.verbosity=g,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,e){PDFWorker._workerPorts.set(e,this),this._initializeFromPort(e);return}this._initialize()}return _createClass(PDFWorker,[{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}},{key:"_initializeFromPort",value:function(a){this._port=a,this._messageHandler=new _message_handler.MessageHandler("main","worker",a),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}},{key:"_initialize",value:function(){var a=this;if("undefined"!=typeof Worker&&!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){var b=PDFWorker.workerSrc;try{(0,_util.isSameOrigin)(window.location.href,b)||(b=PDFWorkerUtil.createCDNWrapper(new URL(b,window.location).href));var c=new Worker(b),d=new _message_handler.MessageHandler("main","worker",c),e=function(){c.removeEventListener("error",f),d.destroy(),c.terminate(),a.destroyed?a._readyCapability.reject(Error("Worker was destroyed")):a._setupFakeWorker()},f=function(){a._webWorker||e()};c.addEventListener("error",f),d.on("test",function(b){if(c.removeEventListener("error",f),a.destroyed){e();return}b?(a._messageHandler=d,a._port=c,a._webWorker=c,a._readyCapability.resolve(),d.send("configure",{verbosity:a.verbosity})):(a._setupFakeWorker(),d.destroy(),c.terminate())}),d.on("ready",function(b){if(c.removeEventListener("error",f),a.destroyed){e();return}try{g()}catch(d){a._setupFakeWorker()}});var g=function(){var a=new Uint8Array([255]);try{d.send("test",a,[a.buffer])}catch(b){(0,_util.warn)("Cannot use postMessage transfers."),a[0]=0,d.send("test",a)}};g();return}catch(h){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var a=this;PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(function(b){if(a.destroyed){a._readyCapability.reject(Error("Worker was destroyed"));return}var c=new LoopbackPort;a._port=c;var d="fake".concat(PDFWorkerUtil.fakeWorkerId++),e=new _message_handler.MessageHandler(d+"_worker",d,c);b.setup(e,c);var f=new _message_handler.MessageHandler(d,d+"_worker",c);a._messageHandler=f,a._readyCapability.resolve(),f.send("configure",{verbosity:a.verbosity})}).catch(function(b){a._readyCapability.reject(Error('Setting up fake worker failed: "'.concat(b.message,'".')))})}},{key:"destroy",value:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker._workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}}],[{key:"_workerPorts",get:function(){return(0,_util.shadow)(this,"_workerPorts",new WeakMap)}},{key:"fromPort",value:function(a){if(!(null!=a&&a.port))throw Error("PDFWorker.fromPort - invalid method signature.");return this._workerPorts.has(a.port)?this._workerPorts.get(a.port):new PDFWorker(a)}},{key:"workerSrc",get:function(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw Error('No "GlobalWorkerOptions.workerSrc" specified.')}},{key:"_mainThreadWorkerMessageHandler",get:function(){try{var a;return(null===(a=globalThis.pdfjsWorker)|| void 0===a?void 0:a.WorkerMessageHandler)||null}catch(b){return null}}},{key:"_setupFakeWorkerGlobal",get:function get(){var _ref15,_this11=this,loader=(_ref15=_asyncToGenerator(_regenerator.default.mark(function _callee4(){var mainWorkerMessageHandler,worker;return _regenerator.default.wrap(function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(!(mainWorkerMessageHandler=_this11._mainThreadWorkerMessageHandler)){_context4.next=3;break}return _context4.abrupt("return",mainWorkerMessageHandler);case 3:if(!_is_node.isNodeJS){_context4.next=6;break}return worker=eval("require")(_this11.workerSrc),_context4.abrupt("return",worker.WorkerMessageHandler);case 6:return _context4.next=8,(0,_display_utils.loadScript)(_this11.workerSrc);case 8:return _context4.abrupt("return",window.pdfjsWorker.WorkerMessageHandler);case 9:case"end":return _context4.stop()}},_callee4)})),function(){return _ref15.apply(this,arguments)});return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}]),PDFWorker}();exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap,WorkerTransport=function(){function a(b,c,d,e){_classCallCheck(this,a),_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=b,this.loadingTask=c,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:c.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:e.ownerDocument,styleElement:e.styleElement}),this._params=e,e.useWorkerFetch||(this.CMapReaderFactory=new e.CMapReaderFactory({baseUrl:e.cMapUrl,isCompressed:e.cMapPacked}),this.StandardFontDataFactory=new e.StandardFontDataFactory({baseUrl:e.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=d,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}return _createClass(a,[{key:"annotationStorage",get:function(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}},{key:"stats",get:function(){return _classPrivateFieldGet(this,_docStats)}},{key:"getRenderingIntent",value:function(a){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:_util.AnnotationMode.ENABLE,c=arguments.length>2&& void 0!==arguments[2]&&arguments[2],d=_util.RenderingIntentFlag.DISPLAY,e="";switch(a){case"any":d=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":d=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)("getRenderingIntent - invalid intent: ".concat(a))}switch(b){case _util.AnnotationMode.DISABLE:d+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:d+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:d+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,e=this.annotationStorage.lastModified;break;default:(0,_util.warn)("getRenderingIntent - invalid annotationMode: ".concat(b))}return c&&(d+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:d,cacheKey:"".concat(d,"_").concat(e)}}},{key:"destroy",value:function(){var a=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(Error("Worker was destroyed during onPassword callback"));var b,c=[],d=_createForOfIteratorHelper(_classPrivateFieldGet(this,_pageCache).values());try{for(d.s();!(b=d.n()).done;){var e=b.value;c.push(e._destroy())}}catch(f){d.e(f)}finally{d.f()}_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();var g=this.messageHandler.sendWithPromise("Terminate",null);return c.push(g),Promise.all(c).then(function(){a.commonObjs.clear(),a.fontLoader.clear(),_classPrivateFieldSet(a,_metadataPromise,null),a._getFieldObjectsPromise=null,a._hasJSActionsPromise=null,a._networkStream&&a._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),a.messageHandler&&(a.messageHandler.destroy(),a.messageHandler=null),a.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var a=this,b=this.messageHandler,c=this.loadingTask;b.on("GetReader",function(b,c){(0,_util.assert)(a._networkStream,"GetReader - no `IPDFStream` instance available."),a._fullReader=a._networkStream.getFullReader(),a._fullReader.onProgress=function(b){a._lastProgress={loaded:b.loaded,total:b.total}},c.onPull=function(){a._fullReader.read().then(function(a){var b=a.value;if(a.done){c.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(b),"GetReader - expected an ArrayBuffer."),c.enqueue(new Uint8Array(b),1,[b])}).catch(function(a){c.error(a)})},c.onCancel=function(b){a._fullReader.cancel(b),c.ready.catch(function(b){if(!a.destroyed)throw b})}}),b.on("ReaderHeadersReady",function(b){var d=(0,_util.createPromiseCapability)(),e=a._fullReader;return e.headersReady.then(function(){if(!e.isStreamingSupported||!e.isRangeSupported){if(a._lastProgress){var b;null===(b=c.onProgress)|| void 0===b||b.call(c,a._lastProgress)}e.onProgress=function(a){var b;null===(b=c.onProgress)|| void 0===b||b.call(c,{loaded:a.loaded,total:a.total})}}d.resolve({isStreamingSupported:e.isStreamingSupported,isRangeSupported:e.isRangeSupported,contentLength:e.contentLength})},d.reject),d.promise}),b.on("GetRangeReader",function(b,c){(0,_util.assert)(a._networkStream,"GetRangeReader - no `IPDFStream` instance available.");var d=a._networkStream.getRangeReader(b.begin,b.end);if(!d){c.close();return}c.onPull=function(){d.read().then(function(a){var b=a.value;if(a.done){c.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(b),"GetRangeReader - expected an ArrayBuffer."),c.enqueue(new Uint8Array(b),1,[b])}).catch(function(a){c.error(a)})},c.onCancel=function(b){d.cancel(b),c.ready.catch(function(b){if(!a.destroyed)throw b})}}),b.on("GetDoc",function(b){var d=b.pdfInfo;a._numPages=d.numPages,a._htmlForXfa=d.htmlForXfa,delete d.htmlForXfa,c._capability.resolve(new PDFDocumentProxy(d,a))}),b.on("DocException",function(a){var b;switch(a.name){case"PasswordException":b=new _util.PasswordException(a.message,a.code);break;case"InvalidPDFException":b=new _util.InvalidPDFException(a.message);break;case"MissingPDFException":b=new _util.MissingPDFException(a.message);break;case"UnexpectedResponseException":b=new _util.UnexpectedResponseException(a.message,a.status);break;case"UnknownErrorException":b=new _util.UnknownErrorException(a.message,a.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}c._capability.reject(b)}),b.on("PasswordRequest",function(b){if(a._passwordCapability=(0,_util.createPromiseCapability)(),c.onPassword){var d=function(b){a._passwordCapability.resolve({password:b})};try{c.onPassword(d,b.code)}catch(e){a._passwordCapability.reject(e)}}else a._passwordCapability.reject(new _util.PasswordException(b.message,b.code));return a._passwordCapability.promise}),b.on("DataLoaded",function(b){var d;null===(d=c.onProgress)|| void 0===d||d.call(c,{loaded:b.length,total:b.length}),a.downloadInfoCapability.resolve(b)}),b.on("StartRenderPage",function(b){!a.destroyed&&_classPrivateFieldGet(a,_pageCache).get(b.pageIndex)._startRenderPage(b.transparency,b.cacheKey)}),b.on("commonobj",function(c){var d,e=_slicedToArray(c,3),f=e[0],g=e[1],h=e[2];if(!(a.destroyed||a.commonObjs.has(f)))switch(g){case"Font":var i=a._params;if("error"in h){var j=h.error;(0,_util.warn)("Error during font loading: ".concat(j)),a.commonObjs.resolve(f,j);break}var k=null;i.pdfBug&&null!==(d=globalThis.FontInspector)&& void 0!==d&&d.enabled&&(k={registerFont:function(a,b){globalThis.FontInspector.fontAdded(a,b)}});var l=new _font_loader.FontFaceObject(h,{isEvalSupported:i.isEvalSupported,disableFontFace:i.disableFontFace,ignoreErrors:i.ignoreErrors,onUnsupportedFeature:a._onUnsupportedFeature.bind(a),fontRegistry:k});a.fontLoader.bind(l).catch(function(a){return b.sendWithPromise("FontFallback",{id:f})}).finally(function(){!i.fontExtraProperties&&l.data&&(l.data=null),a.commonObjs.resolve(f,l)});break;case"FontPath":case"Image":a.commonObjs.resolve(f,h);break;default:throw Error("Got unknown common object type ".concat(g))}}),b.on("obj",function(b){var c,d=_slicedToArray(b,4),e=d[0],f=d[1],g=d[2],h=d[3];if(!a.destroyed){var i=_classPrivateFieldGet(a,_pageCache).get(f);if(!i.objs.has(e))switch(g){case"Image":i.objs.resolve(e,h);var j=8e6;(null==h?void 0:null===(c=h.data)|| void 0===c?void 0:c.length)>j&&(i.cleanupAfterRender=!0);break;case"Pattern":i.objs.resolve(e,h);break;default:throw Error("Got unknown object type ".concat(g))}}}),b.on("DocProgress",function(b){var d;!a.destroyed&&(null===(d=c.onProgress)|| void 0===d||d.call(c,{loaded:b.loaded,total:b.total}))}),b.on("DocStats",function(b){!a.destroyed&&_classPrivateFieldSet(a,_docStats,Object.freeze({streamTypes:Object.freeze(b.streamTypes),fontTypes:Object.freeze(b.fontTypes)}))}),b.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),b.on("FetchBuiltInCMap",function(b){return a.destroyed?Promise.reject(Error("Worker was destroyed.")):a.CMapReaderFactory?a.CMapReaderFactory.fetch(b):Promise.reject(Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))}),b.on("FetchStandardFontData",function(b){return a.destroyed?Promise.reject(Error("Worker was destroyed.")):a.StandardFontDataFactory?a.StandardFontDataFactory.fetch(b):Promise.reject(Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))})}},{key:"_onUnsupportedFeature",value:function(a){var b,c,d=a.featureId;!this.destroyed&&(null===(b=(c=this.loadingTask).onUnsupportedFeature)|| void 0===b||b.call(c,d))}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(a){var b=this;if(!Number.isInteger(a)||a<=0||a>this._numPages)return Promise.reject(Error("Invalid page request"));var c=a-1,d=_classPrivateFieldGet(this,_pagePromises).get(c);if(d)return d;var e=this.messageHandler.sendWithPromise("GetPage",{pageIndex:c}).then(function(a){if(b.destroyed)throw Error("Transport destroyed");var d=new PDFPageProxy(c,a,b,b._params.ownerDocument,b._params.pdfBug);return _classPrivateFieldGet(b,_pageCache).set(c,d),d});return _classPrivateFieldGet(this,_pagePromises).set(c,e),e}},{key:"getPageIndex",value:function(a){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:a})}},{key:"getAnnotations",value:function(a,b){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:a,intent:b})}},{key:"saveDocument",value:function(){var a,b,c=this;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:null!==(a=null===(b=this._fullReader)|| void 0===b?void 0:b.filename)&& void 0!==a?a:null}).finally(function(){c.annotationStorage.resetModified()})}},{key:"getFieldObjects",value:function(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}},{key:"hasJSActions",value:function(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}},{key:"getCalculationOrderIds",value:function(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(a){return"string"!=typeof a?Promise.reject(Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:a})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getDocJSActions",value:function(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}},{key:"getPageJSActions",value:function(a){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:a})}},{key:"getStructTree",value:function(a){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:a})}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getOptionalContentConfig",value:function(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(function(a){return new _optional_content_config.OptionalContentConfig(a)})}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var a=this;return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(function(b){var c,d,e,f;return{info:b[0],metadata:b[1]?new _metadata.Metadata(b[1]):null,contentDispositionFilename:null!==(c=null===(d=a._fullReader)|| void 0===d?void 0:d.filename)&& void 0!==c?c:null,contentLength:null!==(e=null===(f=a._fullReader)|| void 0===f?void 0:f.contentLength)&& void 0!==e?e:null}}))}},{key:"getMarkInfo",value:function(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}},{key:"startCleanup",value:function(){var a=_asyncToGenerator(_regenerator.default.mark(function a(){var b,c,d,e,f,g=arguments;return _regenerator.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b=g.length>0&& void 0!==g[0]&&g[0],a.next=3,this.messageHandler.sendWithPromise("Cleanup",null);case 3:if(!this.destroyed){a.next=5;break}return a.abrupt("return");case 5:c=_createForOfIteratorHelper(_classPrivateFieldGet(this,_pageCache).values()),a.prev=6,c.s();case 8:if((d=c.n()).done){a.next=15;break}if(f=(e=d.value).cleanup()){a.next=13;break}throw Error("startCleanup: Page ".concat(e.pageNumber," is currently rendering."));case 13:a.next=8;break;case 15:a.next=20;break;case 17:a.prev=17,a.t0=a.catch(6),c.e(a.t0);case 20:return a.prev=20,c.f(),a.finish(20);case 23:this.commonObjs.clear(),b||this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null;case 28:case"end":return a.stop()}},a,this,[[6,17,20,23]])}));function b(){return a.apply(this,arguments)}return b}()},{key:"loadingParams",get:function(){var a=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:a.disableAutoFetch,enableXfa:a.enableXfa})}}]),a}(),PDFObjects=function(){function a(){_classCallCheck(this,a),this._objs=Object.create(null)}return _createClass(a,[{key:"_ensureObj",value:function(a){return this._objs[a]?this._objs[a]:this._objs[a]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1}}},{key:"get",value:function(a){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:null;if(b)return this._ensureObj(a).capability.promise.then(b),null;var c=this._objs[a];if(!c||!c.resolved)throw Error("Requesting object that isn't resolved yet ".concat(a,"."));return c.data}},{key:"has",value:function(a){var b=this._objs[a];return(null==b?void 0:b.resolved)||!1}},{key:"resolve",value:function(a,b){var c=this._ensureObj(a);c.resolved=!0,c.data=b,c.capability.resolve(b)}},{key:"clear",value:function(){this._objs=Object.create(null)}}]),a}(),RenderTask=function(){function a(b){_classCallCheck(this,a),this._internalRenderTask=b,this.onContinue=null}return _createClass(a,[{key:"promise",get:function(){return this._internalRenderTask.capability.promise}},{key:"cancel",value:function(){this._internalRenderTask.cancel()}}]),a}();exports.RenderTask=RenderTask;var InternalRenderTask=function(){function a(b){var c=b.callback,d=b.params,e=b.objs,f=b.commonObjs,g=b.annotationCanvasMap,h=b.operatorList,i=b.pageIndex,j=b.canvasFactory,k=b.useRequestAnimationFrame,l=void 0!==k&&k,m=b.pdfBug,n=void 0!==m&&m;_classCallCheck(this,a),this.callback=c,this.params=d,this.objs=e,this.commonObjs=f,this.annotationCanvasMap=g,this.operatorListIdx=null,this.operatorList=h,this._pageIndex=i,this.canvasFactory=j,this._pdfBug=n,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===l&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=d.canvasContext.canvas}return _createClass(a,[{key:"completed",get:function(){return this.capability.promise.catch(function(){})}},{key:"initializeGraphics",value:function(b){var c,d=b.transparency,e=void 0!==d&&d,f=b.optionalContentConfig;if(!this.cancelled){if(this._canvas){if(a.canvasInUse.has(this._canvas))throw Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");a.canvasInUse.add(this._canvas)}this._pdfBug&&null!==(c=globalThis.StepperManager)&& void 0!==c&&c.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var g=this.params,h=g.canvasContext,i=g.viewport,j=g.transform,k=g.imageLayer,l=g.background;this.gfx=new _canvas.CanvasGraphics(h,this.commonObjs,this.objs,this.canvasFactory,k,f,this.annotationCanvasMap),this.gfx.beginDrawing({transform:j,viewport:i,transparency:e,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){var b=arguments.length>0&& void 0!==arguments[0]?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&a.canvasInUse.delete(this._canvas),this.callback(b||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas"))}},{key:"operatorListChanged",value:function(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()}},{key:"_continue",value:function(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function(){var a=this;this._useRequestAnimationFrame?window.requestAnimationFrame(function(){a._nextBound().catch(a._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}},{key:"_next",value:function(){var b=_asyncToGenerator(_regenerator.default.mark(function b(){return _regenerator.default.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(!this.cancelled){b.next=2;break}return b.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&a.canvasInUse.delete(this._canvas),this.callback()));case 4:case"end":return b.stop()}},b,this)}));function c(){return b.apply(this,arguments)}return c}()}],[{key:"canvasInUse",get:function(){return(0,_util.shadow)(this,"canvasInUse",new WeakSet)}}]),a}(),version="2.12.313";exports.version=version;var build="a2ae56f39";exports.build=build},(a,b,c)=>{"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}Object.defineProperty(b,"__esModule",{value:!0}),b.FontLoader=b.FontFaceObject=void 0;var e,f=h(c(2)),g=c(4);function h(a){return a&&a.__esModule?a:{default:a}}function i(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&j(a,b)}function j(a,b){return(j=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function k(a){var b=n();return function(){var c,d=o(a);if(b){var e=o(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return l(this,c)}}function l(a,b){if(b&&("object"===d(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");return m(a)}function m(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function n(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function o(a){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function p(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function q(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){p(f,d,e,g,h,"next",a)}function h(a){p(f,d,e,g,h,"throw",a)}g(void 0)})}}function r(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=s(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var d=0,e=function(){};return{s:e,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:e}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function(){c=c.call(a)},n:function(){var a=c.next();return g=a.done,a},e:function(a){h=!0,f=a},f:function(){try{g||null==c.return||c.return()}finally{if(h)throw f}}}}function s(a,b){if(a){if("string"==typeof a)return t(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return t(a,b)}}function t(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function u(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function v(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function w(a,b,c){return b&&v(a.prototype,b),c&&v(a,c),a}var x=function(){function a(b){var c=b.docId,d=b.onUnsupportedFeature,e=b.ownerDocument,f=void 0===e?globalThis.document:e;b.styleElement,u(this,a),this.constructor===a&&(0,g.unreachable)("Cannot initialize BaseFontLoader."),this.docId=c,this._onUnsupportedFeature=d,this._document=f,this.nativeFontFaces=[],this.styleElement=null}return w(a,[{key:"addNativeFontFace",value:function(a){this.nativeFontFaces.push(a),this._document.fonts.add(a)}},{key:"insertRule",value:function(a){var b=this.styleElement;b||((b=this.styleElement=this._document.createElement("style")).id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),this._document.documentElement.getElementsByTagName("head")[0].appendChild(b));var c=b.sheet;c.insertRule(a,c.cssRules.length)}},{key:"clear",value:function(){var a,b=r(this.nativeFontFaces);try{for(b.s();!(a=b.n()).done;){var c=a.value;this._document.fonts.delete(c)}}catch(d){b.e(d)}finally{b.f()}this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:function(){var a=q(f.default.mark(function a(b){var c,d,e=this;return f.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(b.attached||b.missingFile)){a.next=2;break}return a.abrupt("return");case 2:if(b.attached=!0,!this.isFontLoadingAPISupported){a.next=19;break}if(!(c=b.createNativeFontFace())){a.next=18;break}return this.addNativeFontFace(c),a.prev=7,a.next=10,c.loaded;case 10:a.next=18;break;case 12:throw a.prev=12,a.t0=a.catch(7),this._onUnsupportedFeature({featureId:g.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,g.warn)("Failed to load font '".concat(c.family,"': '").concat(a.t0,"'.")),b.disableFontFace=!0,a.t0;case 18:return a.abrupt("return");case 19:if(!(d=b.createFontFaceRule())){a.next=26;break}if(this.insertRule(d),!this.isSyncFontLoadingSupported){a.next=24;break}return a.abrupt("return");case 24:return a.next=26,new Promise(function(a){var c=e._queueLoadingCallback(a);e._prepareFontLoadEvent([d],[b],c)});case 26:case"end":return a.stop()}},a,this,[[7,12]])}));function b(b){return a.apply(this,arguments)}return b}()},{key:"_queueLoadingCallback",value:function(a){(0,g.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"isFontLoadingAPISupported",get:function(){var a,b=!!(null!==(a=this._document)&& void 0!==a&&a.fonts);return(0,g.shadow)(this,"isFontLoadingAPISupported",b)}},{key:"isSyncFontLoadingSupported",get:function(){(0,g.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,g.unreachable)("Abstract method `_loadTestFont`.")}},{key:"_prepareFontLoadEvent",value:function(a,b,c){(0,g.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}]),a}();b.FontLoader=e,b.FontLoader=e=function(a){i(c,a);var b=k(c);function c(a){var d;return u(this,c),(d=b.call(this,a)).loadingContext={requests:[],nextRequestId:0},d.loadTestFontId=0,d}return w(c,[{key:"isSyncFontLoadingSupported",get:function(){var a=!1;if("undefined"==typeof navigator)a=!0;else{var b=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(null==b?void 0:b[1])>=14&&(a=!0)}return(0,g.shadow)(this,"isSyncFontLoadingSupported",a)}},{key:"_queueLoadingCallback",value:function(a){function b(){for((0,g.assert)(!d.done,"completeRequest() cannot be called twice."),d.done=!0;c.requests.length>0&&c.requests[0].done;)setTimeout(c.requests.shift().callback,0)}var c=this.loadingContext,d={id:"pdfjs-font-loading-".concat(c.nextRequestId++),done:!1,complete:b,callback:a};return c.requests.push(d),d}},{key:"_loadTestFont",get:function(){var a=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,g.shadow)(this,"_loadTestFont",a())}},{key:"_prepareFontLoadEvent",value:function(a,b,c){function d(a,b){return a.charCodeAt(b)<<24|a.charCodeAt(b+1)<<16|a.charCodeAt(b+2)<<8|255&a.charCodeAt(b+3)}function e(a,b,c,d){var e=a.substring(0,b),f=a.substring(b+c);return e+d+f}var f=this._document.createElement("canvas");f.width=1,f.height=1;var h=f.getContext("2d"),i=0;function j(a,b){if(++i>30){(0,g.warn)("Load test font never loaded."),b();return}if(h.font="30px "+a,h.fillText(".",0,20),h.getImageData(0,0,1,1).data[3]>0){b();return}setTimeout(j.bind(null,a,b))}var k="lt".concat(Date.now()).concat(this.loadTestFontId++),l=this._loadTestFont;l=e(l,976,k.length,k);var m=16,n=1482184792,o=d(l,m);for(s=0,t=k.length-3;s<t;s+=4)o=o-n+d(k,s)|0;s<k.length&&(o=o-n+d(k+"XXX",s)|0),l=e(l,m,4,(0,g.string32)(o));var p="url(data:font/opentype;base64,".concat(btoa(l),");"),q='@font-face {font-family:"'.concat(k,'";src:').concat(p,"}");this.insertRule(q);var s,t,u,v=[],w=r(b);try{for(w.s();!(u=w.n()).done;){var x=u.value;v.push(x.loadedName)}}catch(y){w.e(y)}finally{w.f()}v.push(k);var z=this._document.createElement("div");z.style.visibility="hidden",z.style.width=z.style.height="10px",z.style.position="absolute",z.style.top=z.style.left="0px";for(var A=0,B=v;A<B.length;A++){var C=B[A],D=this._document.createElement("span");D.textContent="Hi",D.style.fontFamily=C,z.appendChild(D)}this._document.body.appendChild(z),j(k,function(){z.remove(),c.complete()})}}]),c}(x);var y=function(){function a(b,c){var d=c.isEvalSupported,e=void 0===d||d,f=c.disableFontFace,g=void 0!==f&&f,h=c.ignoreErrors,i=void 0!==h&&h,j=c.onUnsupportedFeature,k=c.fontRegistry,l=void 0===k?null:k;for(var m in u(this,a),this.compiledGlyphs=Object.create(null),b)this[m]=b[m];this.isEvalSupported=!1!==e,this.disableFontFace=!0===g,this.ignoreErrors=!0===i,this._onUnsupportedFeature=j,this.fontRegistry=l}return w(a,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;if(this.cssFontInfo){var a,b={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(b.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),a=new FontFace(this.cssFontInfo.fontFamily,this.data,b)}else a=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),a}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var a,b=(0,g.bytesToString)(this.data),c="url(data:".concat(this.mimetype,";base64,").concat(btoa(b),");");if(this.cssFontInfo){var d="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(d+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),a='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(d,"src:").concat(c,"}")}else a='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(c,"}");return this.fontRegistry&&this.fontRegistry.registerFont(this,c),a}},{key:"getPathGenerator",value:function(a,b){if(void 0!==this.compiledGlyphs[b])return this.compiledGlyphs[b];try{d=a.get(this.loadedName+"_path_"+b)}catch(c){if(!this.ignoreErrors)throw c;return this._onUnsupportedFeature({featureId:g.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,g.warn)('getPathGenerator - ignoring character: "'.concat(c,'".')),this.compiledGlyphs[b]=function(a,b){}}if(this.isEvalSupported&&g.IsEvalSupportedCached.value){var d,e,f=[],h=r(d);try{for(h.s();!(e=h.n()).done;){var i=e.value,j=void 0!==i.args?i.args.join(","):"";f.push("c.",i.cmd,"(",j,");\n")}}catch(k){h.e(k)}finally{h.f()}return this.compiledGlyphs[b]=Function("c","size",f.join(""))}return this.compiledGlyphs[b]=function(a,b){var c,e=r(d);try{for(e.s();!(c=e.n()).done;){var f=c.value;"scale"===f.cmd&&(f.args=[b,-b]),a[f.cmd].apply(a,f.args)}}catch(g){e.e(g)}finally{e.f()}}}}]),a}();b.FontFaceObject=y},(a,b,c)=>{"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}Object.defineProperty(b,"__esModule",{value:!0}),b.NodeStandardFontDataFactory=b.NodeCanvasFactory=b.NodeCMapReaderFactory=void 0;var e=c(135),f=c(6),g=c(4);function h(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function i(a,b,c){return b&&h(a.prototype,b),c&&h(a,c),a}function j(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&k(a,b)}function k(a,b){return(k=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function l(a){var b=o();return function(){var c,d=p(a);if(b){var e=p(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return m(this,c)}}function m(a,b){if(b&&("object"===d(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");return n(a)}function n(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function o(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function p(a){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function q(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}var r=function a(){q(this,a),(0,g.unreachable)("Not implemented: NodeCanvasFactory")};b.NodeCanvasFactory=r;var s=function a(){q(this,a),(0,g.unreachable)("Not implemented: NodeCMapReaderFactory")};b.NodeCMapReaderFactory=s;var t=function a(){q(this,a),(0,g.unreachable)("Not implemented: NodeStandardFontDataFactory")};if(b.NodeStandardFontDataFactory=t,f.isNodeJS){var u=function(a){return new Promise(function(b,c){__webpack_require__(30830).readFile(a,function(a,d){if(a||!d){c(Error(a));return}b(new Uint8Array(d))})})};b.NodeCanvasFactory=r=function(a){j(c,a);var b=l(c);function c(){return q(this,c),b.apply(this,arguments)}return i(c,[{key:"_createCanvas",value:function(a,b){return __webpack_require__(2333).createCanvas(a,b)}}]),c}(e.BaseCanvasFactory),b.NodeCMapReaderFactory=s=function(a){j(c,a);var b=l(c);function c(){return q(this,c),b.apply(this,arguments)}return i(c,[{key:"_fetchData",value:function(a,b){return u(a).then(function(a){return{cMapData:a,compressionType:b}})}}]),c}(e.BaseCMapReaderFactory),b.NodeStandardFontDataFactory=t=function(a){j(c,a);var b=l(c);function c(){return q(this,c),b.apply(this,arguments)}return i(c,[{key:"_fetchData",value:function(a){return u(a)}}]),c}(e.BaseStandardFontDataFactory)}},(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.AnnotationStorage=void 0;var d=c(4);function e(a,b){return j(a)||i(a,b)||g(a,b)||f()}function f(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(a,b){if(a){if("string"==typeof a)return h(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return h(a,b)}}function h(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function i(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}function j(a){if(Array.isArray(a))return a}function k(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function l(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function m(a,b,c){return b&&l(a.prototype,b),c&&l(a,c),a}var n=function(){function a(){k(this,a),this._storage=new Map,this._timeStamp=Date.now(),this._modified=!1,this.onSetModified=null,this.onResetModified=null}return m(a,[{key:"getValue",value:function(a,b){var c=this._storage.get(a);return void 0===c?b:Object.assign(b,c)}},{key:"setValue",value:function(a,b){var c=this._storage.get(a),d=!1;if(void 0!==c)for(var f=0,g=Object.entries(b);f<g.length;f++){var h=e(g[f],2),i=h[0],j=h[1];c[i]!==j&&(d=!0,c[i]=j)}else d=!0,this._storage.set(a,b);d&&(this._timeStamp=Date.now(),this._setModified())}},{key:"getAll",value:function(){return this._storage.size>0?(0,d.objectFromMap)(this._storage):null}},{key:"size",get:function(){return this._storage.size}},{key:"_setModified",value:function(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}},{key:"resetModified",value:function(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}},{key:"serializable",get:function(){return this._storage.size>0?this._storage:null}},{key:"lastModified",get:function(){return this._timeStamp.toString()}}]),a}();b.AnnotationStorage=n},(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CanvasGraphics=void 0;var d=c(4),e=c(141),f=c(1);function g(a){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function h(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=n(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var d=0,e=function(){};return{s:e,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:e}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function(){c=c.call(a)},n:function(){var a=c.next();return g=a.done,a},e:function(a){h=!0,f=a},f:function(){try{g||null==c.return||c.return()}finally{if(h)throw f}}}}function i(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function j(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function k(a,b,c){return b&&j(a.prototype,b),c&&j(a,c),a}function l(a,b){return q(a)||p(a,b)||n(a,b)||m()}function m(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(a,b){if(a){if("string"==typeof a)return o(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return o(a,b)}}function o(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function p(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}function q(a){if(Array.isArray(a))return a}var r=16,s=100,t=4096,u=15,v=10,w=!0,x=1e3,y=16,z=1.000001;function A(a,b){if(a._removeMirroring)throw Error("Context is already forwarding operations.");a.__originalSave=a.save,a.__originalRestore=a.restore,a.__originalRotate=a.rotate,a.__originalScale=a.scale,a.__originalTranslate=a.translate,a.__originalTransform=a.transform,a.__originalSetTransform=a.setTransform,a.__originalResetTransform=a.resetTransform,a.__originalClip=a.clip,a.__originalMoveTo=a.moveTo,a.__originalLineTo=a.lineTo,a.__originalBezierCurveTo=a.bezierCurveTo,a.__originalRect=a.rect,a.__originalClosePath=a.closePath,a.__originalBeginPath=a.beginPath,a._removeMirroring=function(){a.save=a.__originalSave,a.restore=a.__originalRestore,a.rotate=a.__originalRotate,a.scale=a.__originalScale,a.translate=a.__originalTranslate,a.transform=a.__originalTransform,a.setTransform=a.__originalSetTransform,a.resetTransform=a.__originalResetTransform,a.clip=a.__originalClip,a.moveTo=a.__originalMoveTo,a.lineTo=a.__originalLineTo,a.bezierCurveTo=a.__originalBezierCurveTo,a.rect=a.__originalRect,a.closePath=a.__originalClosePath,a.beginPath=a.__originalBeginPath,delete a._removeMirroring},a.save=function(){b.save(),this.__originalSave()},a.restore=function(){b.restore(),this.__originalRestore()},a.translate=function(a,c){b.translate(a,c),this.__originalTranslate(a,c)},a.scale=function(a,c){b.scale(a,c),this.__originalScale(a,c)},a.transform=function(a,c,d,e,f,g){b.transform(a,c,d,e,f,g),this.__originalTransform(a,c,d,e,f,g)},a.setTransform=function(a,c,d,e,f,g){b.setTransform(a,c,d,e,f,g),this.__originalSetTransform(a,c,d,e,f,g)},a.resetTransform=function(){b.resetTransform(),this.__originalResetTransform()},a.rotate=function(a){b.rotate(a),this.__originalRotate(a)},a.clip=function(a){b.clip(a),this.__originalClip(a)},a.moveTo=function(a,c){b.moveTo(a,c),this.__originalMoveTo(a,c)},a.lineTo=function(a,c){b.lineTo(a,c),this.__originalLineTo(a,c)},a.bezierCurveTo=function(a,c,d,e,f,g){b.bezierCurveTo(a,c,d,e,f,g),this.__originalBezierCurveTo(a,c,d,e,f,g)},a.rect=function(a,c,d,e){b.rect(a,c,d,e),this.__originalRect(a,c,d,e)},a.closePath=function(){b.closePath(),this.__originalClosePath()},a.beginPath=function(){b.beginPath(),this.__originalBeginPath()}}function B(a){if(!a.mozCurrentTransform){a._originalSave=a.save,a._originalRestore=a.restore,a._originalRotate=a.rotate,a._originalScale=a.scale,a._originalTranslate=a.translate,a._originalTransform=a.transform,a._originalSetTransform=a.setTransform,a._originalResetTransform=a.resetTransform,a._transformMatrix=a._transformMatrix||[1,0,0,1,0,0],a._transformStack=[];try{var b=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(a),"lineWidth");a._setLineWidth=b.set,a._getLineWidth=b.get,Object.defineProperty(a,"lineWidth",{set:function(a){this._setLineWidth(a*z)},get:function(){return this._getLineWidth()}})}catch(c){}Object.defineProperty(a,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(a,"mozCurrentTransformInverse",{get:function(){var a=l(this._transformMatrix,6),b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=b*e-c*d,i=c*d-b*e;return[e/h,c/i,d/i,b/h,(e*f-d*g)/i,(c*f-b*g)/h]}}),a.save=function(){var a=this._transformMatrix;this._transformStack.push(a),this._transformMatrix=a.slice(0,6),this._originalSave()},a.restore=function(){var a=this._transformStack.pop();a&&(this._transformMatrix=a,this._originalRestore())},a.translate=function(a,b){var c=this._transformMatrix;c[4]=c[0]*a+c[2]*b+c[4],c[5]=c[1]*a+c[3]*b+c[5],this._originalTranslate(a,b)},a.scale=function(a,b){var c=this._transformMatrix;c[0]*=a,c[1]*=a,c[2]*=b,c[3]*=b,this._originalScale(a,b)},a.transform=function(b,c,d,e,f,g){var h=this._transformMatrix;this._transformMatrix=[h[0]*b+h[2]*c,h[1]*b+h[3]*c,h[0]*d+h[2]*e,h[1]*d+h[3]*e,h[0]*f+h[2]*g+h[4],h[1]*f+h[3]*g+h[5]],a._originalTransform(b,c,d,e,f,g)},a.setTransform=function(b,c,d,e,f,g){this._transformMatrix=[b,c,d,e,f,g],a._originalSetTransform(b,c,d,e,f,g)},a.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],a._originalResetTransform()},a.rotate=function(a){var b=Math.cos(a),c=Math.sin(a),d=this._transformMatrix;this._transformMatrix=[d[0]*b+d[2]*c,d[1]*b+d[3]*c,-(d[0]*c)+d[2]*b,-(d[1]*c)+d[3]*b,d[4],d[5]],this._originalRotate(a)}}}var C=function(){function a(b){i(this,a),this.canvasFactory=b,this.cache=Object.create(null)}return k(a,[{key:"getCanvas",value:function(a,b,c,d){var e;return void 0!==this.cache[a]?(e=this.cache[a],this.canvasFactory.reset(e,b,c),e.context.setTransform(1,0,0,1,0,0)):(e=this.canvasFactory.create(b,c),this.cache[a]=e),d&&B(e.context),e}},{key:"clear",value:function(){for(var a in this.cache){var b=this.cache[a];this.canvasFactory.destroy(b),delete this.cache[a]}}}]),a}();function D(a){var b,c,d,e,f=1e3,g=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),h=a.width,i=a.height,j=h+1,k=new Uint8Array(j*(i+1)),l=h+7& -8,m=a.data,n=new Uint8Array(l*i),o=0;for(b=0,c=m.length;b<c;b++)for(var p=m[b],q=128;q>0;)n[o++]=p&q?0:255,q>>=1;var r=0;for(0!==n[o=0]&&(k[0]=1,++r),d=1;d<h;d++)n[o]!==n[o+1]&&(k[d]=n[o]?2:1,++r),o++;for(0!==n[o]&&(k[d]=2,++r),b=1;b<i;b++){o=b*l,e=b*j,n[o-l]!==n[o]&&(k[e]=n[o]?1:8,++r);var s=(n[o]?4:0)+(n[o-l]?8:0);for(d=1;d<h;d++)g[s=(s>>2)+(n[o+1]?4:0)+(n[o-l+1]?8:0)]&&(k[e+d]=g[s],++r),o++;if(n[o-l]!==n[o]&&(k[e+d]=n[o]?2:4,++r),r>f)return null}for(o=l*(i-1),e=b*j,0!==n[o]&&(k[e]=8,++r),d=1;d<h;d++)n[o]!==n[o+1]&&(k[e+d]=n[o]?4:8,++r),o++;if(0!==n[o]&&(k[e+d]=4,++r),r>f)return null;var t=new Int32Array([0,j,-1,0,-j,0,0,0,1]),u=[];for(b=0;r&&b<=i;b++){for(var v=b*j,w=v+h;v<w&&!k[v];)v++;if(v!==w){var x=[v%j,b],y=v,z=k[v];do{var A=t[z];do v+=A;while(!k[v]);var B=k[v];5!==B&&10!==B?(z=B,k[v]=0):(z=B&51*z>>4,k[v]&=z>>2|z<<2),x.push(v%j,v/j|0),!k[v]&& --r}while(y!==v);u.push(x),--b}}return function(a){a.save(),a.scale(1/h,-1/i),a.translate(0,-i),a.beginPath();for(var b=0,c=u.length;b<c;b++){var d=u[b];a.moveTo(d[0],d[1]);for(var e=2,f=d.length;e<f;e+=2)a.lineTo(d[e],d[e+1])}a.fill(),a.beginPath(),a.restore()}}var E=function(){function a(b,c){i(this,a),this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=d.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=d.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=d.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,b,c])}return k(a,[{key:"clone",value:function(){var a=Object.create(this);return a.clipBox=this.clipBox.slice(),a}},{key:"setCurrentPoint",value:function(a,b){this.x=a,this.y=b}},{key:"updatePathMinMax",value:function(a,b,c){var e=d.Util.applyTransform([b,c],a),f=l(e,2);b=f[0],c=f[1],this.minX=Math.min(this.minX,b),this.minY=Math.min(this.minY,c),this.maxX=Math.max(this.maxX,b),this.maxY=Math.max(this.maxY,c)}},{key:"updateCurvePathMinMax",value:function(a,b,c,e,f,g,h,i,j){var k=d.Util.bezierBoundingBox(b,c,e,f,g,h,i,j);this.updatePathMinMax(a,k[0],k[1]),this.updatePathMinMax(a,k[2],k[3])}},{key:"getPathBoundingBox",value:function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:e.PathType.FILL,b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:null,c=[this.minX,this.minY,this.maxX,this.maxY];if(a===e.PathType.STROKE){b||(0,d.unreachable)("Stroke bounding box must include transform.");var f=d.Util.singularValueDecompose2dScale(b),g=f[0]*this.lineWidth/2,h=f[1]*this.lineWidth/2;c[0]-=g,c[1]-=h,c[2]+=g,c[3]+=h}return c}},{key:"updateClipFromPath",value:function(){var a=d.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(a||[0,0,0,0])}},{key:"startNewPathAndClipBox",value:function(a){this.clipBox=a,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}},{key:"getClippedPathBoundingBox",value:function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:e.PathType.FILL,b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:null;return d.Util.intersect(this.clipBox,this.getPathBoundingBox(a,b))}}]),a}();function F(a,b){var c,e,f,g,h,i,j,k,l=arguments.length>2&& void 0!==arguments[2]?arguments[2]:null;if("undefined"!=typeof ImageData&&b instanceof ImageData){a.putImageData(b,0,0);return}var m,n=b.height,o=b.width,p=n%y,q=(n-p)/y,r=0===p?q:q+1,s=a.createImageData(o,y),t=0,u=b.data,v=s.data;if(l)switch(l.length){case 1:h=l[0],i=l[0],j=l[0],k=l[0];break;case 4:h=l[0],i=l[1],j=l[2],k=l[3]}if(b.kind===d.ImageKind.GRAYSCALE_1BPP){var w=u.byteLength,x=new Uint32Array(v.buffer,0,v.byteLength>>2),z=x.length,A=o+7>>3,B=4294967295,C=d.IsLittleEndianCached.value?4278190080:255;if(k&&255===k[0]&&0===k[255]){var D=[C,B];B=D[0],C=D[1]}for(c=0;c<r;c++){for(e=0,f=c<q?y:p,m=0;e<f;e++){for(var E=w-t,F=0,G=E>A?o:8*E-7,H=-8&G,I=0,J=0;F<H;F+=8)J=u[t++],x[m++]=128&J?B:C,x[m++]=64&J?B:C,x[m++]=32&J?B:C,x[m++]=16&J?B:C,x[m++]=8&J?B:C,x[m++]=4&J?B:C,x[m++]=2&J?B:C,x[m++]=1&J?B:C;for(;F<G;F++)0===I&&(J=u[t++],I=128),x[m++]=J&I?B:C,I>>=1}for(;m<z;)x[m++]=0;a.putImageData(s,0,c*y)}}else if(b.kind===d.ImageKind.RGBA_32BPP){var K=!!(h||i||j);for(c=0,e=0,g=o*y*4;c<q;c++){if(v.set(u.subarray(t,t+g)),t+=g,K)for(var L=0;L<g;L+=4)h&&(v[L+0]=h[v[L+0]]),i&&(v[L+1]=i[v[L+1]]),j&&(v[L+2]=j[v[L+2]]);a.putImageData(s,0,e),e+=y}if(c<r){if(g=o*p*4,v.set(u.subarray(t,t+g)),K)for(var M=0;M<g;M+=4)h&&(v[M+0]=h[v[M+0]]),i&&(v[M+1]=i[v[M+1]]),j&&(v[M+2]=j[v[M+2]]);a.putImageData(s,0,e)}}else if(b.kind===d.ImageKind.RGB_24BPP){var N=!!(h||i||j);for(c=0,g=o*(f=y);c<r;c++){for(c>=q&&(g=o*(f=p)),m=0,e=g;e--;)v[m++]=u[t++],v[m++]=u[t++],v[m++]=u[t++],v[m++]=255;if(N)for(var O=0;O<m;O+=4)h&&(v[O+0]=h[v[O+0]]),i&&(v[O+1]=i[v[O+1]]),j&&(v[O+2]=j[v[O+2]]);a.putImageData(s,0,c*y)}}else throw Error("bad image kind: ".concat(b.kind))}function G(a,b){for(var c=b.height,d=b.width,e=c%y,f=(c-e)/y,g=0===e?f:f+1,h=a.createImageData(d,y),i=0,j=b.data,k=h.data,l=0;l<g;l++){for(var m=l<f?y:e,n=3,o=0;o<m;o++)for(var p=void 0,q=0,r=0;r<d;r++)q||(p=j[i++],q=128),k[n]=p&q?0:255,n+=4,q>>=1;a.putImageData(h,0,l*y)}}function H(a,b){for(var c=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],d=0,e=c.length;d<e;d++){var f=c[d];void 0!==a[f]&&(b[f]=a[f])}void 0!==a.setLineDash&&(b.setLineDash(a.getLineDash()),b.lineDashOffset=a.lineDashOffset)}function I(a){a.strokeStyle="#000000",a.fillStyle="#000000",a.fillRule="nonzero",a.globalAlpha=1,a.lineWidth=1,a.lineCap="butt",a.lineJoin="miter",a.miterLimit=10,a.globalCompositeOperation="source-over",a.font="10px sans-serif",void 0!==a.setLineDash&&(a.setLineDash([]),a.lineDashOffset=0)}function J(a,b,c,d){for(var e=a.length,f=3;f<e;f+=4){var g=a[f];if(0===g)a[f-3]=b,a[f-2]=c,a[f-1]=d;else if(g<255){var h=255-g;a[f-3]=a[f-3]*g+b*h>>8,a[f-2]=a[f-2]*g+c*h>>8,a[f-1]=a[f-1]*g+d*h>>8}}}function K(a,b,c){for(var d=a.length,e=1/255,f=3;f<d;f+=4){var g=c?c[a[f]]:a[f];b[f]=b[f]*g*e|0}}function L(a,b,c){for(var d=a.length,e=3;e<d;e+=4){var f=77*a[e-3]+152*a[e-2]+28*a[e-1];b[e]=c?b[e]*c[f>>8]>>8:b[e]*f>>16}}function M(a,b,c,d,e,f,g,h,i,j,k){var l,m=!!f,n=m?f[0]:0,o=m?f[1]:0,p=m?f[2]:0;l="Luminosity"===e?L:K;for(var q=1048576,r=Math.min(d,Math.ceil(q/c)),s=0;s<d;s+=r){var t=Math.min(r,d-s),u=a.getImageData(h-j,s+(i-k),c,t),v=b.getImageData(h,s+i,c,t);m&&J(u.data,n,o,p),l(u.data,v.data,g),b.putImageData(v,h,s+i)}}function N(a,b,c,d){var e=d[0],f=d[1],g=d[2]-e,h=d[3]-f;0!==g&&0!==h&&(M(b.context,c,g,h,b.subtype,b.backdrop,b.transferMap,e,f,b.offsetX,b.offsetY),a.save(),a.globalAlpha=1,a.globalCompositeOperation="source-over",a.setTransform(1,0,0,1,0,0),a.drawImage(c.canvas,0,0),a.restore())}function O(a,b){var c=d.Util.singularValueDecompose2dScale(a);c[0]=Math.fround(c[0]),c[1]=Math.fround(c[1]);var e=Math.fround((globalThis.devicePixelRatio||1)*f.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==b?b:!!(c[0]<=e)||!!(c[1]<=e)}var P=["butt","round","square"],Q=["miter","round","bevel"],R={},S={},T=function(){function a(b,c,d,e,f,g,h){i(this,a),this.ctx=b,this.current=new E(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=c,this.objs=d,this.canvasFactory=e,this.imageLayer=f,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=g,this.cachedCanvases=new C(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=h,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,b&&B(b),this._cachedGetSinglePixelWidth=null}return k(a,[{key:"beginDrawing",value:function(a){var b=a.transform,c=a.viewport,d=a.transparency,e=void 0!==d&&d,f=a.background,g=void 0===f?null:f,h=this.ctx.canvas.width,i=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=g||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,h,i),this.ctx.restore(),e){var j=this.cachedCanvases.getCanvas("transparent",h,i,!0);this.compositeCtx=this.ctx,this.transparentCanvas=j.canvas,this.ctx=j.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),I(this.ctx),b&&(this.ctx.transform.apply(this.ctx,b),this.outputScaleX=b[0],this.outputScaleY=b[0]),this.ctx.transform.apply(this.ctx,c.transform),this.viewportScale=c.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()}},{key:"executeOperatorList",value:function(a,b,c,e){var f=a.argsArray,g=a.fnArray,i=b||0,j=f.length;if(j===i)return i;for(var k=j-i>v&&"function"==typeof c,l=k?Date.now()+u:0,m=0,n=this.commonObjs,o=this.objs;;){if(void 0!==e&&i===e.nextBreakPoint)return e.breakIt(i,c),i;if((p=g[i])!==d.OPS.dependency)this[p].apply(this,f[i]);else{var p,q,r=h(f[i]);try{for(r.s();!(q=r.n()).done;){var s=q.value,t=s.startsWith("g_")?n:o;if(!t.has(s))return t.get(s,c),i}}catch(w){r.e(w)}finally{r.f()}}if(++i===j)return i;if(k&& ++m>v){if(Date.now()>l)return c(),i;m=0}}}},{key:"endDrawing",value:function(){for(;this.stateStack.length||null!==this.current.activeSMask;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear(),this.imageLayer&&this.imageLayer.endLayout()}},{key:"_scaleImage",value:function(a,b){for(var c,d,e=a.width,f=a.height,g=Math.max(Math.hypot(b[0],b[1]),1),h=Math.max(Math.hypot(b[2],b[3]),1),i=e,j=f,k="prescale1";g>2&&i>1||h>2&&j>1;){var l=i,m=j;g>2&&i>1&&(l=Math.ceil(i/2),g/=i/l),h>2&&j>1&&(m=Math.ceil(j/2),h/=j/m),(d=(c=this.cachedCanvases.getCanvas(k,l,m)).context).clearRect(0,0,l,m),d.drawImage(a,0,0,i,j,0,0,l,m),a=c.canvas,i=l,j=m,k="prescale1"===k?"prescale2":"prescale1"}return{img:a,paintWidth:i,paintHeight:j}}},{key:"_createMaskCanvas",value:function(a){var b=this.ctx,c=a.width,f=a.height,g=this.current.fillColor,h=this.current.patternFill,i=this.cachedCanvases.getCanvas("maskCanvas",c,f);G(i.context,a);var j=b.mozCurrentTransform,k=d.Util.transform(j,[1/c,0,0,-1/f,0,0]);k=d.Util.transform(k,[1,0,0,1,0,-f]);var l=d.Util.applyTransform([0,0],k),m=d.Util.applyTransform([c,f],k),n=d.Util.normalizeRect([l[0],l[1],m[0],m[1]]),o=Math.ceil(n[2]-n[0]),p=Math.ceil(n[3]-n[1]),q=this.cachedCanvases.getCanvas("fillCanvas",o,p,!0),r=q.context,s=Math.min(l[0],m[0]),t=Math.min(l[1],m[1]);r.translate(-s,-t),r.transform.apply(r,k);var u=this._scaleImage(i.canvas,r.mozCurrentTransformInverse);r.imageSmoothingEnabled=O(r.mozCurrentTransform,a.interpolate),r.drawImage(u.img,0,0,u.img.width,u.img.height,0,0,c,f),r.globalCompositeOperation="source-in";var v=d.Util.transform(r.mozCurrentTransformInverse,[1,0,0,1,-s,-t]);return r.fillStyle=h?g.getPattern(b,this,v,e.PathType.FILL):g,r.fillRect(0,0,c,f),{canvas:q.canvas,offsetX:Math.round(s),offsetY:Math.round(t)}}},{key:"setLineWidth",value:function(a){this.current.lineWidth=a,this.ctx.lineWidth=a}},{key:"setLineCap",value:function(a){this.ctx.lineCap=P[a]}},{key:"setLineJoin",value:function(a){this.ctx.lineJoin=Q[a]}},{key:"setMiterLimit",value:function(a){this.ctx.miterLimit=a}},{key:"setDash",value:function(a,b){var c=this.ctx;void 0!==c.setLineDash&&(c.setLineDash(a),c.lineDashOffset=b)}},{key:"setRenderingIntent",value:function(a){}},{key:"setFlatness",value:function(a){}},{key:"setGState",value:function(a){for(var b=0,c=a.length;b<c;b++){var d=a[b],e=d[0],f=d[1];switch(e){case"LW":this.setLineWidth(f);break;case"LC":this.setLineCap(f);break;case"LJ":this.setLineJoin(f);break;case"ML":this.setMiterLimit(f);break;case"D":this.setDash(f[0],f[1]);break;case"RI":this.setRenderingIntent(f);break;case"FL":this.setFlatness(f);break;case"Font":this.setFont(f[0],f[1]);break;case"CA":this.current.strokeAlpha=d[1];break;case"ca":this.current.fillAlpha=d[1],this.ctx.globalAlpha=d[1];break;case"BM":this.ctx.globalCompositeOperation=f;break;case"SMask":this.current.activeSMask=f?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=f}}}},{key:"checkSMaskState",value:function(){var a=!!this.suspendedCtx;this.current.activeSMask&&!a?this.beginSMaskMode():!this.current.activeSMask&&a&&this.endSMaskMode()}},{key:"beginSMaskMode",value:function(){if(this.suspendedCtx)throw Error("beginSMaskMode called while already in smask mode");var a=this.ctx.canvas.width,b=this.ctx.canvas.height,c="smaskGroupAt"+this.groupLevel,d=this.cachedCanvases.getCanvas(c,a,b,!0);this.suspendedCtx=this.ctx,this.ctx=d.context;var e=this.ctx;e.setTransform.apply(e,this.suspendedCtx.mozCurrentTransform),H(this.suspendedCtx,e),A(e,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}},{key:"endSMaskMode",value:function(){if(!this.suspendedCtx)throw Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),H(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.current.activeSMask=null,this.suspendedCtx=null}},{key:"compose",value:function(a){if(this.current.activeSMask){a?(a[0]=Math.floor(a[0]),a[1]=Math.floor(a[1]),a[2]=Math.ceil(a[2]),a[3]=Math.ceil(a[3])):a=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];var b,c=this.current.activeSMask;N(this.suspendedCtx,c,this.ctx,a),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}}},{key:"save",value:function(){this.ctx.save();var a=this.current;this.stateStack.push(a),this.current=a.clone()}},{key:"restore",value:function(){0===this.stateStack.length&&this.current.activeSMask&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)}},{key:"transform",value:function(a,b,c,d,e,f){this.ctx.transform(a,b,c,d,e,f),this._cachedGetSinglePixelWidth=null}},{key:"constructPath",value:function(a,b){for(var c,e,f=this.ctx,g=this.current,h=g.x,i=g.y,j=0,k=0,l=a.length;j<l;j++)switch(0|a[j]){case d.OPS.rectangle:h=b[k++],i=b[k++];var m=b[k++],n=b[k++],o=h+m,p=i+n;f.moveTo(h,i),0===m||0===n?f.lineTo(o,p):(f.lineTo(o,i),f.lineTo(o,p),f.lineTo(h,p)),g.updatePathMinMax(f.mozCurrentTransform,h,i),g.updatePathMinMax(f.mozCurrentTransform,o,p),f.closePath();break;case d.OPS.moveTo:h=b[k++],i=b[k++],f.moveTo(h,i),g.updatePathMinMax(f.mozCurrentTransform,h,i);break;case d.OPS.lineTo:h=b[k++],i=b[k++],f.lineTo(h,i),g.updatePathMinMax(f.mozCurrentTransform,h,i);break;case d.OPS.curveTo:c=h,e=i,h=b[k+4],i=b[k+5],f.bezierCurveTo(b[k],b[k+1],b[k+2],b[k+3],h,i),g.updateCurvePathMinMax(f.mozCurrentTransform,c,e,b[k],b[k+1],b[k+2],b[k+3],h,i),k+=6;break;case d.OPS.curveTo2:c=h,e=i,f.bezierCurveTo(h,i,b[k],b[k+1],b[k+2],b[k+3]),g.updateCurvePathMinMax(f.mozCurrentTransform,c,e,h,i,b[k],b[k+1],b[k+2],b[k+3]),h=b[k+2],i=b[k+3],k+=4;break;case d.OPS.curveTo3:c=h,e=i,h=b[k+2],i=b[k+3],f.bezierCurveTo(b[k],b[k+1],h,i,h,i),g.updateCurvePathMinMax(f.mozCurrentTransform,c,e,b[k],b[k+1],h,i,h,i),k+=4;break;case d.OPS.closePath:f.closePath()}g.setCurrentPoint(h,i)}},{key:"closePath",value:function(){this.ctx.closePath()}},{key:"stroke",value:function(a){a=void 0===a||a;var b=this.ctx,c=this.current.strokeColor;if(b.globalAlpha=this.current.strokeAlpha,this.contentVisible){if("object"===g(c)&&null!=c&&c.getPattern){var d=this.getSinglePixelWidth();b.save(),b.strokeStyle=c.getPattern(b,this,b.mozCurrentTransformInverse,e.PathType.STROKE),b.lineWidth=Math.max(d,this.current.lineWidth),b.stroke(),b.restore()}else{var f=this.getSinglePixelWidth();f<0&& -f>=this.current.lineWidth?(b.save(),b.resetTransform(),b.lineWidth=Math.round(this._combinedScaleFactor),b.stroke(),b.restore()):(b.lineWidth=Math.max(f,this.current.lineWidth),b.stroke())}}a&&this.consumePath(this.current.getClippedPathBoundingBox()),b.globalAlpha=this.current.fillAlpha}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"fill",value:function(a){a=void 0===a||a;var b=this.ctx,c=this.current.fillColor,d=this.current.patternFill,f=!1;d&&(b.save(),b.fillStyle=c.getPattern(b,this,b.mozCurrentTransformInverse,e.PathType.FILL),f=!0);var g=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==g&&(this.pendingEOFill?(b.fill("evenodd"),this.pendingEOFill=!1):b.fill()),f&&b.restore(),a&&this.consumePath(g)}},{key:"eoFill",value:function(){this.pendingEOFill=!0,this.fill()}},{key:"fillStroke",value:function(){this.fill(!1),this.stroke(!1),this.consumePath()}},{key:"eoFillStroke",value:function(){this.pendingEOFill=!0,this.fillStroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}},{key:"endPath",value:function(){this.consumePath()}},{key:"clip",value:function(){this.pendingClip=R}},{key:"eoClip",value:function(){this.pendingClip=S}},{key:"beginText",value:function(){this.current.textMatrix=d.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"endText",value:function(){var a=this.pendingTextPaths,b=this.ctx;if(void 0===a){b.beginPath();return}b.save(),b.beginPath();for(var c=0;c<a.length;c++){var d=a[c];b.setTransform.apply(b,d.transform),b.translate(d.x,d.y),d.addToPath(b,d.fontSize)}b.restore(),b.clip(),b.beginPath(),delete this.pendingTextPaths}},{key:"setCharSpacing",value:function(a){this.current.charSpacing=a}},{key:"setWordSpacing",value:function(a){this.current.wordSpacing=a}},{key:"setHScale",value:function(a){this.current.textHScale=a/100}},{key:"setLeading",value:function(a){this.current.leading=-a}},{key:"setFont",value:function(a,b){var c=this.commonObjs.get(a),e=this.current;if(!c)throw Error("Can't find font for ".concat(a));if(e.fontMatrix=c.fontMatrix||d.FONT_IDENTITY_MATRIX,(0===e.fontMatrix[0]||0===e.fontMatrix[3])&&(0,d.warn)("Invalid font matrix for font "+a),b<0?(b=-b,e.fontDirection=-1):e.fontDirection=1,this.current.font=c,this.current.fontSize=b,!c.isType3Font){var f=c.loadedName||"sans-serif",g="normal";c.black?g="900":c.bold&&(g="bold");var h=c.italic?"italic":"normal",i='"'.concat(f,'", ').concat(c.fallbackName),j=b;b<r?j=r:b>s&&(j=s),this.current.fontSizeScale=b/j,this.ctx.font="".concat(h," ").concat(g," ").concat(j,"px ").concat(i)}}},{key:"setTextRenderingMode",value:function(a){this.current.textRenderingMode=a}},{key:"setTextRise",value:function(a){this.current.textRise=a}},{key:"moveText",value:function(a,b){this.current.x=this.current.lineX+=a,this.current.y=this.current.lineY+=b}},{key:"setLeadingMoveText",value:function(a,b){this.setLeading(-b),this.moveText(a,b)}},{key:"setTextMatrix",value:function(a,b,c,d,e,f){this.current.textMatrix=[a,b,c,d,e,f],this.current.textMatrixScale=Math.hypot(a,b),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"paintChar",value:function(a,b,c,e,f){var g,h=this.ctx,i=this.current,j=i.font,k=i.textRenderingMode,l=i.fontSize/i.fontSizeScale,m=k&d.TextRenderingMode.FILL_STROKE_MASK,n=!!(k&d.TextRenderingMode.ADD_TO_PATH_FLAG),o=i.patternFill&&!j.missingFile;(j.disableFontFace||n||o)&&(g=j.getPathGenerator(this.commonObjs,a)),j.disableFontFace||o?(h.save(),h.translate(b,c),h.beginPath(),g(h,l),e&&h.setTransform.apply(h,e),(m===d.TextRenderingMode.FILL||m===d.TextRenderingMode.FILL_STROKE)&&h.fill(),(m===d.TextRenderingMode.STROKE||m===d.TextRenderingMode.FILL_STROKE)&&(f&&(h.resetTransform(),h.lineWidth=Math.round(this._combinedScaleFactor)),h.stroke()),h.restore()):((m===d.TextRenderingMode.FILL||m===d.TextRenderingMode.FILL_STROKE)&&h.fillText(a,b,c),(m===d.TextRenderingMode.STROKE||m===d.TextRenderingMode.FILL_STROKE)&&(f?(h.save(),h.moveTo(b,c),h.resetTransform(),h.lineWidth=Math.round(this._combinedScaleFactor),h.strokeText(a,0,0),h.restore()):h.strokeText(a,b,c))),n&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:h.mozCurrentTransform,x:b,y:c,fontSize:l,addToPath:g})}},{key:"isFontSubpixelAAEnabled",get:function(){var a=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10).context;a.scale(1.5,1),a.fillText("I",0,10);for(var b=a.getImageData(0,0,10,10).data,c=!1,e=3;e<b.length;e+=4)if(b[e]>0&&b[e]<255){c=!0;break}return(0,d.shadow)(this,"isFontSubpixelAAEnabled",c)}},{key:"showText",value:function(a){var b=this.current,c=b.font;if(c.isType3Font)return this.showType3Text(a);var f=b.fontSize;if(0!==f){var g=this.ctx,h=b.fontSizeScale,i=b.charSpacing,j=b.wordSpacing,k=b.fontDirection,l=b.textHScale*k,m=a.length,n=c.vertical,o=n?1:-1,p=c.defaultVMetrics,q=f*b.fontMatrix[0],r=b.textRenderingMode===d.TextRenderingMode.FILL&&!c.disableFontFace&&!b.patternFill;if(g.save(),g.transform.apply(g,b.textMatrix),g.translate(b.x,b.y+b.textRise),k>0?g.scale(l,-1):g.scale(l,1),b.patternFill){g.save();var s=b.fillColor.getPattern(g,this,g.mozCurrentTransformInverse,e.PathType.FILL);x=g.mozCurrentTransform,g.restore(),g.fillStyle=s}var t=b.lineWidth,u=!1,v=b.textMatrixScale;if(0===v||0===t){var w=b.textRenderingMode&d.TextRenderingMode.FILL_STROKE_MASK;(w===d.TextRenderingMode.STROKE||w===d.TextRenderingMode.FILL_STROKE)&&(this._cachedGetSinglePixelWidth=null,u=(t=this.getSinglePixelWidth())<0)}else t/=v;1!==h&&(g.scale(h,h),t/=h),g.lineWidth=t;var x,y,z=0;for(y=0;y<m;++y){var A=a[y];if((0,d.isNum)(A)){z+=o*A*f/1e3;continue}var B=!1,C=(A.isSpace?j:0)+i,D=A.fontChar,E=A.accent,F=void 0,G=void 0,H=A.width;if(n){var I=A.vmetric||p,J=-(A.vmetric?I[1]:.5*H)*q,K=I[2]*q;H=I?-I[0]:H,F=J/h,G=(z+K)/h}else F=z/h,G=0;if(c.remeasure&&H>0){var L=1e3*g.measureText(D).width/f*h;if(H<L&&this.isFontSubpixelAAEnabled){var M=H/L;B=!0,g.save(),g.scale(M,1),F/=M}else H!==L&&(F+=(H-L)/2e3*f/h)}if(this.contentVisible&&(A.isInFont||c.missingFile)){if(r&&!E)g.fillText(D,F,G);else if(this.paintChar(D,F,G,x,u),E){var N=F+f*E.offset.x/h,O=G-f*E.offset.y/h;this.paintChar(E.fontChar,N,O,x,u)}}var P=void 0;z+=P=n?H*q-C*k:H*q+C*k,B&&g.restore()}n?b.y-=z:b.x+=z*l,g.restore(),this.compose()}}},{key:"showType3Text",value:function(a){var b,c,e,f,g=this.ctx,h=this.current,i=h.font,j=h.fontSize,k=h.fontDirection,l=i.vertical?1:-1,m=h.charSpacing,n=h.wordSpacing,o=h.textHScale*k,p=h.fontMatrix||d.FONT_IDENTITY_MATRIX,q=a.length,r=h.textRenderingMode===d.TextRenderingMode.INVISIBLE;if(!r&&0!==j){for(this._cachedGetSinglePixelWidth=null,g.save(),g.transform.apply(g,h.textMatrix),g.translate(h.x,h.y),g.scale(o,k),b=0;b<q;++b){if(c=a[b],(0,d.isNum)(c)){f=l*c*j/1e3,this.ctx.translate(f,0),h.x+=f*o;continue}var s=(c.isSpace?n:0)+m,t=i.charProcOperatorList[c.operatorListId];if(!t){(0,d.warn)('Type3 character "'.concat(c.operatorListId,'" is not available.'));continue}this.contentVisible&&(this.processingType3=c,this.save(),g.scale(j,j),g.transform.apply(g,p),this.executeOperatorList(t),this.restore()),e=d.Util.applyTransform([c.width,0],p)[0]*j+s,g.translate(e,0),h.x+=e*o}g.restore(),this.processingType3=null}}},{key:"setCharWidth",value:function(a,b){}},{key:"setCharWidthAndBounds",value:function(a,b,c,d,e,f){this.ctx.rect(c,d,e-c,f-d),this.clip(),this.endPath()}},{key:"getColorN_Pattern",value:function(b){var c,d=this;if("TilingPattern"===b[0]){var f=b[1],g=this.baseTransform||this.ctx.mozCurrentTransform.slice(),h={createCanvasGraphics:function(b){return new a(b,d.commonObjs,d.objs,d.canvasFactory)}};c=new e.TilingPattern(b,f,this.ctx,h,g)}else c=this._getPattern(b[1],b[2]);return c}},{key:"setStrokeColorN",value:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)}},{key:"setFillColorN",value:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}},{key:"setStrokeRGBColor",value:function(a,b,c){var e=d.Util.makeHexColor(a,b,c);this.ctx.strokeStyle=e,this.current.strokeColor=e}},{key:"setFillRGBColor",value:function(a,b,c){var e=d.Util.makeHexColor(a,b,c);this.ctx.fillStyle=e,this.current.fillColor=e,this.current.patternFill=!1}},{key:"_getPattern",value:function(a){var b,c=arguments.length>1&& void 0!==arguments[1]?arguments[1]:null;return this.cachedPatterns.has(a)?b=this.cachedPatterns.get(a):(b=(0,e.getShadingPattern)(this.objs.get(a)),this.cachedPatterns.set(a,b)),c&&(b.matrix=c),b}},{key:"shadingFill",value:function(a){if(this.contentVisible){var b=this.ctx;this.save();var c=this._getPattern(a);b.fillStyle=c.getPattern(b,this,b.mozCurrentTransformInverse,e.PathType.SHADING);var f=b.mozCurrentTransformInverse;if(f){var g=b.canvas,h=g.width,i=g.height,j=d.Util.applyTransform([0,0],f),k=d.Util.applyTransform([0,i],f),l=d.Util.applyTransform([h,0],f),m=d.Util.applyTransform([h,i],f),n=Math.min(j[0],k[0],l[0],m[0]),o=Math.min(j[1],k[1],l[1],m[1]),p=Math.max(j[0],k[0],l[0],m[0]),q=Math.max(j[1],k[1],l[1],m[1]);this.ctx.fillRect(n,o,p-n,q-o)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}}},{key:"beginInlineImage",value:function(){(0,d.unreachable)("Should not call beginInlineImage")}},{key:"beginImageData",value:function(){(0,d.unreachable)("Should not call beginImageData")}},{key:"paintFormXObjectBegin",value:function(a,b){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(a)&&6===a.length&&this.transform.apply(this,a),this.baseTransform=this.ctx.mozCurrentTransform,b)){var c=b[2]-b[0],d=b[3]-b[1];this.ctx.rect(b[0],b[1],c,d),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,b[0],b[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,b[2],b[3]),this.clip(),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}},{key:"beginGroup",value:function(a){if(this.contentVisible){this.save();var b=this.suspendedCtx;this.current.activeSMask&&(this.suspendedCtx=null,this.current.activeSMask=null);var c=this.ctx;a.isolated||(0,d.info)("TODO: Support non-isolated groups."),a.knockout&&(0,d.warn)("Knockout groups not supported.");var e=c.mozCurrentTransform;if(a.matrix&&c.transform.apply(c,a.matrix),!a.bbox)throw Error("Bounding box is required.");var f=d.Util.getAxialAlignedBoundingBox(a.bbox,c.mozCurrentTransform),g=[0,0,c.canvas.width,c.canvas.height],h=Math.floor((f=d.Util.intersect(f,g)||[0,0,0,0])[0]),i=Math.floor(f[1]),j=Math.max(Math.ceil(f[2])-h,1),k=Math.max(Math.ceil(f[3])-i,1),l=1,m=1;j>t&&(l=j/t,j=t),k>t&&(m=k/t,k=t),this.current.startNewPathAndClipBox([0,0,j,k]);var n="groupAt"+this.groupLevel;a.smask&&(n+="_smask_"+(this.smaskCounter++)%2);var o=this.cachedCanvases.getCanvas(n,j,k,!0),p=o.context;p.scale(1/l,1/m),p.translate(-h,-i),p.transform.apply(p,e),a.smask?this.smaskStack.push({canvas:o.canvas,context:p,offsetX:h,offsetY:i,scaleX:l,scaleY:m,subtype:a.smask.subtype,backdrop:a.smask.backdrop,transferMap:a.smask.transferMap||null,startTransformInverse:null}):(c.setTransform(1,0,0,1,0,0),c.translate(h,i),c.scale(l,m),c.save()),H(c,p),this.ctx=p,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push({ctx:c,suspendedCtx:b}),this.groupLevel++}}},{key:"endGroup",value:function(a){if(this.contentVisible){this.groupLevel--;var b=this.ctx,c=this.groupStack.pop(),e=c.ctx,f=c.suspendedCtx;if(this.ctx=e,this.ctx.imageSmoothingEnabled=!1,f&&(this.suspendedCtx=f),a.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();var g=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,g);var h=d.Util.getAxialAlignedBoundingBox([0,0,b.canvas.width,b.canvas.height],g);this.ctx.drawImage(b.canvas,0,0),this.ctx.restore(),this.compose(h)}}}},{key:"beginAnnotations",value:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}},{key:"endAnnotations",value:function(){this.restore()}},{key:"beginAnnotation",value:function(a,b,c,e,f){if(this.save(),Array.isArray(b)&&4===b.length){var g=b[2]-b[0],h=b[3]-b[1];if(f&&this.annotationCanvasMap){c=c.slice(),c[4]-=b[0],c[5]-=b[1],(b=b.slice())[0]=b[1]=0,b[2]=g,b[3]=h;var i=l(d.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),2),j=i[0],k=i[1],m=this.viewportScale,n=Math.ceil(g*this.outputScaleX*m),o=Math.ceil(h*this.outputScaleY*m);this.annotationCanvas=this.canvasFactory.create(n,o);var p=this.annotationCanvas,q=p.canvas,r=p.context;q.style.width="calc(".concat(g,"px * var(--viewport-scale-factor))"),q.style.height="calc(".concat(h,"px * var(--viewport-scale-factor))"),this.annotationCanvasMap.set(a,q),this.annotationCanvas.savedCtx=this.ctx,this.ctx=r,this.ctx.setTransform(j,0,0,-k,0,h*k),B(this.ctx),I(this.ctx)}else I(this.ctx),this.ctx.rect(b[0],b[1],g,h),this.clip(),this.endPath()}this.current=new E(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,c),this.transform.apply(this,e)}},{key:"endAnnotation",value:function(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}},{key:"paintImageMaskXObject",value:function(a){if(this.contentVisible){var b=this.ctx,c=a.width,d=a.height,e=this.processingType3;if(w&&e&& void 0===e.compiled&&(c<=x&&d<=x?e.compiled=D({data:a.data,width:c,height:d}):e.compiled=null),null!=e&&e.compiled){e.compiled(b);return}var f=this._createMaskCanvas(a),g=f.canvas;b.save(),b.setTransform(1,0,0,1,0,0),b.drawImage(g,f.offsetX,f.offsetY),b.restore(),this.compose()}}},{key:"paintImageMaskXObjectRepeat",value:function(a,b){var c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:0,e=arguments.length>3&& void 0!==arguments[3]?arguments[3]:0,f=arguments.length>4?arguments[4]:void 0,g=arguments.length>5?arguments[5]:void 0;if(this.contentVisible){var h=this.ctx;h.save();var i=h.mozCurrentTransform;h.transform(b,c,e,f,0,0);var j=this._createMaskCanvas(a);h.setTransform(1,0,0,1,0,0);for(var k=0,m=g.length;k<m;k+=2){var n=d.Util.transform(i,[b,c,e,f,g[k],g[k+1]]),o=d.Util.applyTransform([0,0],n),p=l(o,2),q=p[0],r=p[1];h.drawImage(j.canvas,q,r)}h.restore(),this.compose()}}},{key:"paintImageMaskXObjectGroup",value:function(a){if(this.contentVisible){for(var b=this.ctx,c=this.current.fillColor,d=this.current.patternFill,f=0,g=a.length;f<g;f++){var h=a[f],i=h.width,j=h.height,k=this.cachedCanvases.getCanvas("maskCanvas",i,j),l=k.context;l.save(),G(l,h),l.globalCompositeOperation="source-in",l.fillStyle=d?c.getPattern(l,this,b.mozCurrentTransformInverse,e.PathType.FILL):c,l.fillRect(0,0,i,j),l.restore(),b.save(),b.transform.apply(b,h.transform),b.scale(1,-1),b.drawImage(k.canvas,0,0,i,j,0,-1,1,1),b.restore()}this.compose()}}},{key:"paintImageXObject",value:function(a){if(this.contentVisible){var b=a.startsWith("g_")?this.commonObjs.get(a):this.objs.get(a);if(!b){(0,d.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(b)}}},{key:"paintImageXObjectRepeat",value:function(a,b,c,e){if(this.contentVisible){var f=a.startsWith("g_")?this.commonObjs.get(a):this.objs.get(a);if(!f){(0,d.warn)("Dependent image isn't ready yet");return}for(var g=f.width,h=f.height,i=[],j=0,k=e.length;j<k;j+=2)i.push({transform:[b,0,0,c,e[j],e[j+1]],x:0,y:0,w:g,h:h});this.paintInlineImageXObjectGroup(f,i)}}},{key:"paintInlineImageXObject",value:function(a){if(this.contentVisible){var b,c=a.width,d=a.height,e=this.ctx;if(this.save(),e.scale(1/c,-1/d),"function"==typeof HTMLElement&&a instanceof HTMLElement||!a.data)b=a;else{var f=this.cachedCanvases.getCanvas("inlineImage",c,d);F(f.context,a,this.current.transferMaps),b=f.canvas}var g=this._scaleImage(b,e.mozCurrentTransformInverse);if(e.imageSmoothingEnabled=O(e.mozCurrentTransform,a.interpolate),e.drawImage(g.img,0,0,g.paintWidth,g.paintHeight,0,-d,c,d),this.imageLayer){var h=this.getCanvasPosition(0,-d);this.imageLayer.appendImage({imgData:a,left:h[0],top:h[1],width:c/e.mozCurrentTransformInverse[0],height:d/e.mozCurrentTransformInverse[3]})}this.compose(),this.restore()}}},{key:"paintInlineImageXObjectGroup",value:function(a,b){if(this.contentVisible){var c,d=this.ctx,e=a.width,f=a.height,g=this.cachedCanvases.getCanvas("inlineImage",e,f);F(g.context,a,this.current.transferMaps);for(var h=0,i=b.length;h<i;h++){var j=b[h];if(d.save(),d.transform.apply(d,j.transform),d.scale(1,-1),d.drawImage(g.canvas,j.x,j.y,j.w,j.h,0,-1,1,1),this.imageLayer){var k=this.getCanvasPosition(j.x,j.y);this.imageLayer.appendImage({imgData:a,left:k[0],top:k[1],width:e,height:f})}d.restore()}this.compose()}}},{key:"paintSolidColorImageMask",value:function(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}},{key:"markPoint",value:function(a){}},{key:"markPointProps",value:function(a,b){}},{key:"beginMarkedContent",value:function(a){this.markedContentStack.push({visible:!0})}},{key:"beginMarkedContentProps",value:function(a,b){"OC"===a?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(b)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}},{key:"endMarkedContent",value:function(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}},{key:"beginCompat",value:function(){}},{key:"endCompat",value:function(){}},{key:"consumePath",value:function(a){this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(a);var b=this.ctx;this.pendingClip&&(this.pendingClip===S?b.clip("evenodd"):b.clip(),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),b.beginPath()}},{key:"getSinglePixelWidth",value:function(){if(null===this._cachedGetSinglePixelWidth){var a=this.ctx.mozCurrentTransform,b=Math.abs(a[0]*a[3]-a[2]*a[1]),c=Math.pow(a[0],2)+Math.pow(a[2],2),d=Math.pow(a[1],2)+Math.pow(a[3],2),e=Math.sqrt(Math.max(c,d))/b;c!==d&&this._combinedScaleFactor*e>1?this._cachedGetSinglePixelWidth=-(this._combinedScaleFactor*e):b>Number.EPSILON?this._cachedGetSinglePixelWidth=e:this._cachedGetSinglePixelWidth=1}return this._cachedGetSinglePixelWidth}},{key:"getCanvasPosition",value:function(a,b){var c=this.ctx.mozCurrentTransform;return[c[0]*a+c[2]*b+c[4],c[1]*a+c[3]*b+c[5]]}},{key:"isContentVisible",value:function(){for(var a=this.markedContentStack.length-1;a>=0;a--)if(!this.markedContentStack[a].visible)return!1;return!0}}]),a}();for(var U in b.CanvasGraphics=T,d.OPS)void 0!==T.prototype[U]&&(T.prototype[d.OPS[U]]=T.prototype[U])},(a,b,c)=>{"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}Object.defineProperty(b,"__esModule",{value:!0}),b.TilingPattern=b.PathType=void 0,b.getShadingPattern=A;var e=c(4);function f(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=g(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var d=0,e=function(){};return{s:e,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:e}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,h=!0,i=!1;return{s:function(){c=c.call(a)},n:function(){var a=c.next();return h=a.done,a},e:function(a){i=!0,f=a},f:function(){try{h||null==c.return||c.return()}finally{if(i)throw f}}}}function g(a,b){if(a){if("string"==typeof a)return h(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return h(a,b)}}function h(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function i(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&j(a,b)}function j(a,b){return(j=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function k(a){var b=n();return function(){var c,d=o(a);if(b){var e=o(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return l(this,c)}}function l(a,b){if(b&&("object"===d(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");return m(a)}function m(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function n(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function o(a){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function p(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function q(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function r(a,b,c){return b&&q(a.prototype,b),c&&q(a,c),a}var s={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function t(a,b){if(b&&"undefined"!=typeof Path2D){var c=b[2]-b[0],d=b[3]-b[1],e=new Path2D;e.rect(b[0],b[1],c,d),a.clip(e)}}b.PathType=s;var u=function(){function a(){p(this,a),this.constructor===a&&(0,e.unreachable)("Cannot initialize BaseShadingPattern.")}return r(a,[{key:"getPattern",value:function(){(0,e.unreachable)("Abstract method `getPattern` called.")}}]),a}(),v=function(a){i(c,a);var b=k(c);function c(a){var d;return p(this,c),(d=b.call(this))._type=a[1],d._bbox=a[2],d._colorStops=a[3],d._p0=a[4],d._p1=a[5],d._r0=a[6],d._r1=a[7],d.matrix=null,d}return r(c,[{key:"_createGradient",value:function(a){"axial"===this._type?b=a.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(b=a.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));var b,c,d=f(this._colorStops);try{for(d.s();!(c=d.n()).done;){var e=c.value;b.addColorStop(e[0],e[1])}}catch(g){d.e(g)}finally{d.f()}return b}},{key:"getPattern",value:function(a,b,c,d){var f;if(d===s.STROKE||d===s.FILL){var g=b.current.getClippedPathBoundingBox(d,a.mozCurrentTransform)||[0,0,0,0],h=Math.ceil(g[2]-g[0])||1,i=Math.ceil(g[3]-g[1])||1,j=b.cachedCanvases.getCanvas("pattern",h,i,!0),k=j.context;k.clearRect(0,0,k.canvas.width,k.canvas.height),k.beginPath(),k.rect(0,0,k.canvas.width,k.canvas.height),k.translate(-g[0],-g[1]),c=e.Util.transform(c,[1,0,0,1,g[0],g[1]]),k.transform.apply(k,b.baseTransform),this.matrix&&k.transform.apply(k,this.matrix),t(k,this._bbox),k.fillStyle=this._createGradient(k),k.fill(),f=a.createPattern(j.canvas,"no-repeat");var l=new DOMMatrix(c);try{f.setTransform(l)}catch(m){(0,e.warn)('RadialAxialShadingPattern.getPattern: "'.concat(null==m?void 0:m.message,'".'))}}else t(a,this._bbox),f=this._createGradient(a);return f}}]),c}(u);function w(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q,r=b.coords,s=b.colors,t=a.data,u=4*a.width;r[c+1]>r[d+1]&&(i=c,c=d,d=i,i=f,f=g,g=i),r[d+1]>r[e+1]&&(i=d,d=e,e=i,i=g,g=h,h=i),r[c+1]>r[d+1]&&(i=c,c=d,d=i,i=f,f=g,g=i);var v=(r[c]+b.offsetX)*b.scaleX,w=(r[c+1]+b.offsetY)*b.scaleY,x=(r[d]+b.offsetX)*b.scaleX,y=(r[d+1]+b.offsetY)*b.scaleY,z=(r[e]+b.offsetX)*b.scaleX,A=(r[e+1]+b.offsetY)*b.scaleY;if(!(w>=A))for(var B=s[f],C=s[f+1],D=s[f+2],E=s[g],F=s[g+1],G=s[g+2],H=s[h],I=s[h+1],J=s[h+2],K=Math.round(w),L=Math.round(A),M=K;M<=L;M++){if(M<y){var N=void 0;j=v-(v-x)*(N=M<w?0:(w-M)/(w-y)),k=B-(B-E)*N,l=C-(C-F)*N,m=D-(D-G)*N}else{var O=void 0;j=x-(x-z)*(O=M>A?1:y===A?0:(y-M)/(y-A)),k=E-(E-H)*O,l=F-(F-I)*O,m=G-(G-J)*O}var P=void 0;n=v-(v-z)*(P=M<w?0:M>A?1:(w-M)/(w-A)),o=B-(B-H)*P,p=C-(C-I)*P,q=D-(D-J)*P;for(var Q=Math.round(Math.min(j,n)),R=Math.round(Math.max(j,n)),S=u*M+4*Q,T=Q;T<=R;T++)(P=(j-T)/(j-n))<0?P=0:P>1&&(P=1),t[S++]=k-(k-o)*P|0,t[S++]=l-(l-p)*P|0,t[S++]=m-(m-q)*P|0,t[S++]=255}}function x(a,b,c){var d,e,f=b.coords,g=b.colors;switch(b.type){case"lattice":var h=b.verticesPerRow,i=Math.floor(f.length/h)-1,j=h-1;for(d=0;d<i;d++)for(var k=d*h,l=0;l<j;l++,k++)w(a,c,f[k],f[k+1],f[k+h],g[k],g[k+1],g[k+h]),w(a,c,f[k+h+1],f[k+1],f[k+h],g[k+h+1],g[k+1],g[k+h]);break;case"triangles":for(d=0,e=f.length;d<e;d+=3)w(a,c,f[d],f[d+1],f[d+2],g[d],g[d+1],g[d+2]);break;default:throw Error("illegal figure")}}var y=function(a){i(c,a);var b=k(c);function c(a){var d;return p(this,c),(d=b.call(this))._coords=a[2],d._colors=a[3],d._figures=a[4],d._bounds=a[5],d._bbox=a[7],d._background=a[8],d.matrix=null,d}return r(c,[{key:"_createMeshCanvas",value:function(a,b,c){var d=1.1,e=3e3,g=2,h=Math.floor(this._bounds[0]),i=Math.floor(this._bounds[1]),j=Math.ceil(this._bounds[2])-h,k=Math.ceil(this._bounds[3])-i,l=Math.min(Math.ceil(Math.abs(j*a[0]*d)),e),m=Math.min(Math.ceil(Math.abs(k*a[1]*d)),e),n=j/l,o=k/m,p={coords:this._coords,colors:this._colors,offsetX:-h,offsetY:-i,scaleX:1/n,scaleY:1/o},q=l+2*g,r=m+2*g,s=c.getCanvas("mesh",q,r,!1),t=s.context,u=t.createImageData(l,m);if(b)for(var v=u.data,w=0,y=v.length;w<y;w+=4)v[w]=b[0],v[w+1]=b[1],v[w+2]=b[2],v[w+3]=255;var z,A=f(this._figures);try{for(A.s();!(z=A.n()).done;){var B=z.value;x(u,B,p)}}catch(C){A.e(C)}finally{A.f()}return t.putImageData(u,g,g),{canvas:s.canvas,offsetX:h-g*n,offsetY:i-g*o,scaleX:n,scaleY:o}}},{key:"getPattern",value:function(a,b,c,d){if(t(a,this._bbox),d===s.SHADING)f=e.Util.singularValueDecompose2dScale(a.mozCurrentTransform);else if(f=e.Util.singularValueDecompose2dScale(b.baseTransform),this.matrix){var f,g=e.Util.singularValueDecompose2dScale(this.matrix);f=[f[0]*g[0],f[1]*g[1]]}var h=this._createMeshCanvas(f,d===s.SHADING?null:this._background,b.cachedCanvases);return d!==s.SHADING&&(a.setTransform.apply(a,b.baseTransform),this.matrix&&a.transform.apply(a,this.matrix)),a.translate(h.offsetX,h.offsetY),a.scale(h.scaleX,h.scaleY),a.createPattern(h.canvas,"no-repeat")}}]),c}(u),z=function(a){i(c,a);var b=k(c);function c(){return p(this,c),b.apply(this,arguments)}return r(c,[{key:"getPattern",value:function(){return"hotpink"}}]),c}(u);function A(a){switch(a[0]){case"RadialAxial":return new v(a);case"Mesh":return new y(a);case"Dummy":return new z}throw Error("Unknown IR type: ".concat(a[0]))}var B={COLORED:1,UNCOLORED:2},C=function(){function a(b,c,d,e,f){p(this,a),this.operatorList=b[2],this.matrix=b[3]||[1,0,0,1,0,0],this.bbox=b[4],this.xstep=b[5],this.ystep=b[6],this.paintType=b[7],this.tilingType=b[8],this.color=c,this.ctx=d,this.canvasGraphicsFactory=e,this.baseTransform=f}return r(a,[{key:"createPatternCanvas",value:function(a){var b=this.operatorList,c=this.bbox,d=this.xstep,f=this.ystep,g=this.paintType,h=this.tilingType,i=this.color,j=this.canvasGraphicsFactory;(0,e.info)("TilingType: "+h);var k=c[0],l=c[1],m=c[2],n=c[3],o=e.Util.singularValueDecompose2dScale(this.matrix),p=e.Util.singularValueDecompose2dScale(this.baseTransform),q=[o[0]*p[0],o[1]*p[1]],r=this.getSizeAndScale(d,this.ctx.canvas.width,q[0]),s=this.getSizeAndScale(f,this.ctx.canvas.height,q[1]),t=a.cachedCanvases.getCanvas("pattern",r.size,s.size,!0),u=t.context,v=j.createCanvasGraphics(u);v.groupLevel=a.groupLevel,this.setFillAndStrokeStyleToContext(v,g,i);var w=k,x=l,y=m,z=n;return k<0&&(w=0,y+=Math.abs(k)),l<0&&(x=0,z+=Math.abs(l)),u.translate(-(r.scale*w),-(s.scale*x)),v.transform(r.scale,0,0,s.scale,0,0),this.clipBbox(v,w,x,y,z),v.baseTransform=v.ctx.mozCurrentTransform.slice(),v.executeOperatorList(b),v.endDrawing(),{canvas:t.canvas,scaleX:r.scale,scaleY:s.scale,offsetX:w,offsetY:x}}},{key:"getSizeAndScale",value:function(b,c,d){b=Math.abs(b);var e=Math.max(a.MAX_PATTERN_SIZE,c),f=Math.ceil(b*d);return f>=e?f=e:d=f/b,{scale:d,size:f}}},{key:"clipBbox",value:function(a,b,c,d,e){var f=d-b,g=e-c;a.ctx.rect(b,c,f,g),a.clip(),a.endPath()}},{key:"setFillAndStrokeStyleToContext",value:function(a,b,c){var d=a.ctx,f=a.current;switch(b){case B.COLORED:var g=this.ctx;d.fillStyle=g.fillStyle,d.strokeStyle=g.strokeStyle,f.fillColor=g.fillStyle,f.strokeColor=g.strokeStyle;break;case B.UNCOLORED:var h=e.Util.makeHexColor(c[0],c[1],c[2]);d.fillStyle=h,d.strokeStyle=h,f.fillColor=h,f.strokeColor=h;break;default:throw new e.FormatError("Unsupported paint type: ".concat(b))}}},{key:"getPattern",value:function(a,b,c,d){var f=c;d!==s.SHADING&&(f=e.Util.transform(f,b.baseTransform),this.matrix&&(f=e.Util.transform(f,this.matrix)));var g=this.createPatternCanvas(b),h=new DOMMatrix(f);h=(h=h.translate(g.offsetX,g.offsetY)).scale(1/g.scaleX,1/g.scaleY);var i=a.createPattern(g.canvas,"repeat");try{i.setTransform(h)}catch(j){(0,e.warn)('TilingPattern.getPattern: "'.concat(null==j?void 0:j.message,'".'))}return i}}],[{key:"MAX_PATTERN_SIZE",get:function(){return(0,e.shadow)(this,"MAX_PATTERN_SIZE",3e3)}}]),a}();b.TilingPattern=C},(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GlobalWorkerOptions=void 0;var c=Object.create(null);b.GlobalWorkerOptions=c,c.workerPort=void 0===c.workerPort?null:c.workerPort,c.workerSrc=void 0===c.workerSrc?"":c.workerSrc},(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.MessageHandler=void 0;var d=f(c(2)),e=c(4);function f(a){return a&&a.__esModule?a:{default:a}}function g(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function h(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function h(a){g(f,d,e,h,i,"next",a)}function i(a){g(f,d,e,h,i,"throw",a)}h(void 0)})}}function i(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function j(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function k(a,b,c){return b&&j(a.prototype,b),c&&j(a,c),a}function l(a){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}var m={UNKNOWN:0,DATA:1,ERROR:2},n={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function o(a){if(!(a instanceof Error||"object"===l(a)&&null!==a))return(0,e.warn)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),a;switch(a.name){case"AbortException":return new e.AbortException(a.message);case"MissingPDFException":return new e.MissingPDFException(a.message);case"PasswordException":return new e.PasswordException(a.message,a.code);case"UnexpectedResponseException":return new e.UnexpectedResponseException(a.message,a.status);case"UnknownErrorException":return new e.UnknownErrorException(a.message,a.details);default:return new e.UnknownErrorException(a.message,a.toString())}}var p=function(){function a(b,c,d){var e=this;i(this,a),this.sourceName=b,this.targetName=c,this.comObj=d,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(a){var b=a.data;if(b.targetName===e.sourceName){if(b.stream){e._processStreamMessage(b);return}if(b.callback){var c=b.callbackId,f=e.callbackCapabilities[c];if(!f)throw Error("Cannot resolve callback ".concat(c));if(delete e.callbackCapabilities[c],b.callback===m.DATA)f.resolve(b.data);else if(b.callback===m.ERROR)f.reject(o(b.reason));else throw Error("Unexpected callback case");return}var g=e.actionHandler[b.action];if(!g)throw Error("Unknown action from worker: ".concat(b.action));if(b.callbackId){var h=e.sourceName,i=b.sourceName;new Promise(function(a){a(g(b.data))}).then(function(a){d.postMessage({sourceName:h,targetName:i,callback:m.DATA,callbackId:b.callbackId,data:a})},function(a){d.postMessage({sourceName:h,targetName:i,callback:m.ERROR,callbackId:b.callbackId,reason:o(a)})});return}if(b.streamId){e._createStreamSink(b);return}g(b.data)}},d.addEventListener("message",this._onComObjOnMessage)}return k(a,[{key:"on",value:function(a,b){var c=this.actionHandler;if(c[a])throw Error('There is already an actionName called "'.concat(a,'"'));c[a]=b}},{key:"send",value:function(a,b,c){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:a,data:b},c)}},{key:"sendWithPromise",value:function(a,b,c){var d=this.callbackId++,f=(0,e.createPromiseCapability)();this.callbackCapabilities[d]=f;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:a,callbackId:d,data:b},c)}catch(g){f.reject(g)}return f.promise}},{key:"sendWithStream",value:function(a,b,c,d){var f=this,g=this.streamId++,h=this.sourceName,i=this.targetName,j=this.comObj;return new ReadableStream({start:function(c){var k=(0,e.createPromiseCapability)();return f.streamControllers[g]={controller:c,startCall:k,pullCall:null,cancelCall:null,isClosed:!1},j.postMessage({sourceName:h,targetName:i,action:a,streamId:g,data:b,desiredSize:c.desiredSize},d),k.promise},pull:function(a){var b=(0,e.createPromiseCapability)();return f.streamControllers[g].pullCall=b,j.postMessage({sourceName:h,targetName:i,stream:n.PULL,streamId:g,desiredSize:a.desiredSize}),b.promise},cancel:function(a){(0,e.assert)(a instanceof Error,"cancel must have a valid reason");var b=(0,e.createPromiseCapability)();return f.streamControllers[g].cancelCall=b,f.streamControllers[g].isClosed=!0,j.postMessage({sourceName:h,targetName:i,stream:n.CANCEL,streamId:g,reason:o(a)}),b.promise}},c)}},{key:"_createStreamSink",value:function(a){var b=a.streamId,c=this.sourceName,d=a.sourceName,f=this.comObj,g=this,h=this.actionHandler[a.action],i={enqueue:function(a){var g=arguments.length>1&& void 0!==arguments[1]?arguments[1]:1,h=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var i=this.desiredSize;this.desiredSize-=g,i>0&&this.desiredSize<=0&&(this.sinkCapability=(0,e.createPromiseCapability)(),this.ready=this.sinkCapability.promise),f.postMessage({sourceName:c,targetName:d,stream:n.ENQUEUE,streamId:b,chunk:a},h)}},close:function(){!this.isCancelled&&(this.isCancelled=!0,f.postMessage({sourceName:c,targetName:d,stream:n.CLOSE,streamId:b}),delete g.streamSinks[b])},error:function(a){(0,e.assert)(a instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,f.postMessage({sourceName:c,targetName:d,stream:n.ERROR,streamId:b,reason:o(a)}))},sinkCapability:(0,e.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:a.desiredSize,ready:null};i.sinkCapability.resolve(),i.ready=i.sinkCapability.promise,this.streamSinks[b]=i,new Promise(function(b){b(h(a.data,i))}).then(function(){f.postMessage({sourceName:c,targetName:d,stream:n.START_COMPLETE,streamId:b,success:!0})},function(a){f.postMessage({sourceName:c,targetName:d,stream:n.START_COMPLETE,streamId:b,reason:o(a)})})}},{key:"_processStreamMessage",value:function(a){var b=a.streamId,c=this.sourceName,d=a.sourceName,f=this.comObj,g=this.streamControllers[b],h=this.streamSinks[b];switch(a.stream){case n.START_COMPLETE:a.success?g.startCall.resolve():g.startCall.reject(o(a.reason));break;case n.PULL_COMPLETE:a.success?g.pullCall.resolve():g.pullCall.reject(o(a.reason));break;case n.PULL:if(!h){f.postMessage({sourceName:c,targetName:d,stream:n.PULL_COMPLETE,streamId:b,success:!0});break}h.desiredSize<=0&&a.desiredSize>0&&h.sinkCapability.resolve(),h.desiredSize=a.desiredSize,new Promise(function(a){a(h.onPull&&h.onPull())}).then(function(){f.postMessage({sourceName:c,targetName:d,stream:n.PULL_COMPLETE,streamId:b,success:!0})},function(a){f.postMessage({sourceName:c,targetName:d,stream:n.PULL_COMPLETE,streamId:b,reason:o(a)})});break;case n.ENQUEUE:if((0,e.assert)(g,"enqueue should have stream controller"),g.isClosed)break;g.controller.enqueue(a.chunk);break;case n.CLOSE:if((0,e.assert)(g,"close should have stream controller"),g.isClosed)break;g.isClosed=!0,g.controller.close(),this._deleteStreamController(g,b);break;case n.ERROR:(0,e.assert)(g,"error should have stream controller"),g.controller.error(o(a.reason)),this._deleteStreamController(g,b);break;case n.CANCEL_COMPLETE:a.success?g.cancelCall.resolve():g.cancelCall.reject(o(a.reason)),this._deleteStreamController(g,b);break;case n.CANCEL:if(!h)break;new Promise(function(b){b(h.onCancel&&h.onCancel(o(a.reason)))}).then(function(){f.postMessage({sourceName:c,targetName:d,stream:n.CANCEL_COMPLETE,streamId:b,success:!0})},function(a){f.postMessage({sourceName:c,targetName:d,stream:n.CANCEL_COMPLETE,streamId:b,reason:o(a)})}),h.sinkCapability.reject(o(a.reason)),h.isCancelled=!0,delete this.streamSinks[b];break;default:throw Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:function(){var a=h(d.default.mark(function a(b,c){return d.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Promise.allSettled([b.startCall&&b.startCall.promise,b.pullCall&&b.pullCall.promise,b.cancelCall&&b.cancelCall.promise]);case 2:delete this.streamControllers[c];case 3:case"end":return a.stop()}},a,this)}));function b(b,c){return a.apply(this,arguments)}return b}()},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}]),a}();b.MessageHandler=p},(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Metadata=void 0;var d=c(4);function e(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}function h(a,b,c){i(a,b),b.set(a,c)}function i(a,b){if(b.has(a))throw TypeError("Cannot initialize the same private elements twice on an object")}function j(a,b){var c=m(a,b,"get");return k(a,c)}function k(a,b){return b.get?b.get.call(a):b.value}function l(a,b,c){var d=m(a,b,"set");return n(a,d,c),c}function m(a,b,c){if(!b.has(a))throw TypeError("attempted to "+c+" private field on non-instance");return b.get(a)}function n(a,b,c){if(b.set)b.set.call(a,c);else{if(!b.writable)throw TypeError("attempted to set read only private field");b.value=c}}var o=new WeakMap,p=new WeakMap,q=function(){function a(b){var c=b.parsedData,d=b.rawData;e(this,a),h(this,o,{writable:!0,value:void 0}),h(this,p,{writable:!0,value:void 0}),l(this,o,c),l(this,p,d)}return g(a,[{key:"getRaw",value:function(){return j(this,p)}},{key:"get",value:function(a){var b;return null!==(b=j(this,o).get(a))&& void 0!==b?b:null}},{key:"getAll",value:function(){return(0,d.objectFromMap)(j(this,o))}},{key:"has",value:function(a){return j(this,o).has(a)}}]),a}();b.Metadata=q},(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.OptionalContentConfig=void 0;var d=c(4);function e(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=f(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var d=0,e=function(){};return{s:e,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:e}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var g,h=!0,i=!1;return{s:function(){c=c.call(a)},n:function(){var a=c.next();return h=a.done,a},e:function(a){i=!0,g=a},f:function(){try{h||null==c.return||c.return()}finally{if(i)throw g}}}}function f(a,b){if(a){if("string"==typeof a)return g(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return g(a,b)}}function g(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function h(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function i(a,b,c){return b&&h(a.prototype,b),c&&h(a,c),a}function j(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}var k=function a(b,c){j(this,a),this.visible=!0,this.name=b,this.intent=c},l=function(){function a(b){if(j(this,a),this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==b){this.name=b.name,this.creator=b.creator,this._order=b.order;var c,d=e(b.groups);try{for(d.s();!(c=d.n()).done;){var f=c.value;this._groups.set(f.id,new k(f.name,f.intent))}}catch(g){d.e(g)}finally{d.f()}if("OFF"===b.baseState){var h,i=e(this._groups);try{for(i.s();!(h=i.n()).done;)h.value.visible=!1}catch(l){i.e(l)}finally{i.f()}}var m,n=e(b.on);try{for(n.s();!(m=n.n()).done;){var o=m.value;this._groups.get(o).visible=!0}}catch(p){n.e(p)}finally{n.f()}var q,r=e(b.off);try{for(r.s();!(q=r.n()).done;){var s=q.value;this._groups.get(s).visible=!1}}catch(t){r.e(t)}finally{r.f()}}}return i(a,[{key:"_evaluateVisibilityExpression",value:function(a){var b=a.length;if(b<2)return!0;for(var c=a[0],e=1;e<b;e++){var f=a[e],g=void 0;if(Array.isArray(f))g=this._evaluateVisibilityExpression(f);else{if(!this._groups.has(f))return(0,d.warn)("Optional content group not found: ".concat(f)),!0;g=this._groups.get(f).visible}switch(c){case"And":if(!g)return!1;break;case"Or":if(g)return!0;break;case"Not":return!g;default:return!0}}return"And"===c}},{key:"isVisible",value:function(a){if(0===this._groups.size)return!0;if(!a)return(0,d.warn)("Optional content group not defined."),!0;if("OCG"===a.type)return this._groups.has(a.id)?this._groups.get(a.id).visible:((0,d.warn)("Optional content group not found: ".concat(a.id)),!0);if("OCMD"===a.type){if(a.expression)return this._evaluateVisibilityExpression(a.expression);if(a.policy&&"AnyOn"!==a.policy){if("AllOn"===a.policy){var b,c=e(a.ids);try{for(c.s();!(b=c.n()).done;){var f=b.value;if(!this._groups.has(f)){(0,d.warn)("Optional content group not found: ".concat(f));break}if(!this._groups.get(f).visible)return!1}}catch(g){c.e(g)}finally{c.f()}return!0}if("AnyOff"===a.policy){var h,i=e(a.ids);try{for(i.s();!(h=i.n()).done;){var j=h.value;if(!this._groups.has(j))return(0,d.warn)("Optional content group not found: ".concat(j)),!0;if(!this._groups.get(j).visible)return!0}}catch(k){i.e(k)}finally{i.f()}return!1}else if("AllOff"===a.policy){var l,m=e(a.ids);try{for(m.s();!(l=m.n()).done;){var n=l.value;if(!this._groups.has(n)){(0,d.warn)("Optional content group not found: ".concat(n));break}if(this._groups.get(n).visible)return!1}}catch(o){m.e(o)}finally{m.f()}return!0}}else{var p,q=e(a.ids);try{for(q.s();!(p=q.n()).done;){var r=p.value;if(!this._groups.has(r))return(0,d.warn)("Optional content group not found: ".concat(r)),!0;if(this._groups.get(r).visible)return!0}}catch(s){q.e(s)}finally{q.f()}return!1}return(0,d.warn)("Unknown optional content policy ".concat(a.policy,".")),!0}return(0,d.warn)("Unknown group type ".concat(a.type,".")),!0}},{key:"setVisibility",value:function(a){var b=!(arguments.length>1)|| void 0===arguments[1]||arguments[1];if(!this._groups.has(a)){(0,d.warn)("Optional content group not found: ".concat(a));return}this._groups.get(a).visible=!!b}},{key:"getOrder",value:function(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}},{key:"getGroups",value:function(){return this._groups.size>0?(0,d.objectFromMap)(this._groups):null}},{key:"getGroup",value:function(a){return this._groups.get(a)||null}}]),a}();b.OptionalContentConfig=l},(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.PDFDataTransportStream=void 0;var d=g(c(2)),e=c(4),f=c(1);function g(a){return a&&a.__esModule?a:{default:a}}function h(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function i(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){h(f,d,e,g,i,"next",a)}function i(a){h(f,d,e,g,i,"throw",a)}g(void 0)})}}function j(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=k(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var d=0,e=function(){};return{s:e,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:e}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function(){c=c.call(a)},n:function(){var a=c.next();return g=a.done,a},e:function(a){h=!0,f=a},f:function(){try{g||null==c.return||c.return()}finally{if(h)throw f}}}}function k(a,b){if(a){if("string"==typeof a)return l(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return l(a,b)}}function l(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function m(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function n(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function o(a,b,c){return b&&n(a.prototype,b),c&&n(a,c),a}var p=function(){function a(b,c){var d=this;m(this,a),(0,e.assert)(c,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=b.progressiveDone||!1,this._contentDispositionFilename=b.contentDispositionFilename||null;var f=b.initialData;if((null==f?void 0:f.length)>0){var g=new Uint8Array(f).buffer;this._queuedChunks.push(g)}this._pdfDataRangeTransport=c,this._isStreamingSupported=!b.disableStream,this._isRangeSupported=!b.disableRange,this._contentLength=b.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(function(a,b){d._onReceiveData({begin:a,chunk:b})}),this._pdfDataRangeTransport.addProgressListener(function(a,b){d._onProgress({loaded:a,total:b})}),this._pdfDataRangeTransport.addProgressiveReadListener(function(a){d._onReceiveData({chunk:a})}),this._pdfDataRangeTransport.addProgressiveDoneListener(function(){d._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}return o(a,[{key:"_onReceiveData",value:function(a){var b=new Uint8Array(a.chunk).buffer;if(void 0===a.begin)this._fullRequestReader?this._fullRequestReader._enqueue(b):this._queuedChunks.push(b);else{var c=this._rangeReaders.some(function(c){return c._begin===a.begin&&(c._enqueue(b),!0)});(0,e.assert)(c,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}},{key:"_progressiveDataLength",get:function(){var a,b;return null!==(a=null===(b=this._fullRequestReader)|| void 0===b?void 0:b._loaded)&& void 0!==a?a:0}},{key:"_onProgress",value:function(a){if(void 0===a.total){var b=this._rangeReaders[0];null!=b&&b.onProgress&&b.onProgress({loaded:a.loaded})}else{var c=this._fullRequestReader;null!=c&&c.onProgress&&c.onProgress({loaded:a.loaded,total:a.total})}}},{key:"_onProgressiveDone",value:function(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(a){var b=this._rangeReaders.indexOf(a);b>=0&&this._rangeReaders.splice(b,1)}},{key:"getFullReader",value:function(){(0,e.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var a=this._queuedChunks;return this._queuedChunks=null,new q(this,a,this._progressiveDone,this._contentDispositionFilename)}},{key:"getRangeReader",value:function(a,b){if(b<=this._progressiveDataLength)return null;var c=new r(this,a,b);return this._pdfDataRangeTransport.requestDataRange(a,b),this._rangeReaders.push(c),c}},{key:"cancelAllRequests",value:function(a){this._fullRequestReader&&this._fullRequestReader.cancel(a);var b,c=j(this._rangeReaders.slice(0));try{for(c.s();!(b=c.n()).done;)b.value.cancel(a)}catch(d){c.e(d)}finally{c.f()}this._pdfDataRangeTransport.abort()}}]),a}();b.PDFDataTransportStream=p;var q=function(){function a(b,c){var d=arguments.length>2&& void 0!==arguments[2]&&arguments[2],e=arguments.length>3&& void 0!==arguments[3]?arguments[3]:null;m(this,a),this._stream=b,this._done=d||!1,this._filename=(0,f.isPdfFile)(e)?e:null,this._queuedChunks=c||[],this._loaded=0;var g,h=j(this._queuedChunks);try{for(h.s();!(g=h.n()).done;){var i=g.value;this._loaded+=i.byteLength}}catch(k){h.e(k)}finally{h.f()}this._requests=[],this._headersReady=Promise.resolve(),b._fullRequestReader=this,this.onProgress=null}return o(a,[{key:"_enqueue",value:function(a){!this._done&&(this._requests.length>0?this._requests.shift().resolve({value:a,done:!1}):this._queuedChunks.push(a),this._loaded+=a.byteLength)}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}},{key:"read",value:function(){var a=i(d.default.mark(function a(){var b,c;return d.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(this._queuedChunks.length>0)){a.next=3;break}return b=this._queuedChunks.shift(),a.abrupt("return",{value:b,done:!1});case 3:if(!this._done){a.next=5;break}return a.abrupt("return",{value:void 0,done:!0});case 5:return c=(0,e.createPromiseCapability)(),this._requests.push(c),a.abrupt("return",c.promise);case 8:case"end":return a.stop()}},a,this)}));function b(){return a.apply(this,arguments)}return b}()},{key:"cancel",value:function(a){this._done=!0;var b,c=j(this._requests);try{for(c.s();!(b=c.n()).done;)b.value.resolve({value:void 0,done:!0})}catch(d){c.e(d)}finally{c.f()}this._requests.length=0}},{key:"progressiveDone",value:function(){!this._done&&(this._done=!0)}}]),a}(),r=function(){function a(b,c,d){m(this,a),this._stream=b,this._begin=c,this._end=d,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}return o(a,[{key:"_enqueue",value:function(a){if(!this._done){if(0===this._requests.length)this._queuedChunk=a;else{this._requests.shift().resolve({value:a,done:!1});var b,c=j(this._requests);try{for(c.s();!(b=c.n()).done;)b.value.resolve({value:void 0,done:!0})}catch(d){c.e(d)}finally{c.f()}this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:function(){var a=i(d.default.mark(function a(){var b,c;return d.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this._queuedChunk){a.next=4;break}return b=this._queuedChunk,this._queuedChunk=null,a.abrupt("return",{value:b,done:!1});case 4:if(!this._done){a.next=6;break}return a.abrupt("return",{value:void 0,done:!0});case 6:return c=(0,e.createPromiseCapability)(),this._requests.push(c),a.abrupt("return",c.promise);case 9:case"end":return a.stop()}},a,this)}));function b(){return a.apply(this,arguments)}return b}()},{key:"cancel",value:function(a){this._done=!0;var b,c=j(this._requests);try{for(c.s();!(b=c.n()).done;)b.value.resolve({value:void 0,done:!0})}catch(d){c.e(d)}finally{c.f()}this._requests.length=0,this._stream._removeRangeReader(this)}}]),a}()},(a,b)=>{"use strict";function c(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=d(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var e=0,f=function(){};return{s:f,n:function(){return e>=a.length?{done:!0}:{done:!1,value:a[e++]}},e:function(a){throw a},f:f}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var g,h=!0,i=!1;return{s:function(){c=c.call(a)},n:function(){var a=c.next();return h=a.done,a},e:function(a){i=!0,g=a},f:function(){try{h||null==c.return||c.return()}finally{if(i)throw g}}}}function d(a,b){if(a){if("string"==typeof a)return e(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return e(a,b)}}function e(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function f(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function g(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function h(a,b,c){return b&&g(a.prototype,b),c&&g(a,c),a}Object.defineProperty(b,"__esModule",{value:!0}),b.XfaText=void 0;var i=function(){function a(){f(this,a)}return h(a,null,[{key:"textContent",value:function(b){var d=[],e={items:d,styles:Object.create(null)};function f(b){if(b){var e=null,g=b.name;if("#text"===g)e=b.value;else{if(!a.shouldBuildText(g))return;null!=b&&null!==(h=b.attributes)&& void 0!==h&&h.textContent?e=b.attributes.textContent:b.value&&(e=b.value)}if(null!==e&&d.push({str:e}),b.children){var h,i,j=c(b.children);try{for(j.s();!(i=j.n()).done;){var k=i.value;f(k)}}catch(l){j.e(l)}finally{j.f()}}}}return f(b),e}},{key:"shouldBuildText",value:function(a){return!("textarea"===a||"input"===a||"option"===a||"select"===a)}}]),a}();b.XfaText=i},(a,b,c)=>{"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}Object.defineProperty(b,"__esModule",{value:!0}),b.AnnotationLayer=void 0;var e=c(4),f=c(1),g=c(139),h=c(149),i=c(150);function j(a,b,c){return k(a,b),c}function k(a,b){if(a!==b)throw TypeError("Private static access of wrong provenance")}function l(a,b,c){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(a,b,c){var d=m(a,b);if(d){var e=Object.getOwnPropertyDescriptor(d,b);return e.get?e.get.call(c):e.value}})(a,b,c||a)}function m(a,b){for(;!Object.prototype.hasOwnProperty.call(a,b)&&null!==(a=y(a)););return a}function n(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function o(a){return r(a)||q(a)||C(a)||p()}function p(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function q(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}function r(a){if(Array.isArray(a))return D(a)}function s(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&t(a,b)}function t(a,b){return(t=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function u(a){var b=x();return function(){var c,d=y(a);if(b){var e=y(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return v(this,c)}}function v(a,b){if(b&&("object"===d(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");return w(a)}function w(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function x(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function y(a){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function z(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=C(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var d=0,e=function(){};return{s:e,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:e}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function(){c=c.call(a)},n:function(){var a=c.next();return g=a.done,a},e:function(a){h=!0,f=a},f:function(){try{g||null==c.return||c.return()}finally{if(h)throw f}}}}function A(a,b){return F(a)||E(a,b)||C(a,b)||B()}function B(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function C(a,b){if(a){if("string"==typeof a)return D(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return D(a,b)}}function D(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function E(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}function F(a){if(Array.isArray(a))return a}function G(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function H(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function I(a,b,c){return b&&H(a.prototype,b),c&&H(a,c),a}var J=1e3,K=new WeakSet,L=function(){function a(){G(this,a)}return I(a,null,[{key:"create",value:function(a){var b=a.data.annotationType;switch(b){case e.AnnotationType.LINK:return new N(a);case e.AnnotationType.TEXT:return new O(a);case e.AnnotationType.WIDGET:var c=a.data.fieldType;switch(c){case"Tx":return new Q(a);case"Btn":if(a.data.radioButton)return new S(a);if(a.data.checkBox)return new R(a);return new T(a);case"Ch":return new U(a)}return new P(a);case e.AnnotationType.POPUP:return new V(a);case e.AnnotationType.FREETEXT:return new X(a);case e.AnnotationType.LINE:return new Y(a);case e.AnnotationType.SQUARE:return new Z(a);case e.AnnotationType.CIRCLE:return new $(a);case e.AnnotationType.POLYLINE:return new _(a);case e.AnnotationType.CARET:return new ab(a);case e.AnnotationType.INK:return new ac(a);case e.AnnotationType.POLYGON:return new aa(a);case e.AnnotationType.HIGHLIGHT:return new ad(a);case e.AnnotationType.UNDERLINE:return new ae(a);case e.AnnotationType.SQUIGGLY:return new af(a);case e.AnnotationType.STRIKEOUT:return new ag(a);case e.AnnotationType.STAMP:return new ah(a);case e.AnnotationType.FILEATTACHMENT:return new ai(a);default:return new M(a)}}}]),a}(),M=function(){function a(b){var c=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{},d=c.isRenderable,e=void 0!==d&&d,f=c.ignoreBorder,g=void 0!==f&&f,h=c.createQuadrilaterals,i=void 0!==h&&h;G(this,a),this.isRenderable=e,this.data=b.data,this.layer=b.layer,this.page=b.page,this.viewport=b.viewport,this.linkService=b.linkService,this.downloadManager=b.downloadManager,this.imageResourcesPath=b.imageResourcesPath,this.renderForms=b.renderForms,this.svgFactory=b.svgFactory,this.annotationStorage=b.annotationStorage,this.enableScripting=b.enableScripting,this.hasJSActions=b.hasJSActions,this._fieldObjects=b.fieldObjects,this._mouseState=b.mouseState,e&&(this.container=this._createContainer(g)),i&&(this.quadrilaterals=this._createQuadrilaterals(g))}return I(a,[{key:"_createContainer",value:function(){var a=arguments.length>0&& void 0!==arguments[0]&&arguments[0],b=this.data,c=this.page,d=this.viewport,f=document.createElement("section"),g=b.rect[2]-b.rect[0],h=b.rect[3]-b.rect[1];f.setAttribute("data-annotation-id",b.id);var i=e.Util.normalizeRect([b.rect[0],c.view[3]-b.rect[1]+c.view[1],b.rect[2],c.view[3]-b.rect[3]+c.view[1]]);if(b.hasOwnCanvas){var j=d.transform.slice(),k=e.Util.singularValueDecompose2dScale(j),l=A(k,2),m=l[0],n=l[1];g=Math.ceil(g*m),h=Math.ceil(h*n),i[0]*=m,i[1]*=n;for(var o=0;o<4;o++)j[o]=Math.sign(j[o]);f.style.transform="matrix(".concat(j.join(","),")")}else f.style.transform="matrix(".concat(d.transform.join(","),")");if(f.style.transformOrigin="".concat(-i[0],"px ").concat(-i[1],"px"),!a&&b.borderStyle.width>0){f.style.borderWidth="".concat(b.borderStyle.width,"px"),b.borderStyle.style!==e.AnnotationBorderStyleType.UNDERLINE&&(g-=2*b.borderStyle.width,h-=2*b.borderStyle.width);var p=b.borderStyle.horizontalCornerRadius,q=b.borderStyle.verticalCornerRadius;if(p>0||q>0){var r="".concat(p,"px / ").concat(q,"px");f.style.borderRadius=r}switch(b.borderStyle.style){case e.AnnotationBorderStyleType.SOLID:f.style.borderStyle="solid";break;case e.AnnotationBorderStyleType.DASHED:f.style.borderStyle="dashed";break;case e.AnnotationBorderStyleType.BEVELED:(0,e.warn)("Unimplemented border style: beveled");break;case e.AnnotationBorderStyleType.INSET:(0,e.warn)("Unimplemented border style: inset");break;case e.AnnotationBorderStyleType.UNDERLINE:f.style.borderBottomStyle="solid"}b.borderColor||b.color?f.style.borderColor=e.Util.makeHexColor(0|b.color[0],0|b.color[1],0|b.color[2]):f.style.borderWidth=0}return f.style.left="".concat(i[0],"px"),f.style.top="".concat(i[1],"px"),b.hasOwnCanvas?f.style.width=f.style.height="auto":(f.style.width="".concat(g,"px"),f.style.height="".concat(h,"px")),f}},{key:"_createQuadrilaterals",value:function(){var a=arguments.length>0&& void 0!==arguments[0]&&arguments[0];if(!this.data.quadPoints)return null;var b,c=[],d=this.data.rect,e=z(this.data.quadPoints);try{for(e.s();!(b=e.n()).done;){var f=b.value;this.data.rect=[f[2].x,f[2].y,f[1].x,f[1].y],c.push(this._createContainer(a))}}catch(g){e.e(g)}finally{e.f()}return this.data.rect=d,c}},{key:"_createPopup",value:function(a,b){var c=this.container;this.quadrilaterals&&(a=a||this.quadrilaterals,c=this.quadrilaterals[0]),a||((a=document.createElement("div")).style.height=c.style.height,a.style.width=c.style.width,c.appendChild(a));var d=new W({container:c,trigger:a,color:b.color,titleObj:b.titleObj,modificationDate:b.modificationDate,contentsObj:b.contentsObj,richText:b.richText,hideWrapper:!0}).render();d.style.left=c.style.width,c.appendChild(d)}},{key:"_renderQuadrilaterals",value:function(a){var b,c=z(this.quadrilaterals);try{for(c.s();!(b=c.n()).done;)b.value.className=a}catch(d){c.e(d)}finally{c.f()}return this.quadrilaterals}},{key:"render",value:function(){(0,e.unreachable)("Abstract method `AnnotationElement.render` called")}},{key:"_getElementsByName",value:function(a){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:null,c=[];if(this._fieldObjects){var d=this._fieldObjects[a];if(d){var f,g=z(d);try{for(g.s();!(f=g.n()).done;){var h=f.value,i=h.page,j=h.id,k=h.exportValues;if(-1!==i&&j!==b){var l="string"==typeof k?k:null,m=document.getElementById(j);if(m&&!K.has(m)){(0,e.warn)("_getElementsByName - element not allowed: ".concat(j));continue}c.push({id:j,exportValue:l,domElement:m})}}}catch(n){g.e(n)}finally{g.f()}}return c}var o,p=z(document.getElementsByName(a));try{for(p.s();!(o=p.n()).done;){var q=o.value,r=q.id,s=q.exportValue;r!==b&&K.has(q)&&c.push({id:r,exportValue:s,domElement:q})}}catch(t){p.e(t)}finally{p.f()}return c}}],[{key:"platform",get:function(){var a="undefined"!=typeof navigator?navigator.platform:"";return(0,e.shadow)(this,"platform",{isWin:a.includes("Win"),isMac:a.includes("Mac")})}}]),a}(),N=function(a){s(c,a);var b=u(c);function c(a){var d=arguments.length>1&& void 0!==arguments[1]?arguments[1]:null;G(this,c);var e=!!(a.data.url||a.data.dest||a.data.action||a.data.isTooltipOnly||a.data.resetForm||a.data.actions&&(a.data.actions.Action||a.data.actions["Mouse Up"]||a.data.actions["Mouse Down"]));return b.call(this,a,{isRenderable:e,ignoreBorder:!!(null!=d&&d.ignoreBorder),createQuadrilaterals:!0})}return I(c,[{key:"render",value:function(){var a,b=this.data,c=this.linkService,d=document.createElement("a");if(b.url)c.addLinkAttributes||(0,e.warn)("LinkAnnotationElement.render - missing `addLinkAttributes`-method on the `linkService`-instance."),null===(a=c.addLinkAttributes)|| void 0===a||a.call(c,d,b.url,b.newWindow);else if(b.action)this._bindNamedAction(d,b.action);else if(b.dest)this._bindLink(d,b.dest);else{var f=!1;b.actions&&(b.actions.Action||b.actions["Mouse Up"]||b.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(f=!0,this._bindJSAction(d,b)),b.resetForm?this._bindResetFormAction(d,b.resetForm):f||this._bindLink(d,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map(function(a,b){var c=0===b?d:d.cloneNode();return a.appendChild(c),a}):(this.container.className="linkAnnotation",this.container.appendChild(d),this.container)}},{key:"_bindLink",value:function(a,b){var c=this;a.href=this.linkService.getDestinationHash(b),a.onclick=function(){return b&&c.linkService.goToDestination(b),!1},(b||""===b)&&(a.className="internalLink")}},{key:"_bindNamedAction",value:function(a,b){var c=this;a.href=this.linkService.getAnchorUrl(""),a.onclick=function(){return c.linkService.executeNamedAction(b),!1},a.className="internalLink"}},{key:"_bindJSAction",value:function(a,b){var c=this;a.href=this.linkService.getAnchorUrl("");for(var d=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]),e=function(){var e=g[f],h=d.get(e);if(!h)return"continue";a[h]=function(){var a;return null===(a=c.linkService.eventBus)|| void 0===a||a.dispatch("dispatcheventinsandbox",{source:c,detail:{id:b.id,name:e}}),!1}},f=0,g=Object.keys(b.actions);f<g.length;f++)if("continue"===e())continue;a.onclick||(a.onclick=function(){return!1}),a.className="internalLink"}},{key:"_bindResetFormAction",value:function(a,b){var c=this,d=a.onclick;if(d||(a.href=this.linkService.getAnchorUrl("")),a.className="internalLink",!this._fieldObjects){(0,e.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),d||(a.onclick=function(){return!1});return}a.onclick=function(){d&&d();var a,e=b.fields,f=b.refs,g=b.include,h=[];if(0!==e.length||0!==f.length){var i,j=new Set(f),k=z(e);try{for(k.s();!(i=k.n()).done;){var l,m=i.value,n=c._fieldObjects[m]||[],p=z(n);try{for(p.s();!(l=p.n()).done;){var q=l.value.id;j.add(q)}}catch(r){p.e(r)}finally{p.f()}}}catch(s){k.e(s)}finally{k.f()}for(var t=0,u=Object.values(c._fieldObjects);t<u.length;t++){var v,w=z(u[t]);try{for(w.s();!(v=w.n()).done;){var x=v.value;j.has(x.id)===g&&h.push(x)}}catch(y){w.e(y)}finally{w.f()}}}else for(var A=0,B=Object.values(c._fieldObjects);A<B.length;A++){var C=B[A];h.push.apply(h,o(C))}for(var D=c.annotationStorage,E=[],F=0,G=h;F<G.length;F++){var H=G[F],I=H.id;switch(E.push(I),H.type){case"text":var J=H.defaultValue||"";D.setValue(I,{value:J,valueAsString:J});break;case"checkbox":case"radiobutton":var L=H.defaultValue===H.exportValues;D.setValue(I,{value:L});break;case"combobox":case"listbox":var M=H.defaultValue||"";D.setValue(I,{value:M});break;default:continue}var N=document.getElementById(I);N&&K.has(N)&&N.dispatchEvent(new Event("resetform"))}return c.enableScripting&&(null===(a=c.linkService.eventBus)|| void 0===a||a.dispatch("dispatcheventinsandbox",{source:c,detail:{id:"app",ids:E,name:"ResetForm"}})),!1}}}]),c}(M),O=function(a){s(c,a);var b=u(c);function c(a){G(this,c);var d,e,f,g=!!(a.data.hasPopup||null!==(d=a.data.titleObj)&& void 0!==d&&d.str||null!==(e=a.data.contentsObj)&& void 0!==e&&e.str||null!==(f=a.data.richText)&& void 0!==f&&f.str);return b.call(this,a,{isRenderable:g})}return I(c,[{key:"render",value:function(){this.container.className="textAnnotation";var a=document.createElement("img");return a.style.height=this.container.style.height,a.style.width=this.container.style.width,a.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",a.alt="[{{type}} Annotation]",a.dataset.l10nId="text_annotation_type",a.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(a,this.data),this.container.appendChild(a),this.container}}]),c}(M),P=function(a){s(c,a);var b=u(c);function c(){return G(this,c),b.apply(this,arguments)}return I(c,[{key:"render",value:function(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}},{key:"_getKeyModifier",value:function(a){var b=M.platform,c=b.isWin,d=b.isMac;return c&&a.ctrlKey||d&&a.metaKey}},{key:"_setEventListener",value:function(a,b,c,d){var e=this;b.includes("mouse")?a.addEventListener(b,function(a){var b;null===(b=e.linkService.eventBus)|| void 0===b||b.dispatch("dispatcheventinsandbox",{source:e,detail:{id:e.data.id,name:c,value:d(a),shift:a.shiftKey,modifier:e._getKeyModifier(a)}})}):a.addEventListener(b,function(a){var b;null===(b=e.linkService.eventBus)|| void 0===b||b.dispatch("dispatcheventinsandbox",{source:e,detail:{id:e.data.id,name:c,value:a.target.checked}})})}},{key:"_setEventListeners",value:function(a,b,c){var d,e=z(b);try{for(e.s();!(d=e.n()).done;){var f,g=A(d.value,2),h=g[0],i=g[1];("Action"===i||null!==(f=this.data.actions)&& void 0!==f&&f[i])&&this._setEventListener(a,h,i,c)}}catch(j){e.e(j)}finally{e.f()}}},{key:"_setBackgroundColor",value:function(a){var b=this.data.backgroundColor||null;a.style.backgroundColor=null===b?"transparent":e.Util.makeHexColor(b[0],b[1],b[2])}},{key:"_dispatchEventFromSandbox",value:function(a,b){for(var c=this,d=function(a,b,c){var d=c.detail[a];c.target.style[b]=h.ColorConverters["".concat(d[0],"_HTML")](d.slice(1))},e={display:function(a){var b=a.detail.display%2==1;a.target.style.visibility=b?"hidden":"visible",c.annotationStorage.setValue(c.data.id,{hidden:b,print:0===a.detail.display||3===a.detail.display})},print:function(a){c.annotationStorage.setValue(c.data.id,{print:a.detail.print})},hidden:function(a){a.target.style.visibility=a.detail.hidden?"hidden":"visible",c.annotationStorage.setValue(c.data.id,{hidden:a.detail.hidden})},focus:function(a){setTimeout(function(){return a.target.focus({preventScroll:!1})},0)},userName:function(a){a.target.title=a.detail.userName},readonly:function(a){a.detail.readonly?a.target.setAttribute("readonly",""):a.target.removeAttribute("readonly")},required:function(a){a.detail.required?a.target.setAttribute("required",""):a.target.removeAttribute("required")},bgColor:function(a){d("bgColor","backgroundColor",a)},fillColor:function(a){d("fillColor","backgroundColor",a)},fgColor:function(a){d("fgColor","color",a)},textColor:function(a){d("textColor","color",a)},borderColor:function(a){d("borderColor","borderColor",a)},strokeColor:function(a){d("strokeColor","borderColor",a)}},f=0,g=Object.keys(b.detail);f<g.length;f++){var i=g[f],j=a[i]||e[i];j&&j(b)}}}]),c}(M),Q=function(a){s(c,a);var b=u(c);function c(a){G(this,c);var d=a.renderForms|| !a.data.hasAppearance&&!!a.data.fieldValue;return b.call(this,a,{isRenderable:d})}return I(c,[{key:"setPropertyOnSiblings",value:function(a,b,c,d){var e,f=this.annotationStorage,g=z(this._getElementsByName(a.name,a.id));try{for(g.s();!(e=g.n()).done;){var h=e.value;h.domElement&&(h.domElement[b]=c),f.setValue(h.id,n({},d,c))}}catch(i){g.e(i)}finally{g.f()}}},{key:"render",value:function(){var a=this,b=this.annotationStorage,c=this.data.id;this.container.className="textWidgetAnnotation";var d=null;if(this.renderForms){var e=b.getValue(c,{value:this.data.fieldValue,valueAsString:this.data.fieldValue}),f=e.valueAsString||e.value||"",g={userValue:null,formattedValue:null,beforeInputSelectionRange:null,beforeInputValue:null};this.data.multiLine?(d=document.createElement("textarea")).textContent=f:((d=document.createElement("input")).type="text",d.setAttribute("value",f)),K.add(d),d.disabled=this.data.readOnly,d.name=this.data.fieldName,d.tabIndex=J,g.userValue=f,d.setAttribute("id",c),d.addEventListener("input",function(e){b.setValue(c,{value:e.target.value}),a.setPropertyOnSiblings(d,"value",e.target.value,"value")}),d.addEventListener("resetform",function(b){var c=a.data.defaultFieldValue||"";d.value=g.userValue=c,delete g.formattedValue});var h=function(a){g.formattedValue&&(a.target.value=g.formattedValue),a.target.scrollLeft=0,g.beforeInputSelectionRange=null};if(this.enableScripting&&this.hasJSActions){d.addEventListener("focus",function(a){g.userValue&&(a.target.value=g.userValue)}),d.addEventListener("updatefromsandbox",function(d){var e={value:function(a){g.userValue=a.detail.value||"",b.setValue(c,{value:g.userValue.toString()}),g.formattedValue||(a.target.value=g.userValue)},valueAsString:function(a){g.formattedValue=a.detail.valueAsString||"",a.target!==document.activeElement&&(a.target.value=g.formattedValue),b.setValue(c,{formattedValue:g.formattedValue})},selRange:function(a){var b=A(a.detail.selRange,2),c=b[0],d=b[1];c>=0&&d<a.target.value.length&&a.target.setSelectionRange(c,d)}};a._dispatchEventFromSandbox(e,d)}),d.addEventListener("keydown",function(b){g.beforeInputValue=b.target.value;var d,e=-1;"Escape"===b.key?e=0:"Enter"===b.key?e=2:"Tab"===b.key&&(e=3),-1!==e&&(g.userValue=b.target.value,null===(d=a.linkService.eventBus)|| void 0===d||d.dispatch("dispatcheventinsandbox",{source:a,detail:{id:c,name:"Keystroke",value:b.target.value,willCommit:!0,commitKey:e,selStart:b.target.selectionStart,selEnd:b.target.selectionEnd}}))});var i,j=h;h=null,d.addEventListener("blur",function(b){if(a._mouseState.isDown){var d;g.userValue=b.target.value,null===(d=a.linkService.eventBus)|| void 0===d||d.dispatch("dispatcheventinsandbox",{source:a,detail:{id:c,name:"Keystroke",value:b.target.value,willCommit:!0,commitKey:1,selStart:b.target.selectionStart,selEnd:b.target.selectionEnd}})}j(b)}),d.addEventListener("mousedown",function(a){g.beforeInputValue=a.target.value,g.beforeInputSelectionRange=null}),d.addEventListener("keyup",function(a){a.target.selectionStart===a.target.selectionEnd&&(g.beforeInputSelectionRange=null)}),d.addEventListener("select",function(a){g.beforeInputSelectionRange=[a.target.selectionStart,a.target.selectionEnd]}),null!==(i=this.data.actions)&& void 0!==i&&i.Keystroke&&d.addEventListener("input",function(b){var d,e=-1,f=-1;if(g.beforeInputSelectionRange){var h=A(g.beforeInputSelectionRange,2);e=h[0],f=h[1]}null===(d=a.linkService.eventBus)|| void 0===d||d.dispatch("dispatcheventinsandbox",{source:a,detail:{id:c,name:"Keystroke",value:g.beforeInputValue,change:b.data,willCommit:!1,selStart:e,selEnd:f}})}),this._setEventListeners(d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(a){return a.target.value})}if(h&&d.addEventListener("blur",h),null!==this.data.maxLen&&(d.maxLength=this.data.maxLen),this.data.comb){var k=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;d.classList.add("comb"),d.style.letterSpacing="calc(".concat(k,"px - 1ch)")}}else(d=document.createElement("div")).textContent=this.data.fieldValue,d.style.verticalAlign="middle",d.style.display="table-cell";return this._setTextStyle(d),this._setBackgroundColor(d),this.container.appendChild(d),this.container}},{key:"_setTextStyle",value:function(a){var b=["left","center","right"],c=this.data.defaultAppearanceData,d=c.fontSize,f=c.fontColor,g=a.style;d&&(g.fontSize="".concat(d,"px")),g.color=e.Util.makeHexColor(f[0],f[1],f[2]),null!==this.data.textAlignment&&(g.textAlign=b[this.data.textAlignment])}}]),c}(P),R=function(a){s(c,a);var b=u(c);function c(a){return G(this,c),b.call(this,a,{isRenderable:a.renderForms})}return I(c,[{key:"render",value:function(){var a=this,b=this.annotationStorage,c=this.data,d=c.id,e=b.getValue(d,{value:c.exportValue===c.fieldValue}).value;"string"==typeof e&&(e="Off"!==e,b.setValue(d,{value:e})),this.container.className="buttonWidgetAnnotation checkBox";var f=document.createElement("input");return K.add(f),f.disabled=c.readOnly,f.type="checkbox",f.name=c.fieldName,e&&f.setAttribute("checked",!0),f.setAttribute("id",d),f.setAttribute("exportValue",c.exportValue),f.tabIndex=J,f.addEventListener("change",function(e){var f,g=e.target,h=g.name,i=g.checked,j=z(a._getElementsByName(h,d));try{for(j.s();!(f=j.n()).done;){var k=f.value,l=i&&k.exportValue===c.exportValue;k.domElement&&(k.domElement.checked=l),b.setValue(k.id,{value:l})}}catch(m){j.e(m)}finally{j.f()}b.setValue(d,{value:i})}),f.addEventListener("resetform",function(a){var b=c.defaultFieldValue||"Off";a.target.checked=b===c.exportValue}),this.enableScripting&&this.hasJSActions&&(f.addEventListener("updatefromsandbox",function(c){var e={value:function(a){a.target.checked="Off"!==a.detail.value,b.setValue(d,{value:a.target.checked})}};a._dispatchEventFromSandbox(e,c)}),this._setEventListeners(f,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(a){return a.target.checked})),this._setBackgroundColor(f),this.container.appendChild(f),this.container}}]),c}(P),S=function(a){s(c,a);var b=u(c);function c(a){return G(this,c),b.call(this,a,{isRenderable:a.renderForms})}return I(c,[{key:"render",value:function(){var a=this;this.container.className="buttonWidgetAnnotation radioButton";var b=this.annotationStorage,c=this.data,d=c.id,e=b.getValue(d,{value:c.fieldValue===c.buttonValue}).value;"string"==typeof e&&(e=e!==c.buttonValue,b.setValue(d,{value:e}));var f=document.createElement("input");if(K.add(f),f.disabled=c.readOnly,f.type="radio",f.name=c.fieldName,e&&f.setAttribute("checked",!0),f.setAttribute("id",d),f.tabIndex=J,f.addEventListener("change",function(c){var e,f=c.target,g=f.name,h=f.checked,i=z(a._getElementsByName(g,d));try{for(i.s();!(e=i.n()).done;){var j=e.value;b.setValue(j.id,{value:!1})}}catch(k){i.e(k)}finally{i.f()}b.setValue(d,{value:h})}),f.addEventListener("resetform",function(a){var b=c.defaultFieldValue;a.target.checked=null!=b&&b===c.buttonValue}),this.enableScripting&&this.hasJSActions){var g=c.buttonValue;f.addEventListener("updatefromsandbox",function(c){var e={value:function(c){var e,f=g===c.detail.value,h=z(a._getElementsByName(c.target.name));try{for(h.s();!(e=h.n()).done;){var i=e.value,j=f&&i.id===d;i.domElement&&(i.domElement.checked=j),b.setValue(i.id,{value:j})}}catch(k){h.e(k)}finally{h.f()}}};a._dispatchEventFromSandbox(e,c)}),this._setEventListeners(f,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(a){return a.target.checked})}return this._setBackgroundColor(f),this.container.appendChild(f),this.container}}]),c}(P),T=function(a){s(c,a);var b=u(c);function c(a){return G(this,c),b.call(this,a,{ignoreBorder:a.data.hasAppearance})}return I(c,[{key:"render",value:function(){var a=l(y(c.prototype),"render",this).call(this);return a.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(a.title=this.data.alternativeText),a}}]),c}(N),U=function(a){s(c,a);var b=u(c);function c(a){return G(this,c),b.call(this,a,{isRenderable:a.renderForms})}return I(c,[{key:"render",value:function(){var a=this;this.container.className="choiceWidgetAnnotation";var b=this.annotationStorage,c=this.data.id;b.getValue(c,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});var d=this.data.defaultAppearanceData.fontSize;d||(d=9);var e="calc(".concat(d,"px * var(--zoom-factor))"),f=document.createElement("select");K.add(f),f.disabled=this.data.readOnly,f.name=this.data.fieldName,f.setAttribute("id",c),f.tabIndex=J,f.style.fontSize="".concat(d,"px"),!this.data.combo&&(f.size=this.data.options.length,this.data.multiSelect&&(f.multiple=!0)),f.addEventListener("resetform",function(b){var c,d=a.data.defaultFieldValue,e=z(f.options);try{for(e.s();!(c=e.n()).done;){var g=c.value;g.selected=g.value===d}}catch(h){e.e(h)}finally{e.f()}});var g,h=z(this.data.options);try{for(h.s();!(g=h.n()).done;){var i=g.value,j=document.createElement("option");j.textContent=i.displayValue,j.value=i.exportValue,this.data.combo&&(j.style.fontSize=e),this.data.fieldValue.includes(i.exportValue)&&j.setAttribute("selected",!0),f.appendChild(j)}}catch(k){h.e(k)}finally{h.f()}var l=function(a,b){var c=b?"value":"textContent",d=a.target.options;return a.target.multiple?Array.prototype.filter.call(d,function(a){return a.selected}).map(function(a){return a[c]}):-1===d.selectedIndex?null:d[d.selectedIndex][c]},m=function(a){var b=a.target.options;return Array.prototype.map.call(b,function(a){return{displayValue:a.textContent,exportValue:a.value}})};return this.enableScripting&&this.hasJSActions?(f.addEventListener("updatefromsandbox",function(d){var e={value:function(a){var d,e=a.detail.value,g=new Set(Array.isArray(e)?e:[e]),h=z(f.options);try{for(h.s();!(d=h.n()).done;){var i=d.value;i.selected=g.has(i.value)}}catch(j){h.e(j)}finally{h.f()}b.setValue(c,{value:l(a,!0)})},multipleSelection:function(a){f.multiple=!0},remove:function(a){var d=f.options,e=a.detail.remove;d[e].selected=!1,f.remove(e),d.length>0&& -1===Array.prototype.findIndex.call(d,function(a){return a.selected})&&(d[0].selected=!0),b.setValue(c,{value:l(a,!0),items:m(a)})},clear:function(a){for(;0!==f.length;)f.remove(0);b.setValue(c,{value:null,items:[]})},insert:function(a){var d=a.detail.insert,e=d.index,g=d.displayValue,h=d.exportValue,i=document.createElement("option");i.textContent=g,i.value=h,f.insertBefore(i,f.children[e]),b.setValue(c,{value:l(a,!0),items:m(a)})},items:function(a){for(var d=a.detail.items;0!==f.length;)f.remove(0);var e,g=z(d);try{for(g.s();!(e=g.n()).done;){var h=e.value,i=h.displayValue,j=h.exportValue,k=document.createElement("option");k.textContent=i,k.value=j,f.appendChild(k)}}catch(n){g.e(n)}finally{g.f()}f.options.length>0&&(f.options[0].selected=!0),b.setValue(c,{value:l(a,!0),items:m(a)})},indices:function(a){var d,e=new Set(a.detail.indices),f=z(a.target.options);try{for(f.s();!(d=f.n()).done;){var g=d.value;g.selected=e.has(g.index)}}catch(h){f.e(h)}finally{f.f()}b.setValue(c,{value:l(a,!0)})},editable:function(a){a.target.disabled=!a.detail.editable}};a._dispatchEventFromSandbox(e,d)}),f.addEventListener("input",function(d){var e,f=l(d,!0),g=l(d,!1);b.setValue(c,{value:f}),null===(e=a.linkService.eventBus)|| void 0===e||e.dispatch("dispatcheventinsandbox",{source:a,detail:{id:c,name:"Keystroke",value:g,changeEx:f,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(f,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],function(a){return a.target.checked})):f.addEventListener("input",function(a){b.setValue(c,{value:l(a)})}),this._setBackgroundColor(f),this.container.appendChild(f),this.container}}]),c}(P),V=function(a){s(c,a);var b=u(c);function c(a){G(this,c);var d,e,f,g=!!(null!==(d=a.data.titleObj)&& void 0!==d&&d.str||null!==(e=a.data.contentsObj)&& void 0!==e&&e.str||null!==(f=a.data.richText)&& void 0!==f&&f.str);return b.call(this,a,{isRenderable:g})}return I(c,[{key:"render",value:function(){var a=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",a.includes(this.data.parentType))return this.container;var b='[data-annotation-id="'.concat(this.data.parentId,'"]'),c=this.layer.querySelectorAll(b);if(0===c.length)return this.container;var d=new W({container:this.container,trigger:Array.from(c),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),f=this.page,g=e.Util.normalizeRect([this.data.parentRect[0],f.view[3]-this.data.parentRect[1]+f.view[1],this.data.parentRect[2],f.view[3]-this.data.parentRect[3]+f.view[1]]),h=g[0]+this.data.parentRect[2]-this.data.parentRect[0],i=g[1];return this.container.style.transformOrigin="".concat(-h,"px ").concat(-i,"px"),this.container.style.left="".concat(h,"px"),this.container.style.top="".concat(i,"px"),this.container.appendChild(d.render()),this.container}}]),c}(M),W=function(){function a(b){G(this,a),this.container=b.container,this.trigger=b.trigger,this.color=b.color,this.titleObj=b.titleObj,this.modificationDate=b.modificationDate,this.contentsObj=b.contentsObj,this.richText=b.richText,this.hideWrapper=b.hideWrapper||!1,this.pinned=!1}return I(a,[{key:"render",value:function(){var a=.7,b=document.createElement("div");b.className="popupWrapper",this.hideElement=this.hideWrapper?b:this.container,this.hideElement.hidden=!0;var c=document.createElement("div");c.className="popup";var d=this.color;if(d){var g=a*(255-d[0])+d[0],h=a*(255-d[1])+d[1],j=a*(255-d[2])+d[2];c.style.backgroundColor=e.Util.makeHexColor(0|g,0|h,0|j)}var k=document.createElement("h1");k.dir=this.titleObj.dir,k.textContent=this.titleObj.str,c.appendChild(k);var l=f.PDFDateString.toDateObject(this.modificationDate);if(l){var m=document.createElement("span");m.className="popupDate",m.textContent="{{date}}, {{time}}",m.dataset.l10nId="annotation_date_string",m.dataset.l10nArgs=JSON.stringify({date:l.toLocaleDateString(),time:l.toLocaleTimeString()}),c.appendChild(m)}if(null!==(o=this.richText)&& void 0!==o&&o.str&&(!(null!==(p=this.contentsObj)&& void 0!==p&&p.str)||this.contentsObj.str===this.richText.str))i.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:c}),c.lastChild.className="richText popupContent";else{var n=this._formatContents(this.contentsObj);c.appendChild(n)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);var o,p,q,r=z(this.trigger);try{for(r.s();!(q=r.n()).done;){var s=q.value;s.addEventListener("click",this._toggle.bind(this)),s.addEventListener("mouseover",this._show.bind(this,!1)),s.addEventListener("mouseout",this._hide.bind(this,!1))}}catch(t){r.e(t)}finally{r.f()}return c.addEventListener("click",this._hide.bind(this,!0)),b.appendChild(c),b}},{key:"_formatContents",value:function(a){var b=a.str,c=a.dir,d=document.createElement("p");d.className="popupContent",d.dir=c;for(var e=b.split(/(?:\r\n?|\n)/),f=0,g=e.length;f<g;++f){var h=e[f];d.appendChild(document.createTextNode(h)),f<g-1&&d.appendChild(document.createElement("br"))}return d}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){var a=arguments.length>0&& void 0!==arguments[0]&&arguments[0];a&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}},{key:"_hide",value:function(){var a=!(arguments.length>0)|| void 0===arguments[0]||arguments[0];a&&(this.pinned=!1),this.hideElement.hidden||this.pinned||(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}]),a}(),X=function(a){s(c,a);var b=u(c);function c(a){G(this,c);var d,e,f,g=!!(a.data.hasPopup||null!==(d=a.data.titleObj)&& void 0!==d&&d.str||null!==(e=a.data.contentsObj)&& void 0!==e&&e.str||null!==(f=a.data.richText)&& void 0!==f&&f.str);return b.call(this,a,{isRenderable:g,ignoreBorder:!0})}return I(c,[{key:"render",value:function(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),c}(M),Y=function(a){s(c,a);var b=u(c);function c(a){G(this,c);var d,e,f,g=!!(a.data.hasPopup||null!==(d=a.data.titleObj)&& void 0!==d&&d.str||null!==(e=a.data.contentsObj)&& void 0!==e&&e.str||null!==(f=a.data.richText)&& void 0!==f&&f.str);return b.call(this,a,{isRenderable:g,ignoreBorder:!0})}return I(c,[{key:"render",value:function(){this.container.className="lineAnnotation";var a=this.data,b=a.rect[2]-a.rect[0],c=a.rect[3]-a.rect[1],d=this.svgFactory.create(b,c),e=this.svgFactory.createElement("svg:line");return e.setAttribute("x1",a.rect[2]-a.lineCoordinates[0]),e.setAttribute("y1",a.rect[3]-a.lineCoordinates[1]),e.setAttribute("x2",a.rect[2]-a.lineCoordinates[2]),e.setAttribute("y2",a.rect[3]-a.lineCoordinates[3]),e.setAttribute("stroke-width",a.borderStyle.width||1),e.setAttribute("stroke","transparent"),e.setAttribute("fill","transparent"),d.appendChild(e),this.container.append(d),this._createPopup(e,a),this.container}}]),c}(M),Z=function(a){s(c,a);var b=u(c);function c(a){G(this,c);var d,e,f,g=!!(a.data.hasPopup||null!==(d=a.data.titleObj)&& void 0!==d&&d.str||null!==(e=a.data.contentsObj)&& void 0!==e&&e.str||null!==(f=a.data.richText)&& void 0!==f&&f.str);return b.call(this,a,{isRenderable:g,ignoreBorder:!0})}return I(c,[{key:"render",value:function(){this.container.className="squareAnnotation";var a=this.data,b=a.rect[2]-a.rect[0],c=a.rect[3]-a.rect[1],d=this.svgFactory.create(b,c),e=a.borderStyle.width,f=this.svgFactory.createElement("svg:rect");return f.setAttribute("x",e/2),f.setAttribute("y",e/2),f.setAttribute("width",b-e),f.setAttribute("height",c-e),f.setAttribute("stroke-width",e||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),d.appendChild(f),this.container.append(d),this._createPopup(f,a),this.container}}]),c}(M),$=function(a){s(c,a);var b=u(c);function c(a){G(this,c);var d,e,f,g=!!(a.data.hasPopup||null!==(d=a.data.titleObj)&& void 0!==d&&d.str||null!==(e=a.data.contentsObj)&& void 0!==e&&e.str||null!==(f=a.data.richText)&& void 0!==f&&f.str);return b.call(this,a,{isRenderable:g,ignoreBorder:!0})}return I(c,[{key:"render",value:function(){this.container.className="circleAnnotation";var a=this.data,b=a.rect[2]-a.rect[0],c=a.rect[3]-a.rect[1],d=this.svgFactory.create(b,c),e=a.borderStyle.width,f=this.svgFactory.createElement("svg:ellipse");return f.setAttribute("cx",b/2),f.setAttribute("cy",c/2),f.setAttribute("rx",b/2-e/2),f.setAttribute("ry",c/2-e/2),f.setAttribute("stroke-width",e||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),d.appendChild(f),this.container.append(d),this._createPopup(f,a),this.container}}]),c}(M),_=function(a){s(c,a);var b=u(c);function c(a){G(this,c);var d,e,f,g,h=!!(a.data.hasPopup||null!==(d=a.data.titleObj)&& void 0!==d&&d.str||null!==(e=a.data.contentsObj)&& void 0!==e&&e.str||null!==(f=a.data.richText)&& void 0!==f&&f.str);return(g=b.call(this,a,{isRenderable:h,ignoreBorder:!0})).containerClassName="polylineAnnotation",g.svgElementName="svg:polyline",g}return I(c,[{key:"render",value:function(){this.container.className=this.containerClassName;var a,b=this.data,c=b.rect[2]-b.rect[0],d=b.rect[3]-b.rect[1],e=this.svgFactory.create(c,d),f=[],g=z(b.vertices);try{for(g.s();!(a=g.n()).done;){var h=a.value,i=h.x-b.rect[0],j=b.rect[3]-h.y;f.push(i+","+j)}}catch(k){g.e(k)}finally{g.f()}f=f.join(" ");var l=this.svgFactory.createElement(this.svgElementName);return l.setAttribute("points",f),l.setAttribute("stroke-width",b.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),e.appendChild(l),this.container.append(e),this._createPopup(l,b),this.container}}]),c}(M),aa=function(a){s(c,a);var b=u(c);function c(a){var d;return G(this,c),(d=b.call(this,a)).containerClassName="polygonAnnotation",d.svgElementName="svg:polygon",d}return c}(_),ab=function(a){s(c,a);var b=u(c);function c(a){G(this,c);var d,e,f,g=!!(a.data.hasPopup||null!==(d=a.data.titleObj)&& void 0!==d&&d.str||null!==(e=a.data.contentsObj)&& void 0!==e&&e.str||null!==(f=a.data.richText)&& void 0!==f&&f.str);return b.call(this,a,{isRenderable:g,ignoreBorder:!0})}return I(c,[{key:"render",value:function(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),c}(M),ac=function(a){s(c,a);var b=u(c);function c(a){G(this,c);var d,e,f,g,h=!!(a.data.hasPopup||null!==(d=a.data.titleObj)&& void 0!==d&&d.str||null!==(e=a.data.contentsObj)&& void 0!==e&&e.str||null!==(f=a.data.richText)&& void 0!==f&&f.str);return(g=b.call(this,a,{isRenderable:h,ignoreBorder:!0})).containerClassName="inkAnnotation",g.svgElementName="svg:polyline",g}return I(c,[{key:"render",value:function(){this.container.className=this.containerClassName;var a,b=this.data,c=b.rect[2]-b.rect[0],d=b.rect[3]-b.rect[1],e=this.svgFactory.create(c,d),f=z(b.inkLists);try{for(f.s();!(a=f.n()).done;){var g,h=a.value,i=[],j=z(h);try{for(j.s();!(g=j.n()).done;){var k=g.value,l=k.x-b.rect[0],m=b.rect[3]-k.y;i.push("".concat(l,",").concat(m))}}catch(n){j.e(n)}finally{j.f()}i=i.join(" ");var o=this.svgFactory.createElement(this.svgElementName);o.setAttribute("points",i),o.setAttribute("stroke-width",b.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),this._createPopup(o,b),e.appendChild(o)}}catch(p){f.e(p)}finally{f.f()}return this.container.append(e),this.container}}]),c}(M),ad=function(a){s(c,a);var b=u(c);function c(a){G(this,c);var d,e,f,g=!!(a.data.hasPopup||null!==(d=a.data.titleObj)&& void 0!==d&&d.str||null!==(e=a.data.contentsObj)&& void 0!==e&&e.str||null!==(f=a.data.richText)&& void 0!==f&&f.str);return b.call(this,a,{isRenderable:g,ignoreBorder:!0,createQuadrilaterals:!0})}return I(c,[{key:"render",value:function(){return(this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals)?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}]),c}(M),ae=function(a){s(c,a);var b=u(c);function c(a){G(this,c);var d,e,f,g=!!(a.data.hasPopup||null!==(d=a.data.titleObj)&& void 0!==d&&d.str||null!==(e=a.data.contentsObj)&& void 0!==e&&e.str||null!==(f=a.data.richText)&& void 0!==f&&f.str);return b.call(this,a,{isRenderable:g,ignoreBorder:!0,createQuadrilaterals:!0})}return I(c,[{key:"render",value:function(){return(this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals)?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}]),c}(M),af=function(a){s(c,a);var b=u(c);function c(a){G(this,c);var d,e,f,g=!!(a.data.hasPopup||null!==(d=a.data.titleObj)&& void 0!==d&&d.str||null!==(e=a.data.contentsObj)&& void 0!==e&&e.str||null!==(f=a.data.richText)&& void 0!==f&&f.str);return b.call(this,a,{isRenderable:g,ignoreBorder:!0,createQuadrilaterals:!0})}return I(c,[{key:"render",value:function(){return(this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals)?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}]),c}(M),ag=function(a){s(c,a);var b=u(c);function c(a){G(this,c);var d,e,f,g=!!(a.data.hasPopup||null!==(d=a.data.titleObj)&& void 0!==d&&d.str||null!==(e=a.data.contentsObj)&& void 0!==e&&e.str||null!==(f=a.data.richText)&& void 0!==f&&f.str);return b.call(this,a,{isRenderable:g,ignoreBorder:!0,createQuadrilaterals:!0})}return I(c,[{key:"render",value:function(){return(this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals)?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}]),c}(M),ah=function(a){s(c,a);var b=u(c);function c(a){G(this,c);var d,e,f,g=!!(a.data.hasPopup||null!==(d=a.data.titleObj)&& void 0!==d&&d.str||null!==(e=a.data.contentsObj)&& void 0!==e&&e.str||null!==(f=a.data.richText)&& void 0!==f&&f.str);return b.call(this,a,{isRenderable:g,ignoreBorder:!0})}return I(c,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),c}(M),ai=function(a){s(c,a);var b=u(c);function c(a){G(this,c);var d,g,h=(g=b.call(this,a,{isRenderable:!0})).data.file,i=h.filename,j=h.content;return g.filename=(0,f.getFilenameFromUrl)(i),g.content=j,null===(d=g.linkService.eventBus)|| void 0===d||d.dispatch("fileattachmentannotation",{source:w(g),id:(0,e.stringToPDFString)(i),filename:i,content:j}),g}return I(c,[{key:"render",value:function(){this.container.className="fileAttachmentAnnotation";var a,b,c=document.createElement("div");return c.style.height=this.container.style.height,c.style.width=this.container.style.width,c.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(null!==(a=this.data.titleObj)&& void 0!==a&&a.str||null!==(b=this.data.contentsObj)&& void 0!==b&&b.str||this.data.richText)&&this._createPopup(c,this.data),this.container.appendChild(c),this.container}},{key:"_download",value:function(){var a;null===(a=this.downloadManager)|| void 0===a||a.openOrDownloadData(this.container,this.content,this.filename)}}]),c}(M),aj=function(){function a(){G(this,a)}return I(a,null,[{key:"render",value:function(b){var c,d=[],h=[],i=z(b.annotations);try{for(i.s();!(c=i.n()).done;){var k=c.value;if(k){if(k.annotationType===e.AnnotationType.POPUP){h.push(k);continue}d.push(k)}}}catch(l){i.e(l)}finally{i.f()}h.length&&d.push.apply(d,h);for(var m=b.div,n=0,o=d;n<o.length;n++){var p=o[n],q=L.create({data:p,layer:m,page:b.page,viewport:b.viewport,linkService:b.linkService,downloadManager:b.downloadManager,imageResourcesPath:b.imageResourcesPath||"",renderForms:!1!==b.renderForms,svgFactory:new f.DOMSVGFactory,annotationStorage:b.annotationStorage||new g.AnnotationStorage,enableScripting:b.enableScripting,hasJSActions:b.hasJSActions,fieldObjects:b.fieldObjects,mouseState:b.mouseState||{isDown:!1}});if(q.isRenderable){var r=q.render();if(p.hidden&&(r.style.visibility="hidden"),Array.isArray(r)){var s,t=z(r);try{for(t.s();!(s=t.n()).done;){var u=s.value;m.appendChild(u)}}catch(v){t.e(v)}finally{t.f()}}else q instanceof V?m.prepend(r):m.appendChild(r)}}j(this,a,ak).call(this,m,b.annotationCanvasMap)}},{key:"update",value:function(b){var c,d,f,g=b.page,h=b.viewport,i=b.annotations,k=b.annotationCanvasMap,l=b.div,m=h.transform,n="matrix(".concat(m.join(","),")"),o=z(i);try{for(o.s();!(f=o.n()).done;){var p=f.value,q=l.querySelectorAll('[data-annotation-id="'.concat(p.id,'"]'));if(q){var r,s=z(q);try{for(s.s();!(r=s.n()).done;){var t=r.value;if(p.hasOwnCanvas){var u=e.Util.normalizeRect([p.rect[0],g.view[3]-p.rect[1]+g.view[1],p.rect[2],g.view[3]-p.rect[3]+g.view[1]]);if(!d){c=Math.abs(m[0]||m[1]);for(var v=m.slice(),w=0;w<4;w++)v[w]=Math.sign(v[w]);d="matrix(".concat(v.join(","),")")}var x=u[0]*c,y=u[1]*c;t.style.left="".concat(x,"px"),t.style.top="".concat(y,"px"),t.style.transformOrigin="".concat(-x,"px ").concat(-y,"px"),t.style.transform=d}else t.style.transform=n}}catch(A){s.e(A)}finally{s.f()}}}}catch(B){o.e(B)}finally{o.f()}j(this,a,ak).call(this,l,k),l.hidden=!1}}]),a}();function ak(a,b){if(b){var c,d=z(b);try{for(d.s();!(c=d.n()).done;){var e=A(c.value,2),f=e[0],g=e[1],h=a.querySelector('[data-annotation-id="'.concat(f,'"]'));if(h){var i=h.firstChild;"CANVAS"===i.nodeName?h.replaceChild(g,i):h.insertBefore(g,i)}}}catch(j){d.e(j)}finally{d.f()}b.clear()}}b.AnnotationLayer=aj},(a,b)=>{"use strict";function c(a,b){return h(a)||g(a,b)||e(a,b)||d()}function d(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function e(a,b){if(a){if("string"==typeof a)return f(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return f(a,b)}}function f(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function g(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}function h(a){if(Array.isArray(a))return a}function i(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function j(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function k(a,b,c){return b&&j(a.prototype,b),c&&j(a,c),a}function l(a){return Math.floor(255*Math.max(0,Math.min(1,a))).toString(16).padStart(2,"0")}Object.defineProperty(b,"__esModule",{value:!0}),b.ColorConverters=void 0;var m=function(){function a(){i(this,a)}return k(a,null,[{key:"CMYK_G",value:function(a){var b=c(a,4),d=b[0],e=b[1],f=b[2],g=b[3];return["G",1-Math.min(1,.3*d+.59*f+.11*e+g)]}},{key:"G_CMYK",value:function(a){return["CMYK",0,0,0,1-c(a,1)[0]]}},{key:"G_RGB",value:function(a){var b=c(a,1)[0];return["RGB",b,b,b]}},{key:"G_HTML",value:function(a){var b=c(a,1)[0],d=l(b);return"#".concat(d).concat(d).concat(d)}},{key:"RGB_G",value:function(a){var b=c(a,3),d=b[0],e=b[1],f=b[2];return["G",.3*d+.59*e+.11*f]}},{key:"RGB_HTML",value:function(a){var b=c(a,3),d=b[0],e=b[1],f=b[2],g=l(d),h=l(e),i=l(f);return"#".concat(g).concat(h).concat(i)}},{key:"T_HTML",value:function(){return"#00000000"}},{key:"CMYK_RGB",value:function(a){var b=c(a,4),d=b[0],e=b[1],f=b[2],g=b[3];return["RGB",1-Math.min(1,d+g),1-Math.min(1,f+g),1-Math.min(1,e+g)]}},{key:"CMYK_HTML",value:function(a){return this.RGB_HTML(this.CMYK_RGB(a))}},{key:"RGB_CMYK",value:function(a){var b=c(a,3),d=b[0],e=b[1],f=b[2],g=1-d,h=1-e,i=1-f,j=Math.min(g,h,i);return["CMYK",g,h,i,j]}}]),a}();b.ColorConverters=m},(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.XfaLayer=void 0;var d=c(4),e=c(147);function f(a,b){return i(a)||h(a,b)||k(a,b)||g()}function g(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}function i(a){if(Array.isArray(a))return a}function j(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=k(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var d=0,e=function(){};return{s:e,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:e}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function(){c=c.call(a)},n:function(){var a=c.next();return g=a.done,a},e:function(a){h=!0,f=a},f:function(){try{g||null==c.return||c.return()}finally{if(h)throw f}}}}function k(a,b){if(a){if("string"==typeof a)return l(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return l(a,b)}}function l(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function m(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function n(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function o(a,b,c){return b&&n(a.prototype,b),c&&n(a,c),a}var p=function(){function a(){m(this,a)}return o(a,null,[{key:"setupStorage",value:function(a,b,c,d,e){var f=d.getValue(b,{value:null});switch(c.name){case"textarea":if(null!==f.value&&(a.textContent=f.value),"print"===e)break;a.addEventListener("input",function(a){d.setValue(b,{value:a.target.value})});break;case"input":if("radio"===c.attributes.type||"checkbox"===c.attributes.type){if(f.value===c.attributes.xfaOn?a.setAttribute("checked",!0):f.value===c.attributes.xfaOff&&a.removeAttribute("checked"),"print"===e)break;a.addEventListener("change",function(a){d.setValue(b,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(null!==f.value&&a.setAttribute("value",f.value),"print"===e)break;a.addEventListener("input",function(a){d.setValue(b,{value:a.target.value})})}break;case"select":if(null!==f.value){var g,h=j(c.children);try{for(h.s();!(g=h.n()).done;){var i=g.value;i.attributes.value===f.value&&(i.attributes.selected=!0)}}catch(k){h.e(k)}finally{h.f()}}a.addEventListener("input",function(a){var c=a.target.options,e=-1===c.selectedIndex?"":c[c.selectedIndex].value;d.setValue(b,{value:e})})}}},{key:"setAttributes",value:function(a){var b,c=a.html,e=a.element,g=a.storage,h=void 0===g?null:g,i=a.intent,j=a.linkService,k=e.attributes,l=c instanceof HTMLAnchorElement;"radio"===k.type&&(k.name="".concat(k.name,"-").concat(i));for(var m=0,n=Object.entries(k);m<n.length;m++){var o=f(n[m],2),p=o[0],q=o[1];if(null!=q&&"dataId"!==p){if("style"!==p){if("textContent"===p)c.textContent=q;else if("class"===p)q.length&&c.setAttribute(p,q.join(" "));else{if(l&&("href"===p||"newWindow"===p))continue;c.setAttribute(p,q)}}else Object.assign(c.style,q)}}l&&(j.addLinkAttributes||(0,d.warn)("XfaLayer.setAttribute - missing `addLinkAttributes`-method on the `linkService`-instance."),null===(b=j.addLinkAttributes)|| void 0===b||b.call(j,c,k.href,k.newWindow)),h&&k.dataId&&this.setupStorage(c,k.dataId,e,h)}},{key:"render",value:function(a){var b=a.annotationStorage,c=a.linkService,d=a.xfaHtml,g=a.intent||"display",h=document.createElement(d.name);d.attributes&&this.setAttributes({html:h,element:d,intent:g,linkService:c});var i=[[d,-1,h]],k=a.div;if(k.appendChild(h),a.viewport){var l="matrix(".concat(a.viewport.transform.join(","),")");k.style.transform=l}"richText"!==g&&k.setAttribute("class","xfaLayer xfaFont");for(var m=[];i.length>0;){var n,o=f(i[i.length-1],3),p=o[0],q=o[1],r=o[2];if(q+1===p.children.length){i.pop();continue}var s=p.children[++i[i.length-1][1]];if(null!==s){var t=s.name;if("#text"===t){var u=document.createTextNode(s.value);m.push(u),r.appendChild(u);continue}var v=void 0;if(v=null!=s&&null!==(n=s.attributes)&& void 0!==n&&n.xmlns?document.createElementNS(s.attributes.xmlns,t):document.createElement(t),r.appendChild(v),s.attributes&&this.setAttributes({html:v,element:s,storage:b,intent:g,linkService:c}),s.children&&s.children.length>0)i.push([s,-1,v]);else if(s.value){var w=document.createTextNode(s.value);e.XfaText.shouldBuildText(t)&&m.push(w),v.appendChild(w)}}}var x,y=j(k.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"));try{for(y.s();!(x=y.n()).done;)x.value.setAttribute("readOnly",!0)}catch(z){y.e(z)}finally{y.f()}return{textDivs:m}}},{key:"update",value:function(a){var b="matrix(".concat(a.viewport.transform.join(","),")");a.div.style.transform=b,a.div.hidden=!1}}]),a}();b.XfaLayer=p},(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.renderTextLayer=x;var d=c(4);function e(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}function h(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=i(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var d=0,e=function(){};return{s:e,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:e}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function(){c=c.call(a)},n:function(){var a=c.next();return g=a.done,a},e:function(a){h=!0,f=a},f:function(){try{g||null==c.return||c.return()}finally{if(h)throw f}}}}function i(a,b){if(a){if("string"==typeof a)return j(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return j(a,b)}}function j(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var k=1e5,l=30,m=.8,n=new Map,o=/^\s+$/g;function p(a,b){var c=n.get(a);if(c)return c;b.save(),b.font="".concat(l,"px ").concat(a);var d=b.measureText(""),e=d.fontBoundingBoxAscent,f=Math.abs(d.fontBoundingBoxDescent);if(e){b.restore();var g=e/(e+f);return n.set(a,g),g}b.strokeStyle="red",b.clearRect(0,0,l,l),b.strokeText("g",0,0);var h=b.getImageData(0,0,l,l).data;f=0;for(var i=h.length-1-3;i>=0;i-=4)if(h[i]>0){f=Math.ceil(i/4/l);break}b.clearRect(0,0,l,l),b.strokeText("A",0,l),h=b.getImageData(0,0,l,l).data,e=0;for(var j=0,k=h.length;j<k;j+=4)if(h[j]>0){e=l-Math.floor(j/4/l);break}if(b.restore(),e){var o=e/(e+f);return n.set(a,o),o}return n.set(a,m),m}function q(a,b,c,e){var f=document.createElement("span"),g=a._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==b.str,hasEOL:b.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==b.str,hasEOL:b.hasEOL};a._textDivs.push(f);var h=d.Util.transform(a._viewport.transform,b.transform),i=Math.atan2(h[1],h[0]),j=c[b.fontName];j.vertical&&(i+=Math.PI/2);var k=Math.hypot(h[2],h[3]),l=k*p(j.fontFamily,e);0===i?(r=h[4],s=h[5]-l):(r=h[4]+l*Math.sin(i),s=h[5]-l*Math.cos(i)),f.style.left="".concat(r,"px"),f.style.top="".concat(s,"px"),f.style.fontSize="".concat(k,"px"),f.style.fontFamily=j.fontFamily,f.setAttribute("role","presentation"),f.textContent=b.str,f.dir=b.dir,a._fontInspectorEnabled&&(f.dataset.fontName=b.fontName),0!==i&&(g.angle=i*(180/Math.PI));var m=!1;if(b.str.length>1||a._enhanceTextSelection&&o.test(b.str))m=!0;else if(" "!==b.str&&b.transform[0]!==b.transform[3]){var n=Math.abs(b.transform[0]),q=Math.abs(b.transform[3]);n!==q&&Math.max(n,q)/Math.min(n,q)>1.5&&(m=!0)}if(m&&(j.vertical?g.canvasWidth=b.height*a._viewport.scale:g.canvasWidth=b.width*a._viewport.scale),a._textDivProperties.set(f,g),a._textContentStream&&a._layoutText(f),a._enhanceTextSelection&&g.hasText){var r,s,t,u,v=1,w=0;0!==i&&(v=Math.cos(i),w=Math.sin(i));var x=(j.vertical?b.height:b.width)*a._viewport.scale,y=k;0!==i?(t=[v,w,-w,v,r,s],u=d.Util.getAxialAlignedBoundingBox([0,0,x,y],t)):u=[r,s,r+x,s+y],a._bounds.push({left:u[0],top:u[1],right:u[2],bottom:u[3],div:f,size:[x,y],m:t})}}function r(a){if(!a._canceled){var b=a._textDivs,c=a._capability,d=b.length;if(d>k){a._renderingDone=!0,c.resolve();return}if(!a._textContentStream)for(var e=0;e<d;e++)a._layoutText(b[e]);a._renderingDone=!0,c.resolve()}}function s(a,b,c){for(var d=0,e=0;e<c;e++){var f=a[b++];f>0&&(d=d?Math.min(f,d):f)}return d}function t(a){for(var b=a._bounds,c=a._viewport,e=u(c.width,c.height,b),f=0;f<e.length;f++){var g=b[f].div,h=a._textDivProperties.get(g);if(0===h.angle){h.paddingLeft=b[f].left-e[f].left,h.paddingTop=b[f].top-e[f].top,h.paddingRight=e[f].right-b[f].right,h.paddingBottom=e[f].bottom-b[f].bottom,a._textDivProperties.set(g,h);continue}for(var i=e[f],j=b[f],k=j.m,l=k[0],m=k[1],n=[[0,0],[0,j.size[1]],[j.size[0],0],j.size],o=new Float64Array(64),p=0,q=n.length;p<q;p++){var r=d.Util.applyTransform(n[p],k);o[p+0]=l&&(i.left-r[0])/l,o[p+4]=m&&(i.top-r[1])/m,o[p+8]=l&&(i.right-r[0])/l,o[p+12]=m&&(i.bottom-r[1])/m,o[p+16]=m&&-((i.left-r[0])/m),o[p+20]=l&&(i.top-r[1])/l,o[p+24]=m&&-((i.right-r[0])/m),o[p+28]=l&&(i.bottom-r[1])/l,o[p+32]=l&&-((i.left-r[0])/l),o[p+36]=m&&-((i.top-r[1])/m),o[p+40]=l&&-((i.right-r[0])/l),o[p+44]=m&&-((i.bottom-r[1])/m),o[p+48]=m&&(i.left-r[0])/m,o[p+52]=l&&-((i.top-r[1])/l),o[p+56]=m&&(i.right-r[0])/m,o[p+60]=l&&-((i.bottom-r[1])/l)}var t=1+Math.min(Math.abs(l),Math.abs(m));h.paddingLeft=s(o,32,16)/t,h.paddingTop=s(o,48,16)/t,h.paddingRight=s(o,0,16)/t,h.paddingBottom=s(o,16,16)/t,a._textDivProperties.set(g,h)}}function u(a,b,c){var d=c.map(function(a,b){return{x1:a.left,y1:a.top,x2:a.right,y2:a.bottom,index:b,x1New:void 0,x2New:void 0}});v(a,d);var e,f=Array(c.length),g=h(d);try{for(g.s();!(e=g.n()).done;){var i=e.value;f[i.index]={left:i.x1New,top:0,right:i.x2New,bottom:0}}}catch(j){g.e(j)}finally{g.f()}c.map(function(b,c){var e=f[c],g=d[c];g.x1=b.top,g.y1=a-e.right,g.x2=b.bottom,g.y2=a-e.left,g.index=c,g.x1New=void 0,g.x2New=void 0}),v(b,d);var k,l=h(d);try{for(l.s();!(k=l.n()).done;){var m=k.value,n=m.index;f[n].top=m.x1New,f[n].bottom=m.x2New}}catch(o){l.e(o)}finally{l.f()}return f}function v(a,b){b.sort(function(a,b){return a.x1-b.x1||a.index-b.index});var c,d=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}],e=h(b);try{for(e.s();!(c=e.n()).done;){for(var f=c.value,g=0;g<d.length&&d[g].end<=f.y1;)g++;for(var i=d.length-1;i>=0&&d[i].start>=f.y2;)i--;var j=void 0,k=void 0,l=void 0,m=void 0,n=-1/0;for(l=g;l<=i;l++){k=(j=d[l]).boundary;var o=void 0;(o=k.x2>f.x1?k.index>f.index?k.x1New:f.x1:void 0===k.x2New?(k.x2+f.x1)/2:k.x2New)>n&&(n=o)}for(f.x1New=n,l=g;l<=i;l++)k=(j=d[l]).boundary,void 0===k.x2New?k.x2>f.x1?k.index>f.index&&(k.x2New=k.x2):k.x2New=n:k.x2New>n&&(k.x2New=Math.max(n,k.x2));var p=[],q=null;for(l=g;l<=i;l++){var r=(k=(j=d[l]).boundary).x2>f.x2?k:f;q===r?p[p.length-1].end=j.end:(p.push({start:j.start,end:j.end,boundary:r}),q=r)}for(d[g].start<f.y1&&(p[0].start=f.y1,p.unshift({start:d[g].start,end:f.y1,boundary:d[g].boundary})),f.y2<d[i].end&&(p[p.length-1].end=f.y2,p.push({start:f.y2,end:d[i].end,boundary:d[i].boundary})),l=g;l<=i;l++)if(k=(j=d[l]).boundary,void 0===k.x2New){var s=!1;for(m=g-1;!s&&m>=0&&d[m].start>=k.y1;m--)s=d[m].boundary===k;for(m=i+1;!s&&m<d.length&&d[m].end<=k.y2;m++)s=d[m].boundary===k;for(m=0;!s&&m<p.length;m++)s=p[m].boundary===k;s||(k.x2New=n)}Array.prototype.splice.apply(d,[g,i-g+1].concat(p))}}catch(t){e.e(t)}finally{e.f()}for(var u=0,v=d;u<v.length;u++){var w=v[u].boundary;void 0===w.x2New&&(w.x2New=Math.max(a,w.x2))}}var w=function(){function a(b){var c,f=this,g=b.textContent,h=b.textContentStream,i=b.container,j=b.viewport,k=b.textDivs,l=b.textContentItemsStr,m=b.enhanceTextSelection;e(this,a),this._textContent=g,this._textContentStream=h,this._container=i,this._document=i.ownerDocument,this._viewport=j,this._textDivs=k||[],this._textContentItemsStr=l||[],this._enhanceTextSelection=!!m,this._fontInspectorEnabled=!!(null!==(c=globalThis.FontInspector)&& void 0!==c&&c.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,d.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(function(){f._enhanceTextSelection||(f._textDivProperties=null),f._layoutTextCtx&&(f._layoutTextCtx.canvas.width=0,f._layoutTextCtx.canvas.height=0,f._layoutTextCtx=null)}).catch(function(){})}return g(a,[{key:"promise",get:function(){return this._capability.promise}},{key:"cancel",value:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new d.AbortException("TextLayer task cancelled.")).catch(function(){}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(Error("TextLayer task cancelled."))}},{key:"_processItems",value:function(a,b){for(var c=0,d=a.length;c<d;c++){if(void 0===a[c].str){if("beginMarkedContentProps"===a[c].type||"beginMarkedContent"===a[c].type){var e=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==a[c].id&&this._container.setAttribute("id","".concat(a[c].id)),e.appendChild(this._container)}else"endMarkedContent"===a[c].type&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(a[c].str),q(this,a[c],b,this._layoutTextCtx)}}},{key:"_layoutText",value:function(a){var b=this._textDivProperties.get(a),c="";if(0!==b.canvasWidth&&b.hasText){var d=a.style,e=d.fontSize,f=d.fontFamily;(e!==this._layoutTextLastFontSize||f!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font="".concat(e," ").concat(f),this._layoutTextLastFontSize=e,this._layoutTextLastFontFamily=f);var g=this._layoutTextCtx.measureText(a.textContent).width;if(g>0){var h=b.canvasWidth/g;this._enhanceTextSelection&&(b.scale=h),c="scaleX(".concat(h,")")}}if(0!==b.angle&&(c="rotate(".concat(b.angle,"deg) ").concat(c)),c.length>0&&(this._enhanceTextSelection&&(b.originalTransform=c),a.style.transform=c),b.hasText&&this._container.appendChild(a),b.hasEOL){var i=document.createElement("br");i.setAttribute("role","presentation"),this._container.appendChild(i)}}},{key:"_render",value:function(){var a=this,b=arguments.length>0&& void 0!==arguments[0]?arguments[0]:0,c=(0,d.createPromiseCapability)(),e=Object.create(null),f=this._document.createElement("canvas");if(f.height=f.width=l,f.mozOpaque=!0,this._layoutTextCtx=f.getContext("2d",{alpha:!1}),this._textContent){var g=this._textContent.items,h=this._textContent.styles;this._processItems(g,h),c.resolve()}else if(this._textContentStream){var i=function b(){a._reader.read().then(function(d){var f=d.value;if(d.done){c.resolve();return}Object.assign(e,f.styles),a._processItems(f.items,e),b()},c.reject)};this._reader=this._textContentStream.getReader(),i()}else throw Error('Neither "textContent" nor "textContentStream" parameters specified.');c.promise.then(function(){e=null,b?a._renderTimer=setTimeout(function(){r(a),a._renderTimer=null},b):r(a)},this._capability.reject)}},{key:"expandTextDivs",value:function(){var a=arguments.length>0&& void 0!==arguments[0]&&arguments[0];if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(t(this),this._bounds=null);for(var b=[],c=[],d=0,e=this._textDivs.length;d<e;d++){var f=this._textDivs[d],g=this._textDivProperties.get(f);g.hasText&&(a?(b.length=0,c.length=0,g.originalTransform&&b.push(g.originalTransform),g.paddingTop>0?(c.push("".concat(g.paddingTop,"px")),b.push("translateY(".concat(-g.paddingTop,"px)"))):c.push(0),g.paddingRight>0?c.push("".concat(g.paddingRight/g.scale,"px")):c.push(0),g.paddingBottom>0?c.push("".concat(g.paddingBottom,"px")):c.push(0),g.paddingLeft>0?(c.push("".concat(g.paddingLeft/g.scale,"px")),b.push("translateX(".concat(-g.paddingLeft/g.scale,"px)"))):c.push(0),f.style.padding=c.join(" "),b.length&&(f.style.transform=b.join(" "))):(f.style.padding=null,f.style.transform=g.originalTransform))}}}}]),a}();function x(a){var b=new w({textContent:a.textContent,textContentStream:a.textContentStream,container:a.container,viewport:a.viewport,textDivs:a.textDivs,textContentItemsStr:a.textContentItemsStr,enhanceTextSelection:a.enhanceTextSelection});return b._render(a.timeout),b}},(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SVGGraphics=void 0;var d=c(4),e=c(1),f=c(6);function g(a){return j(a)||i(a)||p(a)||h()}function h(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}function j(a){if(Array.isArray(a))return q(a)}function k(a,b){return n(a)||m(a,b)||p(a,b)||l()}function l(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}function n(a){if(Array.isArray(a))return a}function o(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=p(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var d=0,e=function(){};return{s:e,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:e}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function(){c=c.call(a)},n:function(){var a=c.next();return g=a.done,a},e:function(a){h=!0,f=a},f:function(){try{g||null==c.return||c.return()}finally{if(h)throw f}}}}function p(a,b){if(a){if("string"==typeof a)return q(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return q(a,b)}}function q(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function r(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function s(a,b,c){return b&&r(a.prototype,b),c&&r(a,c),a}function t(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}var u=function a(){t(this,a),(0,d.unreachable)("Not implemented: SVGGraphics")};b.SVGGraphics=u;var v=function(a){var b,c=[],d=[],e=o(a);try{for(e.s();!(b=e.n()).done;){var f=b.value;if("save"===f.fn){c.push({fnId:92,fn:"group",items:[]}),d.push(c),c=c[c.length-1].items;continue}"restore"===f.fn?c=d.pop():c.push(f)}}catch(g){e.e(g)}finally{e.f()}return c},w=function(a){if(Number.isInteger(a))return a.toString();var b=a.toFixed(10),c=b.length-1;if("0"!==b[c])return b;do c--;while("0"===b[c]);return b.substring(0,"."===b[c]?c:c+1)},x=function(a){if(0===a[4]&&0===a[5]){if(0===a[1]&&0===a[2])return 1===a[0]&&1===a[3]?"":"scale(".concat(w(a[0])," ").concat(w(a[3]),")");if(a[0]===a[3]&&a[1]=== -a[2]){var b=180*Math.acos(a[0])/Math.PI;return"rotate(".concat(w(b),")")}}else if(1===a[0]&&0===a[1]&&0===a[2]&&1===a[3])return"translate(".concat(w(a[4])," ").concat(w(a[5]),")");return"matrix(".concat(w(a[0])," ").concat(w(a[1])," ").concat(w(a[2])," ").concat(w(a[3])," ").concat(w(a[4])," ")+"".concat(w(a[5]),")")},y={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},z="http://www.w3.org/XML/1998/namespace",A="http://www.w3.org/1999/xlink",B=["butt","round","square"],C=["miter","round","bevel"],D=function(){for(var a=new Uint8Array([137,80,78,71,13,10,26,10]),b=12,c=new Int32Array(256),e=0;e<256;e++){for(var g=e,h=0;h<8;h++)g=1&g?3988292384^g>>1&2147483647:g>>1&2147483647;c[e]=g}function i(a,b,d){for(var e=-1,f=b;f<d;f++){var g=c[(e^a[f])&255];e=e>>>8^g}return -1^e}function j(a,b,c,d){var e=d,f=b.length;c[e]=f>>24&255,c[e+1]=f>>16&255,c[e+2]=f>>8&255,c[e+3]=255&f,c[e+=4]=255&a.charCodeAt(0),c[e+1]=255&a.charCodeAt(1),c[e+2]=255&a.charCodeAt(2),c[e+3]=255&a.charCodeAt(3),e+=4,c.set(b,e);var g=i(c,d+4,e+=b.length);c[e]=g>>24&255,c[e+1]=g>>16&255,c[e+2]=g>>8&255,c[e+3]=255&g}function k(a,b,c){for(var d=1,e=0,f=b;f<c;++f)e=(e+(d=(d+(255&a[f]))%65521))%65521;return e<<16|d}function l(a){if(!f.isNodeJS)return m(a);try{b=parseInt(process.versions.node)>=8?a:Buffer.from(a);var b,c=__webpack_require__(64515).deflateSync(b,{level:9});return c instanceof Uint8Array?c:new Uint8Array(c)}catch(e){(0,d.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+e)}return m(a)}function m(a){var b=a.length,c=65535,d=Math.ceil(b/c),e=new Uint8Array(2+b+5*d+4),f=0;e[f++]=120,e[f++]=156;for(var g=0;b>c;)e[f++]=0,e[f++]=255,e[f++]=255,e[f++]=0,e[f++]=0,e.set(a.subarray(g,g+c),f),f+=c,g+=c,b-=c;e[f++]=1,e[f++]=255&b,e[f++]=b>>8&255,e[f++]=255& ~b,e[f++]=(65535& ~b)>>8&255,e.set(a.subarray(g),f),f+=a.length-g;var h=k(a,0,a.length);return e[f++]=h>>24&255,e[f++]=h>>16&255,e[f++]=h>>8&255,e[f++]=255&h,e}function n(c,e,f,g){var h,i,k,m=c.width,n=c.height,o=c.data;switch(e){case d.ImageKind.GRAYSCALE_1BPP:i=0,h=1,k=m+7>>3;break;case d.ImageKind.RGB_24BPP:i=2,h=8,k=3*m;break;case d.ImageKind.RGBA_32BPP:i=6,h=8,k=4*m;break;default:throw Error("invalid format")}for(var p=new Uint8Array((1+k)*n),q=0,r=0,s=0;s<n;++s)p[q++]=0,p.set(o.subarray(r,r+k),q),r+=k,q+=k;if(e===d.ImageKind.GRAYSCALE_1BPP&&g){q=0;for(var t=0;t<n;t++){q++;for(var u=0;u<k;u++)p[q++]^=255}}var v=new Uint8Array([m>>24&255,m>>16&255,m>>8&255,255&m,n>>24&255,n>>16&255,n>>8&255,255&n,h,i,0,0,0]),w=l(p),x=a.length+3*b+v.length+w.length,y=new Uint8Array(x),z=0;return y.set(a,z),j("IHDR",v,y,z+=a.length),j("IDATA",w,y,z+=b+v.length),z+=b+w.length,j("IEND",new Uint8Array(0),y,z),(0,d.createObjectURL)(y,"image/png",f)}return function(a,b,c){var e=void 0===a.kind?d.ImageKind.GRAYSCALE_1BPP:a.kind;return n(a,e,b,c)}}(),E=function(){function a(){t(this,a),this.fontSizeScale=1,this.fontWeight=y.fontWeight,this.fontSize=0,this.textMatrix=d.IDENTITY_MATRIX,this.fontMatrix=d.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=d.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=y.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return s(a,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(a,b){this.x=a,this.y=b}}]),a}(),F=0,G=0,H=0;b.SVGGraphics=u=function(){function a(b,c){var f=arguments.length>2&& void 0!==arguments[2]&&arguments[2];for(var g in t(this,a),this.svgFactory=new e.DOMSVGFactory,this.current=new E,this.transformMatrix=d.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=b,this.objs=c,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!f,this._operatorIdMapping=[],d.OPS)this._operatorIdMapping[d.OPS[g]]=g}return s(a,[{key:"save",value:function(){this.transformStack.push(this.transformMatrix);var a=this.current;this.extraStack.push(a),this.current=a.clone()}},{key:"restore",value:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}},{key:"group",value:function(a){this.save(),this.executeOpTree(a),this.restore()}},{key:"loadDependencies",value:function(a){for(var b=this,c=a.fnArray,e=a.argsArray,f=0,g=c.length;f<g;f++)if(c[f]===d.OPS.dependency){var h,i=o(e[f]);try{var j=function(){var a=h.value,c=a.startsWith("g_")?b.commonObjs:b.objs,d=new Promise(function(b){c.get(a,b)});b.current.dependencies.push(d)};for(i.s();!(h=i.n()).done;)j()}catch(k){i.e(k)}finally{i.f()}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function(a,b,c,e,f,g){var h=[a,b,c,e,f,g];this.transformMatrix=d.Util.transform(this.transformMatrix,h),this.tgrp=null}},{key:"getSVG",value:function(a,b){var c=this;this.viewport=b;var e=this._initialize(b);return this.loadDependencies(a).then(function(){return c.transformMatrix=d.IDENTITY_MATRIX,c.executeOpTree(c.convertOpList(a)),e})}},{key:"convertOpList",value:function(a){for(var b=this._operatorIdMapping,c=a.argsArray,d=a.fnArray,e=[],f=0,g=d.length;f<g;f++){var h=d[f];e.push({fnId:h,fn:b[h],args:c[f]})}return v(e)}},{key:"executeOpTree",value:function(a){var b,c=o(a);try{for(c.s();!(b=c.n()).done;){var e=b.value,f=e.fn,g=e.fnId,h=e.args;switch(0|g){case d.OPS.beginText:this.beginText();break;case d.OPS.dependency:break;case d.OPS.setLeading:this.setLeading(h);break;case d.OPS.setLeadingMoveText:this.setLeadingMoveText(h[0],h[1]);break;case d.OPS.setFont:this.setFont(h);break;case d.OPS.showText:case d.OPS.showSpacedText:this.showText(h[0]);break;case d.OPS.endText:this.endText();break;case d.OPS.moveText:this.moveText(h[0],h[1]);break;case d.OPS.setCharSpacing:this.setCharSpacing(h[0]);break;case d.OPS.setWordSpacing:this.setWordSpacing(h[0]);break;case d.OPS.setHScale:this.setHScale(h[0]);break;case d.OPS.setTextMatrix:this.setTextMatrix(h[0],h[1],h[2],h[3],h[4],h[5]);break;case d.OPS.setTextRise:this.setTextRise(h[0]);break;case d.OPS.setTextRenderingMode:this.setTextRenderingMode(h[0]);break;case d.OPS.setLineWidth:this.setLineWidth(h[0]);break;case d.OPS.setLineJoin:this.setLineJoin(h[0]);break;case d.OPS.setLineCap:this.setLineCap(h[0]);break;case d.OPS.setMiterLimit:this.setMiterLimit(h[0]);break;case d.OPS.setFillRGBColor:this.setFillRGBColor(h[0],h[1],h[2]);break;case d.OPS.setStrokeRGBColor:this.setStrokeRGBColor(h[0],h[1],h[2]);break;case d.OPS.setStrokeColorN:this.setStrokeColorN(h);break;case d.OPS.setFillColorN:this.setFillColorN(h);break;case d.OPS.shadingFill:this.shadingFill(h[0]);break;case d.OPS.setDash:this.setDash(h[0],h[1]);break;case d.OPS.setRenderingIntent:this.setRenderingIntent(h[0]);break;case d.OPS.setFlatness:this.setFlatness(h[0]);break;case d.OPS.setGState:this.setGState(h[0]);break;case d.OPS.fill:this.fill();break;case d.OPS.eoFill:this.eoFill();break;case d.OPS.stroke:this.stroke();break;case d.OPS.fillStroke:this.fillStroke();break;case d.OPS.eoFillStroke:this.eoFillStroke();break;case d.OPS.clip:this.clip("nonzero");break;case d.OPS.eoClip:this.clip("evenodd");break;case d.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case d.OPS.paintImageXObject:this.paintImageXObject(h[0]);break;case d.OPS.paintInlineImageXObject:this.paintInlineImageXObject(h[0]);break;case d.OPS.paintImageMaskXObject:this.paintImageMaskXObject(h[0]);break;case d.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(h[0],h[1]);break;case d.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case d.OPS.closePath:this.closePath();break;case d.OPS.closeStroke:this.closeStroke();break;case d.OPS.closeFillStroke:this.closeFillStroke();break;case d.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case d.OPS.nextLine:this.nextLine();break;case d.OPS.transform:this.transform(h[0],h[1],h[2],h[3],h[4],h[5]);break;case d.OPS.constructPath:this.constructPath(h[0],h[1]);break;case d.OPS.endPath:this.endPath();break;case 92:this.group(e.items);break;default:(0,d.warn)("Unimplemented operator ".concat(f))}}}catch(i){c.e(i)}finally{c.f()}}},{key:"setWordSpacing",value:function(a){this.current.wordSpacing=a}},{key:"setCharSpacing",value:function(a){this.current.charSpacing=a}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function(a,b,c,d,e,f){var g=this.current;g.textMatrix=g.lineMatrix=[a,b,c,d,e,f],g.textMatrixScale=Math.hypot(a,b),g.x=g.lineX=0,g.y=g.lineY=0,g.xcoords=[],g.ycoords=[],g.tspan=this.svgFactory.createElement("svg:tspan"),g.tspan.setAttributeNS(null,"font-family",g.fontFamily),g.tspan.setAttributeNS(null,"font-size","".concat(w(g.fontSize),"px")),g.tspan.setAttributeNS(null,"y",w(-g.y)),g.txtElement=this.svgFactory.createElement("svg:text"),g.txtElement.appendChild(g.tspan)}},{key:"beginText",value:function(){var a=this.current;a.x=a.lineX=0,a.y=a.lineY=0,a.textMatrix=d.IDENTITY_MATRIX,a.lineMatrix=d.IDENTITY_MATRIX,a.textMatrixScale=1,a.tspan=this.svgFactory.createElement("svg:tspan"),a.txtElement=this.svgFactory.createElement("svg:text"),a.txtgrp=this.svgFactory.createElement("svg:g"),a.xcoords=[],a.ycoords=[]}},{key:"moveText",value:function(a,b){var c=this.current;c.x=c.lineX+=a,c.y=c.lineY+=b,c.xcoords=[],c.ycoords=[],c.tspan=this.svgFactory.createElement("svg:tspan"),c.tspan.setAttributeNS(null,"font-family",c.fontFamily),c.tspan.setAttributeNS(null,"font-size","".concat(w(c.fontSize),"px")),c.tspan.setAttributeNS(null,"y",w(-c.y))}},{key:"showText",value:function(a){var b=this.current,c=b.font,e=b.fontSize;if(0!==e){var f,g=b.fontSizeScale,h=b.charSpacing,i=b.wordSpacing,j=b.fontDirection,k=b.textHScale*j,l=c.vertical,m=l?1:-1,n=c.defaultVMetrics,p=e*b.fontMatrix[0],q=0,r=o(a);try{for(r.s();!(f=r.n()).done;){var s=f.value;if(null===s){q+=j*i;continue}if((0,d.isNum)(s)){q+=m*s*e/1e3;continue}var t=(s.isSpace?i:0)+h,u=s.fontChar,v=void 0,A=void 0,B=s.width;if(l){var C=void 0,D=s.vmetric||n;C=-(C=s.vmetric?D[1]:.5*B)*p;var E=D[2]*p;B=D?-D[0]:B,v=C/g,A=(q+E)/g}else v=q/g,A=0;(s.isInFont||c.missingFile)&&(b.xcoords.push(b.x+v),l&&b.ycoords.push(-b.y+A),b.tspan.textContent+=u);var F=void 0;F=l?B*p-t*j:B*p+t*j,q+=F}}catch(G){r.e(G)}finally{r.f()}b.tspan.setAttributeNS(null,"x",b.xcoords.map(w).join(" ")),l?b.tspan.setAttributeNS(null,"y",b.ycoords.map(w).join(" ")):b.tspan.setAttributeNS(null,"y",w(-b.y)),l?b.y-=q:b.x+=q*k,b.tspan.setAttributeNS(null,"font-family",b.fontFamily),b.tspan.setAttributeNS(null,"font-size","".concat(w(b.fontSize),"px")),b.fontStyle!==y.fontStyle&&b.tspan.setAttributeNS(null,"font-style",b.fontStyle),b.fontWeight!==y.fontWeight&&b.tspan.setAttributeNS(null,"font-weight",b.fontWeight);var H=b.textRenderingMode&d.TextRenderingMode.FILL_STROKE_MASK;if(H===d.TextRenderingMode.FILL||H===d.TextRenderingMode.FILL_STROKE?(b.fillColor!==y.fillColor&&b.tspan.setAttributeNS(null,"fill",b.fillColor),b.fillAlpha<1&&b.tspan.setAttributeNS(null,"fill-opacity",b.fillAlpha)):b.textRenderingMode===d.TextRenderingMode.ADD_TO_PATH?b.tspan.setAttributeNS(null,"fill","transparent"):b.tspan.setAttributeNS(null,"fill","none"),H===d.TextRenderingMode.STROKE||H===d.TextRenderingMode.FILL_STROKE){var I=1/(b.textMatrixScale||1);this._setStrokeAttributes(b.tspan,I)}var J=b.textMatrix;0!==b.textRise&&(J=J.slice(),J[5]+=b.textRise),b.txtElement.setAttributeNS(null,"transform","".concat(x(J)," scale(").concat(w(k),", -1)")),b.txtElement.setAttributeNS(z,"xml:space","preserve"),b.txtElement.appendChild(b.tspan),b.txtgrp.appendChild(b.txtElement),this._ensureTransformGroup().appendChild(b.txtElement)}}},{key:"setLeadingMoveText",value:function(a,b){this.setLeading(-b),this.moveText(a,b)}},{key:"addFontStyle",value:function(a){if(!a.data)throw Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var b=(0,d.createObjectURL)(a.data,a.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(a.loadedName,'";')+" src: url(".concat(b,"); }\n")}},{key:"setFont",value:function(a){var b=this.current,c=this.commonObjs.get(a[0]),e=a[1];b.font=c,!this.embedFonts||c.missingFile||this.embeddedFonts[c.loadedName]||(this.addFontStyle(c),this.embeddedFonts[c.loadedName]=c),b.fontMatrix=c.fontMatrix||d.FONT_IDENTITY_MATRIX;var f="normal";c.black?f="900":c.bold&&(f="bold");var g=c.italic?"italic":"normal";e<0?(e=-e,b.fontDirection=-1):b.fontDirection=1,b.fontSize=e,b.fontFamily=c.loadedName,b.fontWeight=f,b.fontStyle=g,b.tspan=this.svgFactory.createElement("svg:tspan"),b.tspan.setAttributeNS(null,"y",w(-b.y)),b.xcoords=[],b.ycoords=[]}},{key:"endText",value:function(){var a,b=this.current;b.textRenderingMode&d.TextRenderingMode.ADD_TO_PATH_FLAG&&null!==(a=b.txtElement)&& void 0!==a&&a.hasChildNodes()&&(b.element=b.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",value:function(a){a>0&&(this.current.lineWidth=a)}},{key:"setLineCap",value:function(a){this.current.lineCap=B[a]}},{key:"setLineJoin",value:function(a){this.current.lineJoin=C[a]}},{key:"setMiterLimit",value:function(a){this.current.miterLimit=a}},{key:"setStrokeAlpha",value:function(a){this.current.strokeAlpha=a}},{key:"setStrokeRGBColor",value:function(a,b,c){this.current.strokeColor=d.Util.makeHexColor(a,b,c)}},{key:"setFillAlpha",value:function(a){this.current.fillAlpha=a}},{key:"setFillRGBColor",value:function(a,b,c){this.current.fillColor=d.Util.makeHexColor(a,b,c),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}},{key:"setStrokeColorN",value:function(a){this.current.strokeColor=this._makeColorN_Pattern(a)}},{key:"setFillColorN",value:function(a){this.current.fillColor=this._makeColorN_Pattern(a)}},{key:"shadingFill",value:function(a){var b=this.viewport.width,c=this.viewport.height,e=d.Util.inverseTransform(this.transformMatrix),f=d.Util.applyTransform([0,0],e),g=d.Util.applyTransform([0,c],e),h=d.Util.applyTransform([b,0],e),i=d.Util.applyTransform([b,c],e),j=Math.min(f[0],g[0],h[0],i[0]),k=Math.min(f[1],g[1],h[1],i[1]),l=Math.max(f[0],g[0],h[0],i[0]),m=Math.max(f[1],g[1],h[1],i[1]),n=this.svgFactory.createElement("svg:rect");n.setAttributeNS(null,"x",j),n.setAttributeNS(null,"y",k),n.setAttributeNS(null,"width",l-j),n.setAttributeNS(null,"height",m-k),n.setAttributeNS(null,"fill",this._makeShadingPattern(a)),this.current.fillAlpha<1&&n.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(n)}},{key:"_makeColorN_Pattern",value:function(a){return"TilingPattern"===a[0]?this._makeTilingPattern(a):this._makeShadingPattern(a)}},{key:"_makeTilingPattern",value:function(a){var b=a[1],c=a[2],e=a[3]||d.IDENTITY_MATRIX,f=k(a[4],4),h=f[0],i=f[1],j=f[2],l=f[3],m=a[5],n=a[6],o=a[7],p="shading".concat(H++),q=d.Util.normalizeRect([].concat(g(d.Util.applyTransform([h,i],e)),g(d.Util.applyTransform([j,l],e)))),r=k(q,4),s=r[0],t=r[1],u=r[2],v=r[3],w=d.Util.singularValueDecompose2dScale(e),x=k(w,2),y=x[0],z=x[1],A=m*y,B=n*z,C=this.svgFactory.createElement("svg:pattern");C.setAttributeNS(null,"id",p),C.setAttributeNS(null,"patternUnits","userSpaceOnUse"),C.setAttributeNS(null,"width",A),C.setAttributeNS(null,"height",B),C.setAttributeNS(null,"x","".concat(s)),C.setAttributeNS(null,"y","".concat(t));var D=this.svg,E=this.transformMatrix,F=this.current.fillColor,G=this.current.strokeColor,I=this.svgFactory.create(u-s,v-t);if(this.svg=I,this.transformMatrix=e,2===o){var J=d.Util.makeHexColor.apply(d.Util,g(b));this.current.fillColor=J,this.current.strokeColor=J}return this.executeOpTree(this.convertOpList(c)),this.svg=D,this.transformMatrix=E,this.current.fillColor=F,this.current.strokeColor=G,C.appendChild(I.childNodes[0]),this.defs.appendChild(C),"url(#".concat(p,")")}},{key:"_makeShadingPattern",value:function(a){switch("string"==typeof a&&(a=this.objs.get(a)),a[0]){case"RadialAxial":var b="shading".concat(H++),c=a[3];switch(a[1]){case"axial":var e=a[4],f=a[5];(k=this.svgFactory.createElement("svg:linearGradient")).setAttributeNS(null,"id",b),k.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),k.setAttributeNS(null,"x1",e[0]),k.setAttributeNS(null,"y1",e[1]),k.setAttributeNS(null,"x2",f[0]),k.setAttributeNS(null,"y2",f[1]);break;case"radial":var g=a[4],h=a[5],i=a[6],j=a[7];(k=this.svgFactory.createElement("svg:radialGradient")).setAttributeNS(null,"id",b),k.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),k.setAttributeNS(null,"cx",h[0]),k.setAttributeNS(null,"cy",h[1]),k.setAttributeNS(null,"r",j),k.setAttributeNS(null,"fx",g[0]),k.setAttributeNS(null,"fy",g[1]),k.setAttributeNS(null,"fr",i);break;default:throw Error("Unknown RadialAxial type: ".concat(a[1]))}var k,l,m=o(c);try{for(m.s();!(l=m.n()).done;){var n=l.value,p=this.svgFactory.createElement("svg:stop");p.setAttributeNS(null,"offset",n[0]),p.setAttributeNS(null,"stop-color",n[1]),k.appendChild(p)}}catch(q){m.e(q)}finally{m.f()}return this.defs.appendChild(k),"url(#".concat(b,")");case"Mesh":return(0,d.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw Error("Unknown IR type: ".concat(a[0]))}}},{key:"setDash",value:function(a,b){this.current.dashArray=a,this.current.dashPhase=b}},{key:"constructPath",value:function(a,b){var c,e=this.current,f=e.x,g=e.y,h=[],i=0,j=o(a);try{for(j.s();!(c=j.n()).done;){var k=c.value;switch(0|k){case d.OPS.rectangle:f=b[i++],g=b[i++];var l=b[i++],m=b[i++],n=f+l,p=g+m;h.push("M",w(f),w(g),"L",w(n),w(g),"L",w(n),w(p),"L",w(f),w(p),"Z");break;case d.OPS.moveTo:f=b[i++],g=b[i++],h.push("M",w(f),w(g));break;case d.OPS.lineTo:f=b[i++],g=b[i++],h.push("L",w(f),w(g));break;case d.OPS.curveTo:f=b[i+4],g=b[i+5],h.push("C",w(b[i]),w(b[i+1]),w(b[i+2]),w(b[i+3]),w(f),w(g)),i+=6;break;case d.OPS.curveTo2:h.push("C",w(f),w(g),w(b[i]),w(b[i+1]),w(b[i+2]),w(b[i+3])),f=b[i+2],g=b[i+3],i+=4;break;case d.OPS.curveTo3:f=b[i+2],g=b[i+3],h.push("C",w(b[i]),w(b[i+1]),w(f),w(g),w(f),w(g)),i+=4;break;case d.OPS.closePath:h.push("Z")}}}catch(q){j.e(q)}finally{j.f()}h=h.join(" "),e.path&&a.length>0&&a[0]!==d.OPS.rectangle&&a[0]!==d.OPS.moveTo?h=e.path.getAttributeNS(null,"d")+h:(e.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(e.path)),e.path.setAttributeNS(null,"d",h),e.path.setAttributeNS(null,"fill","none"),e.element=e.path,e.setCurrentPoint(f,g)}},{key:"endPath",value:function(){var a=this.current;if(a.path=null,this.pendingClip){if(!a.element){this.pendingClip=null;return}var b="clippath".concat(F++),c=this.svgFactory.createElement("svg:clipPath");c.setAttributeNS(null,"id",b),c.setAttributeNS(null,"transform",x(this.transformMatrix));var d=a.element.cloneNode(!0);if("evenodd"===this.pendingClip?d.setAttributeNS(null,"clip-rule","evenodd"):d.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,c.appendChild(d),this.defs.appendChild(c),a.activeClipUrl){a.clipGroup=null;var e,f=o(this.extraStack);try{for(f.s();!(e=f.n()).done;)e.value.clipGroup=null}catch(g){f.e(g)}finally{f.f()}c.setAttributeNS(null,"clip-path",a.activeClipUrl)}a.activeClipUrl="url(#".concat(b,")"),this.tgrp=null}}},{key:"clip",value:function(a){this.pendingClip=a}},{key:"closePath",value:function(){var a=this.current;if(a.path){var b="".concat(a.path.getAttributeNS(null,"d"),"Z");a.path.setAttributeNS(null,"d",b)}}},{key:"setLeading",value:function(a){this.current.leading=-a}},{key:"setTextRise",value:function(a){this.current.textRise=a}},{key:"setTextRenderingMode",value:function(a){this.current.textRenderingMode=a}},{key:"setHScale",value:function(a){this.current.textHScale=a/100}},{key:"setRenderingIntent",value:function(a){}},{key:"setFlatness",value:function(a){}},{key:"setGState",value:function(a){var b,c=o(a);try{for(c.s();!(b=c.n()).done;){var e=k(b.value,2),f=e[0],g=e[1];switch(f){case"LW":this.setLineWidth(g);break;case"LC":this.setLineCap(g);break;case"LJ":this.setLineJoin(g);break;case"ML":this.setMiterLimit(g);break;case"D":this.setDash(g[0],g[1]);break;case"RI":this.setRenderingIntent(g);break;case"FL":this.setFlatness(g);break;case"Font":this.setFont(g);break;case"CA":this.setStrokeAlpha(g);break;case"ca":this.setFillAlpha(g);break;default:(0,d.warn)("Unimplemented graphic state operator ".concat(f))}}}catch(h){c.e(h)}finally{c.f()}}},{key:"fill",value:function(){var a=this.current;a.element&&(a.element.setAttributeNS(null,"fill",a.fillColor),a.element.setAttributeNS(null,"fill-opacity",a.fillAlpha),this.endPath())}},{key:"stroke",value:function(){var a=this.current;a.element&&(this._setStrokeAttributes(a.element),a.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function(a){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:1,c=this.current,d=c.dashArray;1!==b&&d.length>0&&(d=d.map(function(a){return b*a})),a.setAttributeNS(null,"stroke",c.strokeColor),a.setAttributeNS(null,"stroke-opacity",c.strokeAlpha),a.setAttributeNS(null,"stroke-miterlimit",w(c.miterLimit)),a.setAttributeNS(null,"stroke-linecap",c.lineCap),a.setAttributeNS(null,"stroke-linejoin",c.lineJoin),a.setAttributeNS(null,"stroke-width",w(b*c.lineWidth)+"px"),a.setAttributeNS(null,"stroke-dasharray",d.map(w).join(" ")),a.setAttributeNS(null,"stroke-dashoffset",w(b*c.dashPhase)+"px")}},{key:"eoFill",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}},{key:"fillStroke",value:function(){this.stroke(),this.fill()}},{key:"eoFillStroke",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.closePath(),this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function(){var a=this.svgFactory.createElement("svg:rect");a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y","0"),a.setAttributeNS(null,"width","1px"),a.setAttributeNS(null,"height","1px"),a.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(a)}},{key:"paintImageXObject",value:function(a){var b=a.startsWith("g_")?this.commonObjs.get(a):this.objs.get(a);if(!b){(0,d.warn)("Dependent image with object ID ".concat(a," is not ready yet"));return}this.paintInlineImageXObject(b)}},{key:"paintInlineImageXObject",value:function(a,b){var c=a.width,d=a.height,e=D(a,this.forceDataSchema,!!b),f=this.svgFactory.createElement("svg:rect");f.setAttributeNS(null,"x","0"),f.setAttributeNS(null,"y","0"),f.setAttributeNS(null,"width",w(c)),f.setAttributeNS(null,"height",w(d)),this.current.element=f,this.clip("nonzero");var g=this.svgFactory.createElement("svg:image");g.setAttributeNS(A,"xlink:href",e),g.setAttributeNS(null,"x","0"),g.setAttributeNS(null,"y",w(-d)),g.setAttributeNS(null,"width",w(c)+"px"),g.setAttributeNS(null,"height",w(d)+"px"),g.setAttributeNS(null,"transform","scale(".concat(w(1/c)," ").concat(w(-1/d),")")),b?b.appendChild(g):this._ensureTransformGroup().appendChild(g)}},{key:"paintImageMaskXObject",value:function(a){var b=this.current,c=a.width,d=a.height,e=b.fillColor;b.maskId="mask".concat(G++);var f=this.svgFactory.createElement("svg:mask");f.setAttributeNS(null,"id",b.maskId);var g=this.svgFactory.createElement("svg:rect");g.setAttributeNS(null,"x","0"),g.setAttributeNS(null,"y","0"),g.setAttributeNS(null,"width",w(c)),g.setAttributeNS(null,"height",w(d)),g.setAttributeNS(null,"fill",e),g.setAttributeNS(null,"mask","url(#".concat(b.maskId,")")),this.defs.appendChild(f),this._ensureTransformGroup().appendChild(g),this.paintInlineImageXObject(a,f)}},{key:"paintFormXObjectBegin",value:function(a,b){if(Array.isArray(a)&&6===a.length&&this.transform(a[0],a[1],a[2],a[3],a[4],a[5]),b){var c=b[2]-b[0],d=b[3]-b[1],e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x",b[0]),e.setAttributeNS(null,"y",b[1]),e.setAttributeNS(null,"width",w(c)),e.setAttributeNS(null,"height",w(d)),this.current.element=e,this.clip("nonzero"),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){}},{key:"_initialize",value:function(a){var b=this.svgFactory.create(a.width,a.height),c=this.svgFactory.createElement("svg:defs");b.appendChild(c),this.defs=c;var d=this.svgFactory.createElement("svg:g");return d.setAttributeNS(null,"transform",x(a.transform)),b.appendChild(d),this.svg=d,b}},{key:"_ensureClipGroup",value:function(){if(!this.current.clipGroup){var a=this.svgFactory.createElement("svg:g");a.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(a),this.current.clipGroup=a}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",x(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}]),a}()},(a,b,c)=>{"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}Object.defineProperty(b,"__esModule",{value:!0}),b.PDFNodeStream=void 0;var e=h(c(2)),f=c(4),g=c(154);function h(a){return a&&a.__esModule?a:{default:a}}function i(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&j(a,b)}function j(a,b){return(j=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function k(a){var b=n();return function(){var c,d=o(a);if(b){var e=o(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return l(this,c)}}function l(a,b){if(b&&("object"===d(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");return m(a)}function m(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function n(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function o(a){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function p(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function q(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){p(f,d,e,g,h,"next",a)}function h(a){p(f,d,e,g,h,"throw",a)}g(void 0)})}}function r(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=s(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var d=0,e=function(){};return{s:e,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:e}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function(){c=c.call(a)},n:function(){var a=c.next();return g=a.done,a},e:function(a){h=!0,f=a},f:function(){try{g||null==c.return||c.return()}finally{if(h)throw f}}}}function s(a,b){if(a){if("string"==typeof a)return t(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return t(a,b)}}function t(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function u(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function v(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function w(a,b,c){return b&&v(a.prototype,b),c&&v(a,c),a}var x=__webpack_require__(30830),y=__webpack_require__(43839),z=__webpack_require__(76985),A=__webpack_require__(6944),B=/^file:\/\/\/[a-zA-Z]:\//;function C(a){var b=A.parse(a);return"file:"===b.protocol||b.host?b:/^[a-z]:[/\\]/i.test(a)?A.parse("file:///".concat(a)):(b.host||(b.protocol="file:"),b)}var D=function(){function a(b){u(this,a),this.source=b,this.url=C(b.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&b.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return w(a,[{key:"_progressiveDataLength",get:function(){var a,b;return null!==(a=null===(b=this._fullRequestReader)|| void 0===b?void 0:b._loaded)&& void 0!==a?a:0}},{key:"getFullReader",value:function(){return(0,f.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new J(this):new H(this),this._fullRequestReader}},{key:"getRangeReader",value:function(a,b){if(b<=this._progressiveDataLength)return null;var c=this.isFsUrl?new K(this,a,b):new I(this,a,b);return this._rangeRequestReaders.push(c),c}},{key:"cancelAllRequests",value:function(a){this._fullRequestReader&&this._fullRequestReader.cancel(a);var b,c=r(this._rangeRequestReaders.slice(0));try{for(c.s();!(b=c.n()).done;)b.value.cancel(a)}catch(d){c.e(d)}finally{c.f()}}}]),a}();b.PDFNodeStream=D;var E=function(){function a(b){u(this,a),this._url=b.url,this._done=!1,this._storedError=null,this.onProgress=null;var c=b.source;this._contentLength=c.length,this._loaded=0,this._filename=null,this._disableRange=c.disableRange||!1,this._rangeChunkSize=c.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!c.disableStream,this._isRangeSupported=!c.disableRange,this._readableStream=null,this._readCapability=(0,f.createPromiseCapability)(),this._headersCapability=(0,f.createPromiseCapability)()}return w(a,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var a=q(e.default.mark(function a(){var b,c;return e.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this._readCapability.promise;case 2:if(!this._done){a.next=4;break}return a.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){a.next=6;break}throw this._storedError;case 6:if(null!==(b=this._readableStream.read())){a.next=10;break}return this._readCapability=(0,f.createPromiseCapability)(),a.abrupt("return",this.read());case 10:return this._loaded+=b.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),c=new Uint8Array(b).buffer,a.abrupt("return",{value:c,done:!1});case 14:case"end":return a.stop()}},a,this)}));function b(){return a.apply(this,arguments)}return b}()},{key:"cancel",value:function(a){if(!this._readableStream){this._error(a);return}this._readableStream.destroy(a)}},{key:"_error",value:function(a){this._storedError=a,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(a){var b=this;this._readableStream=a,a.on("readable",function(){b._readCapability.resolve()}),a.on("end",function(){a.destroy(),b._done=!0,b._readCapability.resolve()}),a.on("error",function(a){b._error(a)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new f.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}]),a}(),F=function(){function a(b){u(this,a),this._url=b.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,f.createPromiseCapability)();var c=b.source;this._isStreamingSupported=!c.disableStream}return w(a,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var a=q(e.default.mark(function a(){var b,c;return e.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this._readCapability.promise;case 2:if(!this._done){a.next=4;break}return a.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){a.next=6;break}throw this._storedError;case 6:if(null!==(b=this._readableStream.read())){a.next=10;break}return this._readCapability=(0,f.createPromiseCapability)(),a.abrupt("return",this.read());case 10:return this._loaded+=b.length,this.onProgress&&this.onProgress({loaded:this._loaded}),c=new Uint8Array(b).buffer,a.abrupt("return",{value:c,done:!1});case 14:case"end":return a.stop()}},a,this)}));function b(){return a.apply(this,arguments)}return b}()},{key:"cancel",value:function(a){if(!this._readableStream){this._error(a);return}this._readableStream.destroy(a)}},{key:"_error",value:function(a){this._storedError=a,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(a){var b=this;this._readableStream=a,a.on("readable",function(){b._readCapability.resolve()}),a.on("end",function(){a.destroy(),b._done=!0,b._readCapability.resolve()}),a.on("error",function(a){b._error(a)}),this._storedError&&this._readableStream.destroy(this._storedError)}}]),a}();function G(a,b){return{protocol:a.protocol,auth:a.auth,host:a.hostname,port:a.port,path:a.path,method:"GET",headers:b}}var H=function(a){i(c,a);var b=k(c);function c(a){u(this,c);var d,e=function(b){if(404===b.statusCode){var c=new f.MissingPDFException('Missing PDF "'.concat(d._url,'".'));d._storedError=c,d._headersCapability.reject(c);return}d._headersCapability.resolve(),d._setReadableStream(b);var e=function(a){return d._readableStream.headers[a.toLowerCase()]},h=(0,g.validateRangeRequestCapabilities)({getResponseHeader:e,isHttp:a.isHttp,rangeChunkSize:d._rangeChunkSize,disableRange:d._disableRange}),i=h.allowRangeRequests,j=h.suggestedLength;d._isRangeSupported=i,d._contentLength=j||d._contentLength,d._filename=(0,g.extractFilenameFromHeader)(e)};return(d=b.call(this,a))._request=null,"http:"===d._url.protocol?d._request=y.request(G(d._url,a.httpHeaders),e):d._request=z.request(G(d._url,a.httpHeaders),e),d._request.on("error",function(a){d._storedError=a,d._headersCapability.reject(a)}),d._request.end(),d}return c}(E),I=function(a){i(c,a);var b=k(c);function c(a,d,e){for(var g in u(this,c),(h=b.call(this,a))._httpHeaders={},a.httpHeaders){var h,i=a.httpHeaders[g];void 0!==i&&(h._httpHeaders[g]=i)}h._httpHeaders.Range="bytes=".concat(d,"-").concat(e-1);var j=function(a){if(404===a.statusCode){var b=new f.MissingPDFException('Missing PDF "'.concat(h._url,'".'));h._storedError=b;return}h._setReadableStream(a)};return h._request=null,"http:"===h._url.protocol?h._request=y.request(G(h._url,h._httpHeaders),j):h._request=z.request(G(h._url,h._httpHeaders),j),h._request.on("error",function(a){h._storedError=a}),h._request.end(),h}return c}(F),J=function(a){i(c,a);var b=k(c);function c(a){u(this,c);var d,e=decodeURIComponent((d=b.call(this,a))._url.path);return B.test(d._url.href)&&(e=e.replace(/^\//,"")),x.lstat(e,function(a,b){if(a){"ENOENT"===a.code&&(a=new f.MissingPDFException('Missing PDF "'.concat(e,'".'))),d._storedError=a,d._headersCapability.reject(a);return}d._contentLength=b.size,d._setReadableStream(x.createReadStream(e)),d._headersCapability.resolve()}),d}return c}(E),K=function(a){i(c,a);var b=k(c);function c(a,d,e){u(this,c);var f,g=decodeURIComponent((f=b.call(this,a))._url.path);return B.test(f._url.href)&&(g=g.replace(/^\//,"")),f._setReadableStream(x.createReadStream(g,{start:d,end:e-1})),f}return c}(F)},(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.createResponseStatusError=i,b.extractFilenameFromHeader=h,b.validateRangeRequestCapabilities=g,b.validateResponseStatus=j;var d=c(4),e=c(155),f=c(1);function g(a){var b=a.getResponseHeader,c=a.isHttp,e=a.rangeChunkSize,f=a.disableRange;(0,d.assert)(e>0,"Range chunk size must be larger than zero");var g={allowRangeRequests:!1,suggestedLength:void 0},h=parseInt(b("Content-Length"),10);return!Number.isInteger(h)||(g.suggestedLength=h,h<=2*e||f||!c||"bytes"!==b("Accept-Ranges"))?g:("identity"!==(b("Content-Encoding")||"identity")||(g.allowRangeRequests=!0),g)}function h(a){var b=a("Content-Disposition");if(b){var c=(0,e.getFilenameFromContentDispositionHeader)(b);if(c.includes("%"))try{c=decodeURIComponent(c)}catch(d){}if((0,f.isPdfFile)(c))return c}return null}function i(a,b){return 404===a||0===a&&b.startsWith("file:")?new d.MissingPDFException('Missing PDF "'+b+'".'):new d.UnexpectedResponseException("Unexpected server response (".concat(a,') while retrieving PDF "').concat(b,'".'),a)}function j(a){return 200===a||206===a}},(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getFilenameFromContentDispositionHeader=k;var d=c(4);function e(a,b){return j(a)||i(a,b)||g(a,b)||f()}function f(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(a,b){if(a){if("string"==typeof a)return h(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return h(a,b)}}function h(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function i(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}function j(a){if(Array.isArray(a))return a}function k(a){var b=!0,c=i("filename\\*","i").exec(a);if(c){var f=m(c=c[1]);return f=unescape(f),f=n(f),f=o(f),k(f)}if(c=l(a)){var g=o(c);return k(g)}if(c=i("filename","i").exec(a)){var h=m(c=c[1]);return h=o(h),k(h)}function i(a,b){return RegExp("(?:^|;)\\s*"+a+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',b)}function j(a,c){if(a){if(!/^[\x00-\xFF]+$/.test(c))return c;try{var e=new TextDecoder(a,{fatal:!0}),f=(0,d.stringToBytes)(c);c=e.decode(f),b=!1}catch(g){if(/^utf-?8$/i.test(a))try{c=decodeURIComponent(escape(c)),b=!1}catch(h){}}}return c}function k(a){return b&&/[\x80-\xff]/.test(a)&&(a=j("utf-8",a),b&&(a=j("iso-8859-1",a))),a}function l(a){for(var b,c=[],d=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");null!==(b=d.exec(a));){var f=e(b,4),g=f[1],h=f[2],j=f[3];if((g=parseInt(g,10))in c){if(0===g)break;continue}c[g]=[h,j]}for(var k=[],l=0;l<c.length&&(l in c);++l){var o=e(c[l],2),p=o[0],q=o[1];q=m(q),p&&(q=unescape(q),0===l&&(q=n(q))),k.push(q)}return k.join("")}function m(a){if(a.startsWith('"')){for(var b=a.slice(1).split('\\"'),c=0;c<b.length;++c){var d=b[c].indexOf('"');-1!==d&&(b[c]=b[c].slice(0,d),b.length=c+1),b[c]=b[c].replace(/\\(.)/g,"$1")}a=b.join('"')}return a}function n(a){var b=a.indexOf("'");if(-1===b)return a;var c=a.slice(0,b),d=a.slice(b+1),e=d.replace(/^[^']*'/,"");return j(c,e)}function o(a){return!a.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(a)?a:a.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(a,b,c,d){if("q"===c||"Q"===c)return d=(d=d.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(a,b){return String.fromCharCode(parseInt(b,16))}),j(b,d);try{d=atob(d)}catch(e){}return j(b,d)})}return""}},(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.PDFNetworkStream=void 0;var d=g(c(2)),e=c(4),f=c(154);function g(a){return a&&a.__esModule?a:{default:a}}function h(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function i(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){h(f,d,e,g,i,"next",a)}function i(a){h(f,d,e,g,i,"throw",a)}g(void 0)})}}function j(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=k(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var d=0,e=function(){};return{s:e,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:e}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function(){c=c.call(a)},n:function(){var a=c.next();return g=a.done,a},e:function(a){h=!0,f=a},f:function(){try{g||null==c.return||c.return()}finally{if(h)throw f}}}}function k(a,b){if(a){if("string"==typeof a)return l(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return l(a,b)}}function l(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function m(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function n(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function o(a,b,c){return b&&n(a.prototype,b),c&&n(a,c),a}var p=200,q=206;function r(a){var b=a.response;return"string"!=typeof b?b:(0,(0,e.stringToBytes)(b).buffer)}var s=function(){function a(b){var c=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{};m(this,a),this.url=b,this.isHttp=/^https?:/i.test(b),this.httpHeaders=this.isHttp&&c.httpHeaders||Object.create(null),this.withCredentials=c.withCredentials||!1,this.getXhr=c.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}return o(a,[{key:"requestRange",value:function(a,b,c){var d={begin:a,end:b};for(var e in c)d[e]=c[e];return this.request(d)}},{key:"requestFull",value:function(a){return this.request(a)}},{key:"request",value:function(a){var b=this.getXhr(),c=this.currXhrId++,d=this.pendingRequests[c]={xhr:b};for(var e in b.open("GET",this.url),b.withCredentials=this.withCredentials,this.httpHeaders){var f=this.httpHeaders[e];void 0!==f&&b.setRequestHeader(e,f)}return this.isHttp&&"begin"in a&&"end"in a?(b.setRequestHeader("Range","bytes=".concat(a.begin,"-").concat(a.end-1)),d.expectedStatus=q):d.expectedStatus=p,b.responseType="arraybuffer",a.onError&&(b.onerror=function(c){a.onError(b.status)}),b.onreadystatechange=this.onStateChange.bind(this,c),b.onprogress=this.onProgress.bind(this,c),d.onHeadersReceived=a.onHeadersReceived,d.onDone=a.onDone,d.onError=a.onError,d.onProgress=a.onProgress,b.send(null),c}},{key:"onProgress",value:function(a,b){var c,d=this.pendingRequests[a];d&&(null===(c=d.onProgress)|| void 0===c||c.call(d,b))}},{key:"onStateChange",value:function(a,b){var c,d,e,f=this.pendingRequests[a];if(f){var g=f.xhr;if(g.readyState>=2&&f.onHeadersReceived&&(f.onHeadersReceived(),delete f.onHeadersReceived),4===g.readyState&&a in this.pendingRequests){if(delete this.pendingRequests[a],0===g.status&&this.isHttp){null===(c=f.onError)|| void 0===c||c.call(f,g.status);return}var h,i=g.status||p;if(!(i===p&&f.expectedStatus===q)&&i!==f.expectedStatus){null===(d=f.onError)|| void 0===d||d.call(f,g.status);return}var j=r(g);if(i===q){var k=g.getResponseHeader("Content-Range"),l=/bytes (\d+)-(\d+)\/(\d+)/.exec(k);f.onDone({begin:parseInt(l[1],10),chunk:j})}else j?f.onDone({begin:0,chunk:j}):null===(e=f.onError)|| void 0===e||e.call(f,g.status)}}}},{key:"getRequestXhr",value:function(a){return this.pendingRequests[a].xhr}},{key:"isPendingRequest",value:function(a){return a in this.pendingRequests}},{key:"abortRequest",value:function(a){var b=this.pendingRequests[a].xhr;delete this.pendingRequests[a],b.abort()}}]),a}(),t=function(){function a(b){m(this,a),this._source=b,this._manager=new s(b.url,{httpHeaders:b.httpHeaders,withCredentials:b.withCredentials}),this._rangeChunkSize=b.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}return o(a,[{key:"_onRangeRequestReaderClosed",value:function(a){var b=this._rangeRequestReaders.indexOf(a);b>=0&&this._rangeRequestReaders.splice(b,1)}},{key:"getFullReader",value:function(){return(0,e.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new u(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(a,b){var c=new v(this._manager,a,b);return c.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(c),c}},{key:"cancelAllRequests",value:function(a){null===(b=this._fullRequestReader)|| void 0===b||b.cancel(a);var b,c,d=j(this._rangeRequestReaders.slice(0));try{for(d.s();!(c=d.n()).done;)c.value.cancel(a)}catch(e){d.e(e)}finally{d.f()}}}]),a}();b.PDFNetworkStream=t;var u=function(){function a(b,c){m(this,a),this._manager=b;var d={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=c.url,this._fullRequestId=b.requestFull(d),this._headersReceivedCapability=(0,e.createPromiseCapability)(),this._disableRange=c.disableRange||!1,this._contentLength=c.length,this._rangeChunkSize=c.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}return o(a,[{key:"_onHeadersReceived",value:function(){var a=this._fullRequestId,b=this._manager.getRequestXhr(a),c=function(a){return b.getResponseHeader(a)},d=(0,f.validateRangeRequestCapabilities)({getResponseHeader:c,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),e=d.allowRangeRequests,g=d.suggestedLength;e&&(this._isRangeSupported=!0),this._contentLength=g||this._contentLength,this._filename=(0,f.extractFilenameFromHeader)(c),this._isRangeSupported&&this._manager.abortRequest(a),this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(a){if(a&&(this._requests.length>0?this._requests.shift().resolve({value:a.chunk,done:!1}):this._cachedChunks.push(a.chunk)),this._done=!0,!(this._cachedChunks.length>0)){var b,c,d,e=j(this._requests);try{for(e.s();!(d=e.n()).done;)d.value.resolve({value:void 0,done:!0})}catch(f){e.e(f)}finally{e.f()}this._requests.length=0}}},{key:"_onError",value:function(a){this._storedError=(0,f.createResponseStatusError)(a,this._url),this._headersReceivedCapability.reject(this._storedError);var b,c=j(this._requests);try{for(c.s();!(b=c.n()).done;)b.value.reject(this._storedError)}catch(d){c.e(d)}finally{c.f()}this._requests.length=0,this._cachedChunks.length=0}},{key:"_onProgress",value:function(a){var b;null===(b=this.onProgress)|| void 0===b||b.call(this,{loaded:a.loaded,total:a.lengthComputable?a.total:this._contentLength})}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}},{key:"read",value:function(){var a=i(d.default.mark(function a(){var b,c;return d.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this._storedError){a.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){a.next=5;break}return b=this._cachedChunks.shift(),a.abrupt("return",{value:b,done:!1});case 5:if(!this._done){a.next=7;break}return a.abrupt("return",{value:void 0,done:!0});case 7:return c=(0,e.createPromiseCapability)(),this._requests.push(c),a.abrupt("return",c.promise);case 10:case"end":return a.stop()}},a,this)}));function b(){return a.apply(this,arguments)}return b}()},{key:"cancel",value:function(a){this._done=!0,this._headersReceivedCapability.reject(a);var b,c=j(this._requests);try{for(c.s();!(b=c.n()).done;)b.value.resolve({value:void 0,done:!0})}catch(d){c.e(d)}finally{c.f()}this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}]),a}(),v=function(){function a(b,c,d){m(this,a),this._manager=b;var e={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=b.url,this._requestId=b.requestRange(c,d,e),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}return o(a,[{key:"_close",value:function(){var a;null===(a=this.onClosed)|| void 0===a||a.call(this,this)}},{key:"_onDone",value:function(a){var b=a.chunk;this._requests.length>0?this._requests.shift().resolve({value:b,done:!1}):this._queuedChunk=b,this._done=!0;var c,d=j(this._requests);try{for(d.s();!(c=d.n()).done;)c.value.resolve({value:void 0,done:!0})}catch(e){d.e(e)}finally{d.f()}this._requests.length=0,this._close()}},{key:"_onError",value:function(a){this._storedError=(0,f.createResponseStatusError)(a,this._url);var b,c=j(this._requests);try{for(c.s();!(b=c.n()).done;)b.value.reject(this._storedError)}catch(d){c.e(d)}finally{c.f()}this._requests.length=0,this._queuedChunk=null}},{key:"_onProgress",value:function(a){if(!this.isStreamingSupported){var b;null===(b=this.onProgress)|| void 0===b||b.call(this,{loaded:a.loaded})}}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:function(){var a=i(d.default.mark(function a(){var b,c;return d.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this._storedError){a.next=2;break}throw this._storedError;case 2:if(!(null!==this._queuedChunk)){a.next=6;break}return b=this._queuedChunk,this._queuedChunk=null,a.abrupt("return",{value:b,done:!1});case 6:if(!this._done){a.next=8;break}return a.abrupt("return",{value:void 0,done:!0});case 8:return c=(0,e.createPromiseCapability)(),this._requests.push(c),a.abrupt("return",c.promise);case 11:case"end":return a.stop()}},a,this)}));function b(){return a.apply(this,arguments)}return b}()},{key:"cancel",value:function(a){this._done=!0;var b,c=j(this._requests);try{for(c.s();!(b=c.n()).done;)b.value.resolve({value:void 0,done:!0})}catch(d){c.e(d)}finally{c.f()}this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}]),a}()},(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.PDFFetchStream=void 0;var d=g(c(2)),e=c(4),f=c(154);function g(a){return a&&a.__esModule?a:{default:a}}function h(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function i(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){h(f,d,e,g,i,"next",a)}function i(a){h(f,d,e,g,i,"throw",a)}g(void 0)})}}function j(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=k(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var d=0,e=function(){};return{s:e,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:e}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function(){c=c.call(a)},n:function(){var a=c.next();return g=a.done,a},e:function(a){h=!0,f=a},f:function(){try{g||null==c.return||c.return()}finally{if(h)throw f}}}}function k(a,b){if(a){if("string"==typeof a)return l(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return l(a,b)}}function l(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function m(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function n(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function o(a,b,c){return b&&n(a.prototype,b),c&&n(a,c),a}function p(a,b,c){return{method:"GET",headers:a,signal:null==c?void 0:c.signal,mode:"cors",credentials:b?"include":"same-origin",redirect:"follow"}}function q(a){var b=new Headers;for(var c in a){var d=a[c];void 0!==d&&b.append(c,d)}return b}var r=function(){function a(b){m(this,a),this.source=b,this.isHttp=/^https?:/i.test(b.url),this.httpHeaders=this.isHttp&&b.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return o(a,[{key:"_progressiveDataLength",get:function(){var a,b;return null!==(a=null===(b=this._fullRequestReader)|| void 0===b?void 0:b._loaded)&& void 0!==a?a:0}},{key:"getFullReader",value:function(){return(0,e.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new s(this),this._fullRequestReader}},{key:"getRangeReader",value:function(a,b){if(b<=this._progressiveDataLength)return null;var c=new t(this,a,b);return this._rangeRequestReaders.push(c),c}},{key:"cancelAllRequests",value:function(a){this._fullRequestReader&&this._fullRequestReader.cancel(a);var b,c=j(this._rangeRequestReaders.slice(0));try{for(c.s();!(b=c.n()).done;)b.value.cancel(a)}catch(d){c.e(d)}finally{c.f()}}}]),a}();b.PDFFetchStream=r;var s=function(){function a(b){var c=this;m(this,a),this._stream=b,this._reader=null,this._loaded=0,this._filename=null;var d=b.source;this._withCredentials=d.withCredentials||!1,this._contentLength=d.length,this._headersCapability=(0,e.createPromiseCapability)(),this._disableRange=d.disableRange||!1,this._rangeChunkSize=d.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!d.disableStream,this._isRangeSupported=!d.disableRange,this._headers=q(this._stream.httpHeaders);var g=d.url;fetch(g,p(this._headers,this._withCredentials,this._abortController)).then(function(a){if(!(0,f.validateResponseStatus)(a.status))throw(0,f.createResponseStatusError)(a.status,g);c._reader=a.body.getReader(),c._headersCapability.resolve();var b=function(b){return a.headers.get(b)},d=(0,f.validateRangeRequestCapabilities)({getResponseHeader:b,isHttp:c._stream.isHttp,rangeChunkSize:c._rangeChunkSize,disableRange:c._disableRange}),h=d.allowRangeRequests,i=d.suggestedLength;c._isRangeSupported=h,c._contentLength=i||c._contentLength,c._filename=(0,f.extractFilenameFromHeader)(b),!c._isStreamingSupported&&c._isRangeSupported&&c.cancel(new e.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}return o(a,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var a=i(d.default.mark(function a(){var b,c,e,f;return d.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this._headersCapability.promise;case 2:return a.next=4,this._reader.read();case 4:if(c=(b=a.sent).value,e=b.done,!e){a.next=9;break}return a.abrupt("return",{value:c,done:e});case 9:return this._loaded+=c.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),f=new Uint8Array(c).buffer,a.abrupt("return",{value:f,done:!1});case 13:case"end":return a.stop()}},a,this)}));function b(){return a.apply(this,arguments)}return b}()},{key:"cancel",value:function(a){this._reader&&this._reader.cancel(a),this._abortController&&this._abortController.abort()}}]),a}(),t=function(){function a(b,c,d){var g=this;m(this,a),this._stream=b,this._reader=null,this._loaded=0;var h=b.source;this._withCredentials=h.withCredentials||!1,this._readCapability=(0,e.createPromiseCapability)(),this._isStreamingSupported=!h.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=q(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(c,"-").concat(d-1));var i=h.url;fetch(i,p(this._headers,this._withCredentials,this._abortController)).then(function(a){if(!(0,f.validateResponseStatus)(a.status))throw(0,f.createResponseStatusError)(a.status,i);g._readCapability.resolve(),g._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}return o(a,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var a=i(d.default.mark(function a(){var b,c,e,f;return d.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this._readCapability.promise;case 2:return a.next=4,this._reader.read();case 4:if(c=(b=a.sent).value,e=b.done,!e){a.next=9;break}return a.abrupt("return",{value:c,done:e});case 9:return this._loaded+=c.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),f=new Uint8Array(c).buffer,a.abrupt("return",{value:f,done:!1});case 13:case"end":return a.stop()}},a,this)}));function b(){return a.apply(this,arguments)}return b}()},{key:"cancel",value:function(a){this._reader&&this._reader.cancel(a),this._abortController&&this._abortController.abort()}}]),a}()}],__webpack_module_cache__={};function __w_pdfjs_require__(a){var b=__webpack_module_cache__[a];if(void 0!==b)return b.exports;var c=__webpack_module_cache__[a]={id:a,loaded:!1,exports:{}};return __webpack_modules__[a].call(c.exports,c,c.exports,__w_pdfjs_require__),c.loaded=!0,c.exports}__w_pdfjs_require__.nmd=a=>(a.paths=[],a.children||(a.children=[]),a);var __webpack_exports__={};return(()=>{"use strict";var a=__webpack_exports__;Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"AnnotationLayer",{enumerable:!0,get:function(){return e.AnnotationLayer}}),Object.defineProperty(a,"AnnotationMode",{enumerable:!0,get:function(){return c.AnnotationMode}}),Object.defineProperty(a,"CMapCompressionType",{enumerable:!0,get:function(){return c.CMapCompressionType}}),Object.defineProperty(a,"GlobalWorkerOptions",{enumerable:!0,get:function(){return f.GlobalWorkerOptions}}),Object.defineProperty(a,"InvalidPDFException",{enumerable:!0,get:function(){return c.InvalidPDFException}}),Object.defineProperty(a,"LinkTarget",{enumerable:!0,get:function(){return b.LinkTarget}}),Object.defineProperty(a,"LoopbackPort",{enumerable:!0,get:function(){return d.LoopbackPort}}),Object.defineProperty(a,"MissingPDFException",{enumerable:!0,get:function(){return c.MissingPDFException}}),Object.defineProperty(a,"OPS",{enumerable:!0,get:function(){return c.OPS}}),Object.defineProperty(a,"PDFDataRangeTransport",{enumerable:!0,get:function(){return d.PDFDataRangeTransport}}),Object.defineProperty(a,"PDFDateString",{enumerable:!0,get:function(){return b.PDFDateString}}),Object.defineProperty(a,"PDFWorker",{enumerable:!0,get:function(){return d.PDFWorker}}),Object.defineProperty(a,"PasswordResponses",{enumerable:!0,get:function(){return c.PasswordResponses}}),Object.defineProperty(a,"PermissionFlag",{enumerable:!0,get:function(){return c.PermissionFlag}}),Object.defineProperty(a,"PixelsPerInch",{enumerable:!0,get:function(){return b.PixelsPerInch}}),Object.defineProperty(a,"RenderingCancelledException",{enumerable:!0,get:function(){return b.RenderingCancelledException}}),Object.defineProperty(a,"SVGGraphics",{enumerable:!0,get:function(){return i.SVGGraphics}}),Object.defineProperty(a,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return c.UNSUPPORTED_FEATURES}}),Object.defineProperty(a,"UnexpectedResponseException",{enumerable:!0,get:function(){return c.UnexpectedResponseException}}),Object.defineProperty(a,"Util",{enumerable:!0,get:function(){return c.Util}}),Object.defineProperty(a,"VerbosityLevel",{enumerable:!0,get:function(){return c.VerbosityLevel}}),Object.defineProperty(a,"XfaLayer",{enumerable:!0,get:function(){return j.XfaLayer}}),Object.defineProperty(a,"addLinkAttributes",{enumerable:!0,get:function(){return b.addLinkAttributes}}),Object.defineProperty(a,"build",{enumerable:!0,get:function(){return d.build}}),Object.defineProperty(a,"createObjectURL",{enumerable:!0,get:function(){return c.createObjectURL}}),Object.defineProperty(a,"createPromiseCapability",{enumerable:!0,get:function(){return c.createPromiseCapability}}),Object.defineProperty(a,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return c.createValidAbsoluteUrl}}),Object.defineProperty(a,"getDocument",{enumerable:!0,get:function(){return d.getDocument}}),Object.defineProperty(a,"getFilenameFromUrl",{enumerable:!0,get:function(){return b.getFilenameFromUrl}}),Object.defineProperty(a,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return b.getPdfFilenameFromUrl}}),Object.defineProperty(a,"getXfaPageViewport",{enumerable:!0,get:function(){return b.getXfaPageViewport}}),Object.defineProperty(a,"isPdfFile",{enumerable:!0,get:function(){return b.isPdfFile}}),Object.defineProperty(a,"loadScript",{enumerable:!0,get:function(){return b.loadScript}}),Object.defineProperty(a,"removeNullCharacters",{enumerable:!0,get:function(){return c.removeNullCharacters}}),Object.defineProperty(a,"renderTextLayer",{enumerable:!0,get:function(){return h.renderTextLayer}}),Object.defineProperty(a,"shadow",{enumerable:!0,get:function(){return c.shadow}}),Object.defineProperty(a,"version",{enumerable:!0,get:function(){return d.version}});var b=__w_pdfjs_require__(1),c=__w_pdfjs_require__(4),d=__w_pdfjs_require__(136),e=__w_pdfjs_require__(148),f=__w_pdfjs_require__(142),g=__w_pdfjs_require__(6),h=__w_pdfjs_require__(151),i=__w_pdfjs_require__(152),j=__w_pdfjs_require__(150);if(g.isNodeJS){var k=__w_pdfjs_require__(153).PDFNodeStream;(0,d.setPDFNetworkStreamFactory)(function(a){return new k(a)})}else{var l=__w_pdfjs_require__(156).PDFNetworkStream,m=__w_pdfjs_require__(157).PDFFetchStream;(0,d.setPDFNetworkStreamFactory)(function(a){return(0,b.isValidFetchUrl)(a.url)?new m(a):new l(a)})}})(),__webpack_exports__})()})}}])
//# sourceMappingURL=b3dc2c9a-a72b9dd8dcf27376.js.map